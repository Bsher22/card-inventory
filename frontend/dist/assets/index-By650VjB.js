var Zc=e=>{throw TypeError(e)};var si=(e,t,s)=>t.has(e)||Zc("Cannot "+s);var _=(e,t,s)=>(si(e,t,"read from private field"),s?s.call(e):t.get(e)),B=(e,t,s)=>t.has(e)?Zc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),A=(e,t,s,r)=>(si(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),V=(e,t,s)=>(si(e,t,"access private method"),s);var vl=(e,t,s,r)=>({set _(l){A(e,t,l,s)},get _(){return _(e,t,r)}});function Xp(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(r,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=s(l);fetch(l.href,a)}})();function Zp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eh={exports:{}},za={},th={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml=Symbol.for("react.element"),ef=Symbol.for("react.portal"),tf=Symbol.for("react.fragment"),nf=Symbol.for("react.strict_mode"),sf=Symbol.for("react.profiler"),rf=Symbol.for("react.provider"),lf=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),of=Symbol.for("react.suspense"),cf=Symbol.for("react.memo"),uf=Symbol.for("react.lazy"),eu=Symbol.iterator;function df(e){return e===null||typeof e!="object"?null:(e=eu&&e[eu]||e["@@iterator"],typeof e=="function"?e:null)}var nh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sh=Object.assign,rh={};function cr(e,t,s){this.props=e,this.context=t,this.refs=rh,this.updater=s||nh}cr.prototype.isReactComponent={};cr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lh(){}lh.prototype=cr.prototype;function Vo(e,t,s){this.props=e,this.context=t,this.refs=rh,this.updater=s||nh}var Ho=Vo.prototype=new lh;Ho.constructor=Vo;sh(Ho,cr.prototype);Ho.isPureReactComponent=!0;var tu=Array.isArray,ah=Object.prototype.hasOwnProperty,Wo={current:null},ih={key:!0,ref:!0,__self:!0,__source:!0};function oh(e,t,s){var r,l={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)ah.call(t,r)&&!ih.hasOwnProperty(r)&&(l[r]=t[r]);var c=arguments.length-2;if(c===1)l.children=s;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];l.children=o}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)l[r]===void 0&&(l[r]=c[r]);return{$$typeof:ml,type:e,key:a,ref:i,props:l,_owner:Wo.current}}function hf(e,t){return{$$typeof:ml,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Go(e){return typeof e=="object"&&e!==null&&e.$$typeof===ml}function mf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var nu=/\/+/g;function ri(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mf(""+e.key):t.toString(36)}function ql(e,t,s,r,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ml:case ef:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+ri(i,0):r,tu(l)?(s="",e!=null&&(s=e.replace(nu,"$&/")+"/"),ql(l,t,s,"",function(u){return u})):l!=null&&(Go(l)&&(l=hf(l,s+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(nu,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",tu(e))for(var c=0;c<e.length;c++){a=e[c];var o=r+ri(a,c);i+=ql(a,t,s,o,l)}else if(o=df(e),typeof o=="function")for(e=o.call(e),c=0;!(a=e.next()).done;)a=a.value,o=r+ri(a,c++),i+=ql(a,t,s,o,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function bl(e,t,s){if(e==null)return e;var r=[],l=0;return ql(e,r,"","",function(a){return t.call(s,a,l++)}),r}function pf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},Ul={transition:null},ff={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Ul,ReactCurrentOwner:Wo};function ch(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:bl,forEach:function(e,t,s){bl(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return bl(e,function(){t++}),t},toArray:function(e){return bl(e,function(t){return t})||[]},only:function(e){if(!Go(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=cr;G.Fragment=tf;G.Profiler=sf;G.PureComponent=Vo;G.StrictMode=nf;G.Suspense=of;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ff;G.act=ch;G.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sh({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Wo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)ah.call(t,o)&&!ih.hasOwnProperty(o)&&(r[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)r.children=s;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:ml,type:e.type,key:l,ref:a,props:r,_owner:i}};G.createContext=function(e){return e={$$typeof:lf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rf,_context:e},e.Consumer=e};G.createElement=oh;G.createFactory=function(e){var t=oh.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:af,render:e}};G.isValidElement=Go;G.lazy=function(e){return{$$typeof:uf,_payload:{_status:-1,_result:e},_init:pf}};G.memo=function(e,t){return{$$typeof:cf,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Ul.transition;Ul.transition={};try{e()}finally{Ul.transition=t}};G.unstable_act=ch;G.useCallback=function(e,t){return Qe.current.useCallback(e,t)};G.useContext=function(e){return Qe.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};G.useEffect=function(e,t){return Qe.current.useEffect(e,t)};G.useId=function(){return Qe.current.useId()};G.useImperativeHandle=function(e,t,s){return Qe.current.useImperativeHandle(e,t,s)};G.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Qe.current.useMemo(e,t)};G.useReducer=function(e,t,s){return Qe.current.useReducer(e,t,s)};G.useRef=function(e){return Qe.current.useRef(e)};G.useState=function(e){return Qe.current.useState(e)};G.useSyncExternalStore=function(e,t,s){return Qe.current.useSyncExternalStore(e,t,s)};G.useTransition=function(){return Qe.current.useTransition()};G.version="18.3.1";th.exports=G;var y=th.exports;const uh=Zp(y),xf=Xp({__proto__:null,default:uh},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=y,yf=Symbol.for("react.element"),vf=Symbol.for("react.fragment"),bf=Object.prototype.hasOwnProperty,jf=gf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nf={key:!0,ref:!0,__self:!0,__source:!0};function dh(e,t,s){var r,l={},a=null,i=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)bf.call(t,r)&&!Nf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:yf,type:e,key:a,ref:i,props:l,_owner:jf.current}}za.Fragment=vf;za.jsx=dh;za.jsxs=dh;eh.exports=za;var n=eh.exports,zi={},hh={exports:{}},ot={},mh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,F){var D=z.length;z.push(F);e:for(;0<D;){var K=D-1>>>1,J=z[K];if(0<l(J,F))z[K]=F,z[D]=J,D=K;else break e}}function s(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var F=z[0],D=z.pop();if(D!==F){z[0]=D;e:for(var K=0,J=z.length,he=J>>>1;K<he;){var ze=2*(K+1)-1,ne=z[ze],st=ze+1,ut=z[st];if(0>l(ne,D))st<J&&0>l(ut,ne)?(z[K]=ut,z[st]=D,K=st):(z[K]=ne,z[ze]=D,K=ze);else if(st<J&&0>l(ut,D))z[K]=ut,z[st]=D,K=st;else break e}}return F}function l(z,F){var D=z.sortIndex-F.sortIndex;return D!==0?D:z.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],u=[],m=1,h=null,p=3,f=!1,b=!1,j=!1,w=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(z){for(var F=s(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=z)r(u),F.sortIndex=F.expirationTime,t(o,F);else break;F=s(u)}}function N(z){if(j=!1,v(z),!b)if(s(o)!==null)b=!0,L(C);else{var F=s(u);F!==null&&P(N,F.startTime-z)}}function C(z,F){b=!1,j&&(j=!1,d(E),E=-1),f=!0;var D=p;try{for(v(F),h=s(o);h!==null&&(!(h.expirationTime>F)||z&&!g());){var K=h.callback;if(typeof K=="function"){h.callback=null,p=h.priorityLevel;var J=K(h.expirationTime<=F);F=e.unstable_now(),typeof J=="function"?h.callback=J:h===s(o)&&r(o),v(F)}else r(o);h=s(o)}if(h!==null)var he=!0;else{var ze=s(u);ze!==null&&P(N,ze.startTime-F),he=!1}return he}finally{h=null,p=D,f=!1}}var k=!1,I=null,E=-1,T=5,S=-1;function g(){return!(e.unstable_now()-S<T)}function M(){if(I!==null){var z=e.unstable_now();S=z;var F=!0;try{F=I(!0,z)}finally{F?q():(k=!1,I=null)}}else k=!1}var q;if(typeof x=="function")q=function(){x(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=M,q=function(){Y.postMessage(null)}}else q=function(){w(M,0)};function L(z){I=z,k||(k=!0,q())}function P(z,F){E=w(function(){z(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){b||f||(b=!0,L(C))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return s(o)},e.unstable_next=function(z){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var D=p;p=F;try{return z()}finally{p=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,F){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var D=p;p=z;try{return F()}finally{p=D}},e.unstable_scheduleCallback=function(z,F,D){var K=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?K+D:K):D=K,z){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=D+J,z={id:m++,callback:F,priorityLevel:z,startTime:D,expirationTime:J,sortIndex:-1},D>K?(z.sortIndex=D,t(u,z),s(o)===null&&z===s(u)&&(j?(d(E),E=-1):j=!0,P(N,D-K))):(z.sortIndex=J,t(o,z),b||f||(b=!0,L(C))),z},e.unstable_shouldYield=g,e.unstable_wrapCallback=function(z){var F=p;return function(){var D=p;p=F;try{return z.apply(this,arguments)}finally{p=D}}}})(ph);mh.exports=ph;var wf=mh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f=y,it=wf;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fh=new Set,$r={};function xs(e,t){tr(e,t),tr(e+"Capture",t)}function tr(e,t){for($r[e]=t,e=0;e<t.length;e++)fh.add(t[e])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fi=Object.prototype.hasOwnProperty,Sf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,su={},ru={};function kf(e){return Fi.call(ru,e)?!0:Fi.call(su,e)?!1:Sf.test(e)?ru[e]=!0:(su[e]=!0,!1)}function Cf(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pf(e,t,s,r){if(t===null||typeof t>"u"||Cf(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,s,r,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yo=/[\-:]([a-z])/g;function Jo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yo,Jo);Te[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yo,Jo);Te[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yo,Jo);Te[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xo(e,t,s,r){var l=Te.hasOwnProperty(t)?Te[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pf(t,s,l,r)&&(s=null),r||l===null?kf(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):l.mustUseProperty?e[l.propertyName]=s===null?l.type===3?!1:"":s:(t=l.attributeName,r=l.attributeNamespace,s===null?e.removeAttribute(t):(l=l.type,s=l===3||l===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var rn=_f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jl=Symbol.for("react.element"),ws=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),Zo=Symbol.for("react.strict_mode"),Mi=Symbol.for("react.profiler"),xh=Symbol.for("react.provider"),gh=Symbol.for("react.context"),ec=Symbol.for("react.forward_ref"),Oi=Symbol.for("react.suspense"),Ri=Symbol.for("react.suspense_list"),tc=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),yh=Symbol.for("react.offscreen"),lu=Symbol.iterator;function xr(e){return e===null||typeof e!="object"?null:(e=lu&&e[lu]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,li;function _r(e){if(li===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);li=t&&t[1]||""}return`
`+li+e}var ai=!1;function ii(e,t){if(!e||ai)return"";ai=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=r.stack.split(`
`),i=l.length-1,c=a.length-1;1<=i&&0<=c&&l[i]!==a[c];)c--;for(;1<=i&&0<=c;i--,c--)if(l[i]!==a[c]){if(i!==1||c!==1)do if(i--,c--,0>c||l[i]!==a[c]){var o=`
`+l[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=c);break}}}finally{ai=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?_r(e):""}function Ef(e){switch(e.tag){case 5:return _r(e.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 2:case 15:return e=ii(e.type,!1),e;case 11:return e=ii(e.type.render,!1),e;case 1:return e=ii(e.type,!0),e;default:return""}}function Li(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _s:return"Fragment";case ws:return"Portal";case Mi:return"Profiler";case Zo:return"StrictMode";case Oi:return"Suspense";case Ri:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gh:return(e.displayName||"Context")+".Consumer";case xh:return(e._context.displayName||"Context")+".Provider";case ec:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tc:return t=e.displayName||null,t!==null?t:Li(e.type)||"Memo";case un:t=e._payload,e=e._init;try{return Li(e(t))}catch{}}return null}function If(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Li(t);case 8:return t===Zo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tf(e){var t=vh(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nl(e){e._valueTracker||(e._valueTracker=Tf(e))}function bh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=vh(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function ta(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Di(e,t){var s=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function au(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=Rn(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jh(e,t){t=t.checked,t!=null&&Xo(e,"checked",t,!1)}function Ai(e,t){jh(e,t);var s=Rn(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$i(e,t.type,s):t.hasOwnProperty("defaultValue")&&$i(e,t.type,Rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iu(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function $i(e,t,s){(t!=="number"||ta(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Sr=Array.isArray;function Os(e,t,s,r){if(e=e.options,t){t={};for(var l=0;l<s.length;l++)t["$"+s[l]]=!0;for(s=0;s<e.length;s++)l=t.hasOwnProperty("$"+e[s].value),e[s].selected!==l&&(e[s].selected=l),l&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Rn(s),t=null,l=0;l<e.length;l++){if(e[l].value===s){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function qi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ou(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(R(92));if(Sr(s)){if(1<s.length)throw Error(R(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Rn(s)}}function Nh(e,t){var s=Rn(t.value),r=Rn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function cu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ui(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wl,_h=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wl=wl||document.createElement("div"),wl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qr(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zf=["Webkit","ms","Moz","O"];Object.keys(Tr).forEach(function(e){zf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tr[t]=Tr[e]})});function Sh(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Tr.hasOwnProperty(e)&&Tr[e]?(""+t).trim():t+"px"}function kh(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,l=Sh(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,l):e[s]=l}}var Ff=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bi(e,t){if(t){if(Ff[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Qi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ki=null;function nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vi=null,Rs=null,Ls=null;function uu(e){if(e=xl(e)){if(typeof Vi!="function")throw Error(R(280));var t=e.stateNode;t&&(t=La(t),Vi(e.stateNode,e.type,t))}}function Ch(e){Rs?Ls?Ls.push(e):Ls=[e]:Rs=e}function Ph(){if(Rs){var e=Rs,t=Ls;if(Ls=Rs=null,uu(e),t)for(e=0;e<t.length;e++)uu(t[e])}}function Eh(e,t){return e(t)}function Ih(){}var oi=!1;function Th(e,t,s){if(oi)return e(t,s);oi=!0;try{return Eh(e,t,s)}finally{oi=!1,(Rs!==null||Ls!==null)&&(Ih(),Ph())}}function Ur(e,t){var s=e.stateNode;if(s===null)return null;var r=La(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(R(231,t,typeof s));return s}var Hi=!1;if(Zt)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{Hi=!1}function Mf(e,t,s,r,l,a,i,c,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(s,u)}catch(m){this.onError(m)}}var zr=!1,na=null,sa=!1,Wi=null,Of={onError:function(e){zr=!0,na=e}};function Rf(e,t,s,r,l,a,i,c,o){zr=!1,na=null,Mf.apply(Of,arguments)}function Lf(e,t,s,r,l,a,i,c,o){if(Rf.apply(this,arguments),zr){if(zr){var u=na;zr=!1,na=null}else throw Error(R(198));sa||(sa=!0,Wi=u)}}function gs(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function zh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function du(e){if(gs(e)!==e)throw Error(R(188))}function Df(e){var t=e.alternate;if(!t){if(t=gs(e),t===null)throw Error(R(188));return t!==e?null:e}for(var s=e,r=t;;){var l=s.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){s=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===s)return du(l),e;if(a===r)return du(l),t;a=a.sibling}throw Error(R(188))}if(s.return!==r.return)s=l,r=a;else{for(var i=!1,c=l.child;c;){if(c===s){i=!0,s=l,r=a;break}if(c===r){i=!0,r=l,s=a;break}c=c.sibling}if(!i){for(c=a.child;c;){if(c===s){i=!0,s=a,r=l;break}if(c===r){i=!0,r=a,s=l;break}c=c.sibling}if(!i)throw Error(R(189))}}if(s.alternate!==r)throw Error(R(190))}if(s.tag!==3)throw Error(R(188));return s.stateNode.current===s?e:t}function Fh(e){return e=Df(e),e!==null?Mh(e):null}function Mh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mh(e);if(t!==null)return t;e=e.sibling}return null}var Oh=it.unstable_scheduleCallback,hu=it.unstable_cancelCallback,Af=it.unstable_shouldYield,$f=it.unstable_requestPaint,fe=it.unstable_now,qf=it.unstable_getCurrentPriorityLevel,sc=it.unstable_ImmediatePriority,Rh=it.unstable_UserBlockingPriority,ra=it.unstable_NormalPriority,Uf=it.unstable_LowPriority,Lh=it.unstable_IdlePriority,Fa=null,Ot=null;function Bf(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Fa,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Vf,Qf=Math.log,Kf=Math.LN2;function Vf(e){return e>>>=0,e===0?32:31-(Qf(e)/Kf|0)|0}var _l=64,Sl=4194304;function kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function la(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=s&268435455;if(i!==0){var c=i&~l;c!==0?r=kr(c):(a&=i,a!==0&&(r=kr(a)))}else i=s&~l,i!==0?r=kr(i):a!==0&&(r=kr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-kt(t),l=1<<s,r|=e[s],t&=~l;return r}function Hf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wf(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-kt(a),c=1<<i,o=l[i];o===-1?(!(c&s)||c&r)&&(l[i]=Hf(c,t)):o<=t&&(e.expiredLanes|=c),a&=~c}}function Gi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dh(){var e=_l;return _l<<=1,!(_l&4194240)&&(_l=64),e}function ci(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function pl(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=s}function Gf(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var l=31-kt(s),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,s&=~a}}function rc(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-kt(s),l=1<<r;l&t|e[r]&t&&(e[r]|=t),s&=~l}}var te=0;function Ah(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $h,lc,qh,Uh,Bh,Yi=!1,kl=[],kn=null,Cn=null,Pn=null,Br=new Map,Qr=new Map,hn=[],Yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(e,t){switch(e){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(t.pointerId)}}function yr(e,t,s,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=xl(t),t!==null&&lc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Jf(e,t,s,r,l){switch(t){case"focusin":return kn=yr(kn,e,t,s,r,l),!0;case"dragenter":return Cn=yr(Cn,e,t,s,r,l),!0;case"mouseover":return Pn=yr(Pn,e,t,s,r,l),!0;case"pointerover":var a=l.pointerId;return Br.set(a,yr(Br.get(a)||null,e,t,s,r,l)),!0;case"gotpointercapture":return a=l.pointerId,Qr.set(a,yr(Qr.get(a)||null,e,t,s,r,l)),!0}return!1}function Qh(e){var t=Hn(e.target);if(t!==null){var s=gs(t);if(s!==null){if(t=s.tag,t===13){if(t=zh(s),t!==null){e.blockedOn=t,Bh(e.priority,function(){qh(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Ji(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Ki=r,s.target.dispatchEvent(r),Ki=null}else return t=xl(s),t!==null&&lc(t),e.blockedOn=s,!1;t.shift()}return!0}function pu(e,t,s){Bl(e)&&s.delete(t)}function Xf(){Yi=!1,kn!==null&&Bl(kn)&&(kn=null),Cn!==null&&Bl(Cn)&&(Cn=null),Pn!==null&&Bl(Pn)&&(Pn=null),Br.forEach(pu),Qr.forEach(pu)}function vr(e,t){e.blockedOn===t&&(e.blockedOn=null,Yi||(Yi=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Xf)))}function Kr(e){function t(l){return vr(l,e)}if(0<kl.length){vr(kl[0],e);for(var s=1;s<kl.length;s++){var r=kl[s];r.blockedOn===e&&(r.blockedOn=null)}}for(kn!==null&&vr(kn,e),Cn!==null&&vr(Cn,e),Pn!==null&&vr(Pn,e),Br.forEach(t),Qr.forEach(t),s=0;s<hn.length;s++)r=hn[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<hn.length&&(s=hn[0],s.blockedOn===null);)Qh(s),s.blockedOn===null&&hn.shift()}var Ds=rn.ReactCurrentBatchConfig,aa=!0;function Zf(e,t,s,r){var l=te,a=Ds.transition;Ds.transition=null;try{te=1,ac(e,t,s,r)}finally{te=l,Ds.transition=a}}function ex(e,t,s,r){var l=te,a=Ds.transition;Ds.transition=null;try{te=4,ac(e,t,s,r)}finally{te=l,Ds.transition=a}}function ac(e,t,s,r){if(aa){var l=Ji(e,t,s,r);if(l===null)vi(e,t,r,ia,s),mu(e,r);else if(Jf(l,e,t,s,r))r.stopPropagation();else if(mu(e,r),t&4&&-1<Yf.indexOf(e)){for(;l!==null;){var a=xl(l);if(a!==null&&$h(a),a=Ji(e,t,s,r),a===null&&vi(e,t,r,ia,s),a===l)break;l=a}l!==null&&r.stopPropagation()}else vi(e,t,r,null,s)}}var ia=null;function Ji(e,t,s,r){if(ia=null,e=nc(r),e=Hn(e),e!==null)if(t=gs(e),t===null)e=null;else if(s=t.tag,s===13){if(e=zh(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ia=e,null}function Kh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qf()){case sc:return 1;case Rh:return 4;case ra:case Uf:return 16;case Lh:return 536870912;default:return 16}default:return 16}}var wn=null,ic=null,Ql=null;function Vh(){if(Ql)return Ql;var e,t=ic,s=t.length,r,l="value"in wn?wn.value:wn.textContent,a=l.length;for(e=0;e<s&&t[e]===l[e];e++);var i=s-e;for(r=1;r<=i&&t[s-r]===l[a-r];r++);return Ql=l.slice(e,1<r?1-r:void 0)}function Kl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cl(){return!0}function fu(){return!1}function ct(e){function t(s,r,l,a,i){this._reactName=s,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(s=e[c],this[c]=s?s(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cl:fu,this.isPropagationStopped=fu,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),t}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oc=ct(ur),fl=de({},ur,{view:0,detail:0}),tx=ct(fl),ui,di,br,Ma=de({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(ui=e.screenX-br.screenX,di=e.screenY-br.screenY):di=ui=0,br=e),ui)},movementY:function(e){return"movementY"in e?e.movementY:di}}),xu=ct(Ma),nx=de({},Ma,{dataTransfer:0}),sx=ct(nx),rx=de({},fl,{relatedTarget:0}),hi=ct(rx),lx=de({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),ax=ct(lx),ix=de({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ox=ct(ix),cx=de({},ur,{data:0}),gu=ct(cx),ux={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hx[e])?!!t[e]:!1}function cc(){return mx}var px=de({},fl,{key:function(e){if(e.key){var t=ux[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(e){return e.type==="keypress"?Kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fx=ct(px),xx=de({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=ct(xx),gx=de({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),yx=ct(gx),vx=de({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),bx=ct(vx),jx=de({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nx=ct(jx),wx=[9,13,27,32],uc=Zt&&"CompositionEvent"in window,Fr=null;Zt&&"documentMode"in document&&(Fr=document.documentMode);var _x=Zt&&"TextEvent"in window&&!Fr,Hh=Zt&&(!uc||Fr&&8<Fr&&11>=Fr),vu=" ",bu=!1;function Wh(e,t){switch(e){case"keyup":return wx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function Sx(e,t){switch(e){case"compositionend":return Gh(t);case"keypress":return t.which!==32?null:(bu=!0,vu);case"textInput":return e=t.data,e===vu&&bu?null:e;default:return null}}function kx(e,t){if(Ss)return e==="compositionend"||!uc&&Wh(e,t)?(e=Vh(),Ql=ic=wn=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hh&&t.locale!=="ko"?null:t.data;default:return null}}var Cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cx[e.type]:t==="textarea"}function Yh(e,t,s,r){Ch(r),t=oa(t,"onChange"),0<t.length&&(s=new oc("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Mr=null,Vr=null;function Px(e){im(e,0)}function Oa(e){var t=Ps(e);if(bh(t))return e}function Ex(e,t){if(e==="change")return t}var Jh=!1;if(Zt){var mi;if(Zt){var pi="oninput"in document;if(!pi){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),pi=typeof Nu.oninput=="function"}mi=pi}else mi=!1;Jh=mi&&(!document.documentMode||9<document.documentMode)}function wu(){Mr&&(Mr.detachEvent("onpropertychange",Xh),Vr=Mr=null)}function Xh(e){if(e.propertyName==="value"&&Oa(Vr)){var t=[];Yh(t,Vr,e,nc(e)),Th(Px,t)}}function Ix(e,t,s){e==="focusin"?(wu(),Mr=t,Vr=s,Mr.attachEvent("onpropertychange",Xh)):e==="focusout"&&wu()}function Tx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oa(Vr)}function zx(e,t){if(e==="click")return Oa(t)}function Fx(e,t){if(e==="input"||e==="change")return Oa(t)}function Mx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Mx;function Hr(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var l=s[r];if(!Fi.call(t,l)||!Pt(e[l],t[l]))return!1}return!0}function _u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Su(e,t){var s=_u(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=_u(s)}}function Zh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function em(){for(var e=window,t=ta();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=ta(e.document)}return t}function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ox(e){var t=em(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Zh(s.ownerDocument.documentElement,s)){if(r!==null&&dc(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=s.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=Su(s,a);var i=Su(s,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rx=Zt&&"documentMode"in document&&11>=document.documentMode,ks=null,Xi=null,Or=null,Zi=!1;function ku(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Zi||ks==null||ks!==ta(r)||(r=ks,"selectionStart"in r&&dc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Or&&Hr(Or,r)||(Or=r,r=oa(Xi,"onSelect"),0<r.length&&(t=new oc("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=ks)))}function Pl(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Cs={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionend:Pl("Transition","TransitionEnd")},fi={},tm={};Zt&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function Ra(e){if(fi[e])return fi[e];if(!Cs[e])return e;var t=Cs[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in tm)return fi[e]=t[s];return e}var nm=Ra("animationend"),sm=Ra("animationiteration"),rm=Ra("animationstart"),lm=Ra("transitionend"),am=new Map,Cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(e,t){am.set(e,t),xs(t,[e])}for(var xi=0;xi<Cu.length;xi++){var gi=Cu[xi],Lx=gi.toLowerCase(),Dx=gi[0].toUpperCase()+gi.slice(1);Dn(Lx,"on"+Dx)}Dn(nm,"onAnimationEnd");Dn(sm,"onAnimationIteration");Dn(rm,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(lm,"onTransitionEnd");tr("onMouseEnter",["mouseout","mouseover"]);tr("onMouseLeave",["mouseout","mouseover"]);tr("onPointerEnter",["pointerout","pointerover"]);tr("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ax=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Pu(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,Lf(r,t,void 0,e),e.currentTarget=null}function im(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var c=r[i],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==a&&l.isPropagationStopped())break e;Pu(l,c,u),a=o}else for(i=0;i<r.length;i++){if(c=r[i],o=c.instance,u=c.currentTarget,c=c.listener,o!==a&&l.isPropagationStopped())break e;Pu(l,c,u),a=o}}}if(sa)throw e=Wi,sa=!1,Wi=null,e}function re(e,t){var s=t[ro];s===void 0&&(s=t[ro]=new Set);var r=e+"__bubble";s.has(r)||(om(t,e,2,!1),s.add(r))}function yi(e,t,s){var r=0;t&&(r|=4),om(s,e,r,t)}var El="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[El]){e[El]=!0,fh.forEach(function(s){s!=="selectionchange"&&(Ax.has(s)||yi(s,!1,e),yi(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[El]||(t[El]=!0,yi("selectionchange",!1,t))}}function om(e,t,s,r){switch(Kh(t)){case 1:var l=Zf;break;case 4:l=ex;break;default:l=ac}s=l.bind(null,t,s,e),l=void 0,!Hi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,s,{capture:!0,passive:l}):e.addEventListener(t,s,!0):l!==void 0?e.addEventListener(t,s,{passive:l}):e.addEventListener(t,s,!1)}function vi(e,t,s,r,l){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var c=r.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;i=i.return}for(;c!==null;){if(i=Hn(c),i===null)return;if(o=i.tag,o===5||o===6){r=a=i;continue e}c=c.parentNode}}r=r.return}Th(function(){var u=a,m=nc(s),h=[];e:{var p=am.get(e);if(p!==void 0){var f=oc,b=e;switch(e){case"keypress":if(Kl(s)===0)break e;case"keydown":case"keyup":f=fx;break;case"focusin":b="focus",f=hi;break;case"focusout":b="blur",f=hi;break;case"beforeblur":case"afterblur":f=hi;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=sx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=yx;break;case nm:case sm:case rm:f=ax;break;case lm:f=bx;break;case"scroll":f=tx;break;case"wheel":f=Nx;break;case"copy":case"cut":case"paste":f=ox;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=yu}var j=(t&4)!==0,w=!j&&e==="scroll",d=j?p!==null?p+"Capture":null:p;j=[];for(var x=u,v;x!==null;){v=x;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,d!==null&&(N=Ur(x,d),N!=null&&j.push(Gr(x,N,v)))),w)break;x=x.return}0<j.length&&(p=new f(p,b,null,s,m),h.push({event:p,listeners:j}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&s!==Ki&&(b=s.relatedTarget||s.fromElement)&&(Hn(b)||b[en]))break e;if((f||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,f?(b=s.relatedTarget||s.toElement,f=u,b=b?Hn(b):null,b!==null&&(w=gs(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(f=null,b=u),f!==b)){if(j=xu,N="onMouseLeave",d="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(j=yu,N="onPointerLeave",d="onPointerEnter",x="pointer"),w=f==null?p:Ps(f),v=b==null?p:Ps(b),p=new j(N,x+"leave",f,s,m),p.target=w,p.relatedTarget=v,N=null,Hn(m)===u&&(j=new j(d,x+"enter",b,s,m),j.target=v,j.relatedTarget=w,N=j),w=N,f&&b)t:{for(j=f,d=b,x=0,v=j;v;v=js(v))x++;for(v=0,N=d;N;N=js(N))v++;for(;0<x-v;)j=js(j),x--;for(;0<v-x;)d=js(d),v--;for(;x--;){if(j===d||d!==null&&j===d.alternate)break t;j=js(j),d=js(d)}j=null}else j=null;f!==null&&Eu(h,p,f,j,!1),b!==null&&w!==null&&Eu(h,w,b,j,!0)}}e:{if(p=u?Ps(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var C=Ex;else if(ju(p))if(Jh)C=Fx;else{C=Tx;var k=Ix}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=zx);if(C&&(C=C(e,u))){Yh(h,C,s,m);break e}k&&k(e,p,u),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&$i(p,"number",p.value)}switch(k=u?Ps(u):window,e){case"focusin":(ju(k)||k.contentEditable==="true")&&(ks=k,Xi=u,Or=null);break;case"focusout":Or=Xi=ks=null;break;case"mousedown":Zi=!0;break;case"contextmenu":case"mouseup":case"dragend":Zi=!1,ku(h,s,m);break;case"selectionchange":if(Rx)break;case"keydown":case"keyup":ku(h,s,m)}var I;if(uc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ss?Wh(e,s)&&(E="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(E="onCompositionStart");E&&(Hh&&s.locale!=="ko"&&(Ss||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ss&&(I=Vh()):(wn=m,ic="value"in wn?wn.value:wn.textContent,Ss=!0)),k=oa(u,E),0<k.length&&(E=new gu(E,e,null,s,m),h.push({event:E,listeners:k}),I?E.data=I:(I=Gh(s),I!==null&&(E.data=I)))),(I=_x?Sx(e,s):kx(e,s))&&(u=oa(u,"onBeforeInput"),0<u.length&&(m=new gu("onBeforeInput","beforeinput",null,s,m),h.push({event:m,listeners:u}),m.data=I))}im(h,t)})}function Gr(e,t,s){return{instance:e,listener:t,currentTarget:s}}function oa(e,t){for(var s=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Ur(e,s),a!=null&&r.unshift(Gr(e,a,l)),a=Ur(e,t),a!=null&&r.push(Gr(e,a,l))),e=e.return}return r}function js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eu(e,t,s,r,l){for(var a=t._reactName,i=[];s!==null&&s!==r;){var c=s,o=c.alternate,u=c.stateNode;if(o!==null&&o===r)break;c.tag===5&&u!==null&&(c=u,l?(o=Ur(s,a),o!=null&&i.unshift(Gr(s,o,c))):l||(o=Ur(s,a),o!=null&&i.push(Gr(s,o,c)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var $x=/\r\n?/g,qx=/\u0000|\uFFFD/g;function Iu(e){return(typeof e=="string"?e:""+e).replace($x,`
`).replace(qx,"")}function Il(e,t,s){if(t=Iu(t),Iu(e)!==t&&s)throw Error(R(425))}function ca(){}var eo=null,to=null;function no(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var so=typeof setTimeout=="function"?setTimeout:void 0,Ux=typeof clearTimeout=="function"?clearTimeout:void 0,Tu=typeof Promise=="function"?Promise:void 0,Bx=typeof queueMicrotask=="function"?queueMicrotask:typeof Tu<"u"?function(e){return Tu.resolve(null).then(e).catch(Qx)}:so;function Qx(e){setTimeout(function(){throw e})}function bi(e,t){var s=t,r=0;do{var l=s.nextSibling;if(e.removeChild(s),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(r===0){e.removeChild(l),Kr(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=l}while(s);Kr(t)}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),Mt="__reactFiber$"+dr,Yr="__reactProps$"+dr,en="__reactContainer$"+dr,ro="__reactEvents$"+dr,Kx="__reactListeners$"+dr,Vx="__reactHandles$"+dr;function Hn(e){var t=e[Mt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[en]||s[Mt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=zu(e);e!==null;){if(s=e[Mt])return s;e=zu(e)}return t}e=s,s=e.parentNode}return null}function xl(e){return e=e[Mt]||e[en],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ps(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function La(e){return e[Yr]||null}var lo=[],Es=-1;function An(e){return{current:e}}function le(e){0>Es||(e.current=lo[Es],lo[Es]=null,Es--)}function se(e,t){Es++,lo[Es]=e.current,e.current=t}var Ln={},Le=An(Ln),Xe=An(!1),cs=Ln;function nr(e,t){var s=e.type.contextTypes;if(!s)return Ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in s)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ze(e){return e=e.childContextTypes,e!=null}function ua(){le(Xe),le(Le)}function Fu(e,t,s){if(Le.current!==Ln)throw Error(R(168));se(Le,t),se(Xe,s)}function cm(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(R(108,If(e)||"Unknown",l));return de({},s,r)}function da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,cs=Le.current,se(Le,e),se(Xe,Xe.current),!0}function Mu(e,t,s){var r=e.stateNode;if(!r)throw Error(R(169));s?(e=cm(e,t,cs),r.__reactInternalMemoizedMergedChildContext=e,le(Xe),le(Le),se(Le,e)):le(Xe),se(Xe,s)}var Ut=null,Da=!1,ji=!1;function um(e){Ut===null?Ut=[e]:Ut.push(e)}function Hx(e){Da=!0,um(e)}function $n(){if(!ji&&Ut!==null){ji=!0;var e=0,t=te;try{var s=Ut;for(te=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}Ut=null,Da=!1}catch(l){throw Ut!==null&&(Ut=Ut.slice(e+1)),Oh(sc,$n),l}finally{te=t,ji=!1}}return null}var Is=[],Ts=0,ha=null,ma=0,mt=[],pt=0,us=null,Gt=1,Yt="";function Qn(e,t){Is[Ts++]=ma,Is[Ts++]=ha,ha=e,ma=t}function dm(e,t,s){mt[pt++]=Gt,mt[pt++]=Yt,mt[pt++]=us,us=e;var r=Gt;e=Yt;var l=32-kt(r)-1;r&=~(1<<l),s+=1;var a=32-kt(t)+l;if(30<a){var i=l-l%5;a=(r&(1<<i)-1).toString(32),r>>=i,l-=i,Gt=1<<32-kt(t)+l|s<<l|r,Yt=a+e}else Gt=1<<a|s<<l|r,Yt=e}function hc(e){e.return!==null&&(Qn(e,1),dm(e,1,0))}function mc(e){for(;e===ha;)ha=Is[--Ts],Is[Ts]=null,ma=Is[--Ts],Is[Ts]=null;for(;e===us;)us=mt[--pt],mt[pt]=null,Yt=mt[--pt],mt[pt]=null,Gt=mt[--pt],mt[pt]=null}var at=null,lt=null,ae=!1,St=null;function hm(e,t){var s=xt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Ou(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,lt=En(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=us!==null?{id:Gt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=xt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,at=e,lt=null,!0):!1;default:return!1}}function ao(e){return(e.mode&1)!==0&&(e.flags&128)===0}function io(e){if(ae){var t=lt;if(t){var s=t;if(!Ou(e,t)){if(ao(e))throw Error(R(418));t=En(s.nextSibling);var r=at;t&&Ou(e,t)?hm(r,s):(e.flags=e.flags&-4097|2,ae=!1,at=e)}}else{if(ao(e))throw Error(R(418));e.flags=e.flags&-4097|2,ae=!1,at=e}}}function Ru(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function Tl(e){if(e!==at)return!1;if(!ae)return Ru(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!no(e.type,e.memoizedProps)),t&&(t=lt)){if(ao(e))throw mm(),Error(R(418));for(;t;)hm(e,t),t=En(t.nextSibling)}if(Ru(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){lt=En(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=at?En(e.stateNode.nextSibling):null;return!0}function mm(){for(var e=lt;e;)e=En(e.nextSibling)}function sr(){lt=at=null,ae=!1}function pc(e){St===null?St=[e]:St.push(e)}var Wx=rn.ReactCurrentBatchConfig;function jr(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(R(309));var r=s.stateNode}if(!r)throw Error(R(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var c=l.refs;i===null?delete c[a]:c[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(R(284));if(!s._owner)throw Error(R(290,e))}return e}function zl(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lu(e){var t=e._init;return t(e._payload)}function pm(e){function t(d,x){if(e){var v=d.deletions;v===null?(d.deletions=[x],d.flags|=16):v.push(x)}}function s(d,x){if(!e)return null;for(;x!==null;)t(d,x),x=x.sibling;return null}function r(d,x){for(d=new Map;x!==null;)x.key!==null?d.set(x.key,x):d.set(x.index,x),x=x.sibling;return d}function l(d,x){return d=Fn(d,x),d.index=0,d.sibling=null,d}function a(d,x,v){return d.index=v,e?(v=d.alternate,v!==null?(v=v.index,v<x?(d.flags|=2,x):v):(d.flags|=2,x)):(d.flags|=1048576,x)}function i(d){return e&&d.alternate===null&&(d.flags|=2),d}function c(d,x,v,N){return x===null||x.tag!==6?(x=Pi(v,d.mode,N),x.return=d,x):(x=l(x,v),x.return=d,x)}function o(d,x,v,N){var C=v.type;return C===_s?m(d,x,v.props.children,N,v.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===un&&Lu(C)===x.type)?(N=l(x,v.props),N.ref=jr(d,x,v),N.return=d,N):(N=Xl(v.type,v.key,v.props,null,d.mode,N),N.ref=jr(d,x,v),N.return=d,N)}function u(d,x,v,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Ei(v,d.mode,N),x.return=d,x):(x=l(x,v.children||[]),x.return=d,x)}function m(d,x,v,N,C){return x===null||x.tag!==7?(x=is(v,d.mode,N,C),x.return=d,x):(x=l(x,v),x.return=d,x)}function h(d,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Pi(""+x,d.mode,v),x.return=d,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jl:return v=Xl(x.type,x.key,x.props,null,d.mode,v),v.ref=jr(d,null,x),v.return=d,v;case ws:return x=Ei(x,d.mode,v),x.return=d,x;case un:var N=x._init;return h(d,N(x._payload),v)}if(Sr(x)||xr(x))return x=is(x,d.mode,v,null),x.return=d,x;zl(d,x)}return null}function p(d,x,v,N){var C=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:c(d,x,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jl:return v.key===C?o(d,x,v,N):null;case ws:return v.key===C?u(d,x,v,N):null;case un:return C=v._init,p(d,x,C(v._payload),N)}if(Sr(v)||xr(v))return C!==null?null:m(d,x,v,N,null);zl(d,v)}return null}function f(d,x,v,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return d=d.get(v)||null,c(x,d,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case jl:return d=d.get(N.key===null?v:N.key)||null,o(x,d,N,C);case ws:return d=d.get(N.key===null?v:N.key)||null,u(x,d,N,C);case un:var k=N._init;return f(d,x,v,k(N._payload),C)}if(Sr(N)||xr(N))return d=d.get(v)||null,m(x,d,N,C,null);zl(x,N)}return null}function b(d,x,v,N){for(var C=null,k=null,I=x,E=x=0,T=null;I!==null&&E<v.length;E++){I.index>E?(T=I,I=null):T=I.sibling;var S=p(d,I,v[E],N);if(S===null){I===null&&(I=T);break}e&&I&&S.alternate===null&&t(d,I),x=a(S,x,E),k===null?C=S:k.sibling=S,k=S,I=T}if(E===v.length)return s(d,I),ae&&Qn(d,E),C;if(I===null){for(;E<v.length;E++)I=h(d,v[E],N),I!==null&&(x=a(I,x,E),k===null?C=I:k.sibling=I,k=I);return ae&&Qn(d,E),C}for(I=r(d,I);E<v.length;E++)T=f(I,d,E,v[E],N),T!==null&&(e&&T.alternate!==null&&I.delete(T.key===null?E:T.key),x=a(T,x,E),k===null?C=T:k.sibling=T,k=T);return e&&I.forEach(function(g){return t(d,g)}),ae&&Qn(d,E),C}function j(d,x,v,N){var C=xr(v);if(typeof C!="function")throw Error(R(150));if(v=C.call(v),v==null)throw Error(R(151));for(var k=C=null,I=x,E=x=0,T=null,S=v.next();I!==null&&!S.done;E++,S=v.next()){I.index>E?(T=I,I=null):T=I.sibling;var g=p(d,I,S.value,N);if(g===null){I===null&&(I=T);break}e&&I&&g.alternate===null&&t(d,I),x=a(g,x,E),k===null?C=g:k.sibling=g,k=g,I=T}if(S.done)return s(d,I),ae&&Qn(d,E),C;if(I===null){for(;!S.done;E++,S=v.next())S=h(d,S.value,N),S!==null&&(x=a(S,x,E),k===null?C=S:k.sibling=S,k=S);return ae&&Qn(d,E),C}for(I=r(d,I);!S.done;E++,S=v.next())S=f(I,d,E,S.value,N),S!==null&&(e&&S.alternate!==null&&I.delete(S.key===null?E:S.key),x=a(S,x,E),k===null?C=S:k.sibling=S,k=S);return e&&I.forEach(function(M){return t(d,M)}),ae&&Qn(d,E),C}function w(d,x,v,N){if(typeof v=="object"&&v!==null&&v.type===_s&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case jl:e:{for(var C=v.key,k=x;k!==null;){if(k.key===C){if(C=v.type,C===_s){if(k.tag===7){s(d,k.sibling),x=l(k,v.props.children),x.return=d,d=x;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===un&&Lu(C)===k.type){s(d,k.sibling),x=l(k,v.props),x.ref=jr(d,k,v),x.return=d,d=x;break e}s(d,k);break}else t(d,k);k=k.sibling}v.type===_s?(x=is(v.props.children,d.mode,N,v.key),x.return=d,d=x):(N=Xl(v.type,v.key,v.props,null,d.mode,N),N.ref=jr(d,x,v),N.return=d,d=N)}return i(d);case ws:e:{for(k=v.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){s(d,x.sibling),x=l(x,v.children||[]),x.return=d,d=x;break e}else{s(d,x);break}else t(d,x);x=x.sibling}x=Ei(v,d.mode,N),x.return=d,d=x}return i(d);case un:return k=v._init,w(d,x,k(v._payload),N)}if(Sr(v))return b(d,x,v,N);if(xr(v))return j(d,x,v,N);zl(d,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(s(d,x.sibling),x=l(x,v),x.return=d,d=x):(s(d,x),x=Pi(v,d.mode,N),x.return=d,d=x),i(d)):s(d,x)}return w}var rr=pm(!0),fm=pm(!1),pa=An(null),fa=null,zs=null,fc=null;function xc(){fc=zs=fa=null}function gc(e){var t=pa.current;le(pa),e._currentValue=t}function oo(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function As(e,t){fa=e,fc=zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(fc!==e)if(e={context:e,memoizedValue:t,next:null},zs===null){if(fa===null)throw Error(R(308));zs=e,fa.dependencies={lanes:0,firstContext:e}}else zs=zs.next=e;return t}var Wn=null;function yc(e){Wn===null?Wn=[e]:Wn.push(e)}function xm(e,t,s,r){var l=t.interleaved;return l===null?(s.next=s,yc(t)):(s.next=l.next,l.next=s),t.interleaved=s,tn(e,r)}function tn(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var dn=!1;function vc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function In(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,tn(e,s)}return l=r.interleaved,l===null?(t.next=t,yc(r)):(t.next=l.next,l.next=t),r.interleaved=t,tn(e,s)}function Vl(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,rc(e,s)}}function Du(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var l=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?l=a=i:a=a.next=i,s=s.next}while(s!==null);a===null?l=a=t:a=a.next=t}else l=a=t;s={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function xa(e,t,s,r){var l=e.updateQueue;dn=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var o=c,u=o.next;o.next=null,i===null?a=u:i.next=u,i=o;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==i&&(c===null?m.firstBaseUpdate=u:c.next=u,m.lastBaseUpdate=o))}if(a!==null){var h=l.baseState;i=0,m=u=o=null,c=a;do{var p=c.lane,f=c.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:f,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=e,j=c;switch(p=t,f=s,j.tag){case 1:if(b=j.payload,typeof b=="function"){h=b.call(f,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=j.payload,p=typeof b=="function"?b.call(f,h,p):b,p==null)break e;h=de({},h,p);break e;case 2:dn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,p=l.effects,p===null?l.effects=[c]:p.push(c))}else f={eventTime:f,lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(u=m=f,o=h):m=m.next=f,i|=p;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;p=c,c=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);if(m===null&&(o=h),l.baseState=o,l.firstBaseUpdate=u,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);hs|=i,e.lanes=i,e.memoizedState=h}}function Au(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=s,typeof l!="function")throw Error(R(191,l));l.call(r)}}}var gl={},Rt=An(gl),Jr=An(gl),Xr=An(gl);function Gn(e){if(e===gl)throw Error(R(174));return e}function bc(e,t){switch(se(Xr,t),se(Jr,e),se(Rt,gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ui(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ui(t,e)}le(Rt),se(Rt,t)}function lr(){le(Rt),le(Jr),le(Xr)}function ym(e){Gn(Xr.current);var t=Gn(Rt.current),s=Ui(t,e.type);t!==s&&(se(Jr,e),se(Rt,s))}function jc(e){Jr.current===e&&(le(Rt),le(Jr))}var oe=An(0);function ga(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ni=[];function Nc(){for(var e=0;e<Ni.length;e++)Ni[e]._workInProgressVersionPrimary=null;Ni.length=0}var Hl=rn.ReactCurrentDispatcher,wi=rn.ReactCurrentBatchConfig,ds=0,ce=null,je=null,ke=null,ya=!1,Rr=!1,Zr=0,Gx=0;function Fe(){throw Error(R(321))}function wc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Pt(e[s],t[s]))return!1;return!0}function _c(e,t,s,r,l,a){if(ds=a,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hl.current=e===null||e.memoizedState===null?Zx:e0,e=s(r,l),Rr){a=0;do{if(Rr=!1,Zr=0,25<=a)throw Error(R(301));a+=1,ke=je=null,t.updateQueue=null,Hl.current=t0,e=s(r,l)}while(Rr)}if(Hl.current=va,t=je!==null&&je.next!==null,ds=0,ke=je=ce=null,ya=!1,t)throw Error(R(300));return e}function Sc(){var e=Zr!==0;return Zr=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ce.memoizedState=ke=e:ke=ke.next=e,ke}function vt(){if(je===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=ke===null?ce.memoizedState:ke.next;if(t!==null)ke=t,je=e;else{if(e===null)throw Error(R(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},ke===null?ce.memoizedState=ke=e:ke=ke.next=e}return ke}function el(e,t){return typeof t=="function"?t(e):t}function _i(e){var t=vt(),s=t.queue;if(s===null)throw Error(R(311));s.lastRenderedReducer=e;var r=je,l=r.baseQueue,a=s.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,s.pending=null}if(l!==null){a=l.next,r=r.baseState;var c=i=null,o=null,u=a;do{var m=u.lane;if((ds&m)===m)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=h,i=r):o=o.next=h,ce.lanes|=m,hs|=m}u=u.next}while(u!==null&&u!==a);o===null?i=r:o.next=c,Pt(r,t.memoizedState)||(Je=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=o,s.lastRenderedState=r}if(e=s.interleaved,e!==null){l=e;do a=l.lane,ce.lanes|=a,hs|=a,l=l.next;while(l!==e)}else l===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Si(e){var t=vt(),s=t.queue;if(s===null)throw Error(R(311));s.lastRenderedReducer=e;var r=s.dispatch,l=s.pending,a=t.memoizedState;if(l!==null){s.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);Pt(a,t.memoizedState)||(Je=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,r]}function vm(){}function bm(e,t){var s=ce,r=vt(),l=t(),a=!Pt(r.memoizedState,l);if(a&&(r.memoizedState=l,Je=!0),r=r.queue,kc(wm.bind(null,s,r,e),[e]),r.getSnapshot!==t||a||ke!==null&&ke.memoizedState.tag&1){if(s.flags|=2048,tl(9,Nm.bind(null,s,r,l,t),void 0,null),Ce===null)throw Error(R(349));ds&30||jm(s,t,l)}return l}function jm(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Nm(e,t,s,r){t.value=s,t.getSnapshot=r,_m(t)&&Sm(e)}function wm(e,t,s){return s(function(){_m(t)&&Sm(e)})}function _m(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Pt(e,s)}catch{return!0}}function Sm(e){var t=tn(e,1);t!==null&&Ct(t,e,1,-1)}function $u(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:e},t.queue=e,e=e.dispatch=Xx.bind(null,ce,e),[t.memoizedState,e]}function tl(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function km(){return vt().memoizedState}function Wl(e,t,s,r){var l=It();ce.flags|=e,l.memoizedState=tl(1|t,s,void 0,r===void 0?null:r)}function Aa(e,t,s,r){var l=vt();r=r===void 0?null:r;var a=void 0;if(je!==null){var i=je.memoizedState;if(a=i.destroy,r!==null&&wc(r,i.deps)){l.memoizedState=tl(t,s,a,r);return}}ce.flags|=e,l.memoizedState=tl(1|t,s,a,r)}function qu(e,t){return Wl(8390656,8,e,t)}function kc(e,t){return Aa(2048,8,e,t)}function Cm(e,t){return Aa(4,2,e,t)}function Pm(e,t){return Aa(4,4,e,t)}function Em(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Im(e,t,s){return s=s!=null?s.concat([e]):null,Aa(4,4,Em.bind(null,t,e),s)}function Cc(){}function Tm(e,t){var s=vt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&wc(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function zm(e,t){var s=vt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&wc(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Fm(e,t,s){return ds&21?(Pt(s,t)||(s=Dh(),ce.lanes|=s,hs|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=s)}function Yx(e,t){var s=te;te=s!==0&&4>s?s:4,e(!0);var r=wi.transition;wi.transition={};try{e(!1),t()}finally{te=s,wi.transition=r}}function Mm(){return vt().memoizedState}function Jx(e,t,s){var r=zn(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Om(e))Rm(t,s);else if(s=xm(e,t,s,r),s!==null){var l=Ue();Ct(s,e,r,l),Lm(s,t,r)}}function Xx(e,t,s){var r=zn(e),l={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Om(e))Rm(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,c=a(i,s);if(l.hasEagerState=!0,l.eagerState=c,Pt(c,i)){var o=t.interleaved;o===null?(l.next=l,yc(t)):(l.next=o.next,o.next=l),t.interleaved=l;return}}catch{}finally{}s=xm(e,t,l,r),s!==null&&(l=Ue(),Ct(s,e,r,l),Lm(s,t,r))}}function Om(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Rm(e,t){Rr=ya=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Lm(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,rc(e,s)}}var va={readContext:yt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},Zx={readContext:yt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:qu,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Wl(4194308,4,Em.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Wl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wl(4,2,e,t)},useMemo:function(e,t){var s=It();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=It();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jx.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:$u,useDebugValue:Cc,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=$u(!1),t=e[0];return e=Yx.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=ce,l=It();if(ae){if(s===void 0)throw Error(R(407));s=s()}else{if(s=t(),Ce===null)throw Error(R(349));ds&30||jm(r,t,s)}l.memoizedState=s;var a={value:s,getSnapshot:t};return l.queue=a,qu(wm.bind(null,r,a,e),[e]),r.flags|=2048,tl(9,Nm.bind(null,r,a,s,t),void 0,null),s},useId:function(){var e=It(),t=Ce.identifierPrefix;if(ae){var s=Yt,r=Gt;s=(r&~(1<<32-kt(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=Zr++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Gx++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},e0={readContext:yt,useCallback:Tm,useContext:yt,useEffect:kc,useImperativeHandle:Im,useInsertionEffect:Cm,useLayoutEffect:Pm,useMemo:zm,useReducer:_i,useRef:km,useState:function(){return _i(el)},useDebugValue:Cc,useDeferredValue:function(e){var t=vt();return Fm(t,je.memoizedState,e)},useTransition:function(){var e=_i(el)[0],t=vt().memoizedState;return[e,t]},useMutableSource:vm,useSyncExternalStore:bm,useId:Mm,unstable_isNewReconciler:!1},t0={readContext:yt,useCallback:Tm,useContext:yt,useEffect:kc,useImperativeHandle:Im,useInsertionEffect:Cm,useLayoutEffect:Pm,useMemo:zm,useReducer:Si,useRef:km,useState:function(){return Si(el)},useDebugValue:Cc,useDeferredValue:function(e){var t=vt();return je===null?t.memoizedState=e:Fm(t,je.memoizedState,e)},useTransition:function(){var e=Si(el)[0],t=vt().memoizedState;return[e,t]},useMutableSource:vm,useSyncExternalStore:bm,useId:Mm,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function co(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:de({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var $a={isMounted:function(e){return(e=e._reactInternals)?gs(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Ue(),l=zn(e),a=Jt(r,l);a.payload=t,s!=null&&(a.callback=s),t=In(e,a,l),t!==null&&(Ct(t,e,l,r),Vl(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Ue(),l=zn(e),a=Jt(r,l);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=In(e,a,l),t!==null&&(Ct(t,e,l,r),Vl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ue(),r=zn(e),l=Jt(s,r);l.tag=2,t!=null&&(l.callback=t),t=In(e,l,r),t!==null&&(Ct(t,e,r,s),Vl(t,e,r))}};function Uu(e,t,s,r,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!Hr(s,r)||!Hr(l,a):!0}function Dm(e,t,s){var r=!1,l=Ln,a=t.contextType;return typeof a=="object"&&a!==null?a=yt(a):(l=Ze(t)?cs:Le.current,r=t.contextTypes,a=(r=r!=null)?nr(e,l):Ln),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$a,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Bu(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&$a.enqueueReplaceState(t,t.state,null)}function uo(e,t,s,r){var l=e.stateNode;l.props=s,l.state=e.memoizedState,l.refs={},vc(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=yt(a):(a=Ze(t)?cs:Le.current,l.context=nr(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(co(e,t,a,s),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&$a.enqueueReplaceState(l,l.state,null),xa(e,s,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ar(e,t){try{var s="",r=t;do s+=Ef(r),r=r.return;while(r);var l=s}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function ki(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function ho(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var n0=typeof WeakMap=="function"?WeakMap:Map;function Am(e,t,s){s=Jt(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){ja||(ja=!0,No=r),ho(e,t)},s}function $m(e,t,s){s=Jt(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;s.payload=function(){return r(l)},s.callback=function(){ho(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){ho(e,t),typeof r!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function Qu(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new n0;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(s)||(l.add(s),e=x0.bind(null,e,t,s),t.then(e,e))}function Ku(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vu(e,t,s,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Jt(-1,1),t.tag=2,In(s,t,1))),s.lanes|=1),e)}var s0=rn.ReactCurrentOwner,Je=!1;function $e(e,t,s,r){t.child=e===null?fm(t,null,s,r):rr(t,e.child,s,r)}function Hu(e,t,s,r,l){s=s.render;var a=t.ref;return As(t,l),r=_c(e,t,s,r,a,l),s=Sc(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,nn(e,t,l)):(ae&&s&&hc(t),t.flags|=1,$e(e,t,r,l),t.child)}function Wu(e,t,s,r,l){if(e===null){var a=s.type;return typeof a=="function"&&!Oc(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,qm(e,t,a,r,l)):(e=Xl(s.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(s=s.compare,s=s!==null?s:Hr,s(i,r)&&e.ref===t.ref)return nn(e,t,l)}return t.flags|=1,e=Fn(a,r),e.ref=t.ref,e.return=t,t.child=e}function qm(e,t,s,r,l){if(e!==null){var a=e.memoizedProps;if(Hr(a,r)&&e.ref===t.ref)if(Je=!1,t.pendingProps=r=a,(e.lanes&l)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,nn(e,t,l)}return mo(e,t,s,r,l)}function Um(e,t,s){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Ms,rt),rt|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Ms,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,se(Ms,rt),rt|=r}else a!==null?(r=a.baseLanes|s,t.memoizedState=null):r=s,se(Ms,rt),rt|=r;return $e(e,t,l,s),t.child}function Bm(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function mo(e,t,s,r,l){var a=Ze(s)?cs:Le.current;return a=nr(t,a),As(t,l),s=_c(e,t,s,r,a,l),r=Sc(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,nn(e,t,l)):(ae&&r&&hc(t),t.flags|=1,$e(e,t,s,l),t.child)}function Gu(e,t,s,r,l){if(Ze(s)){var a=!0;da(t)}else a=!1;if(As(t,l),t.stateNode===null)Gl(e,t),Dm(t,s,r),uo(t,s,r,l),r=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var o=i.context,u=s.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=Ze(s)?cs:Le.current,u=nr(t,u));var m=s.getDerivedStateFromProps,h=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==r||o!==u)&&Bu(t,i,r,u),dn=!1;var p=t.memoizedState;i.state=p,xa(t,r,i,l),o=t.memoizedState,c!==r||p!==o||Xe.current||dn?(typeof m=="function"&&(co(t,s,m,r),o=t.memoizedState),(c=dn||Uu(t,s,c,r,p,o,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),i.props=r,i.state=o,i.context=u,r=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,gm(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:jt(t.type,c),i.props=u,h=t.pendingProps,p=i.context,o=s.contextType,typeof o=="object"&&o!==null?o=yt(o):(o=Ze(s)?cs:Le.current,o=nr(t,o));var f=s.getDerivedStateFromProps;(m=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==h||p!==o)&&Bu(t,i,r,o),dn=!1,p=t.memoizedState,i.state=p,xa(t,r,i,l);var b=t.memoizedState;c!==h||p!==b||Xe.current||dn?(typeof f=="function"&&(co(t,s,f,r),b=t.memoizedState),(u=dn||Uu(t,s,u,r,p,b,o)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),i.props=r,i.state=b,i.context=o,r=u):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return po(e,t,s,r,a,l)}function po(e,t,s,r,l,a){Bm(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Mu(t,s,!1),nn(e,t,a);r=t.stateNode,s0.current=t;var c=i&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=rr(t,e.child,null,a),t.child=rr(t,null,c,a)):$e(e,t,c,a),t.memoizedState=r.state,l&&Mu(t,s,!0),t.child}function Qm(e){var t=e.stateNode;t.pendingContext?Fu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fu(e,t.context,!1),bc(e,t.containerInfo)}function Yu(e,t,s,r,l){return sr(),pc(l),t.flags|=256,$e(e,t,s,r),t.child}var fo={dehydrated:null,treeContext:null,retryLane:0};function xo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Km(e,t,s){var r=t.pendingProps,l=oe.current,a=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(l&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),se(oe,l&1),e===null)return io(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Ba(i,r,0,null),e=is(e,r,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=xo(s),t.memoizedState=fo,e):Pc(t,i));if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return r0(e,t,i,r,c,l,s);if(a){a=r.fallback,i=t.mode,l=e.child,c=l.sibling;var o={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=o,t.deletions=null):(r=Fn(l,o),r.subtreeFlags=l.subtreeFlags&14680064),c!==null?a=Fn(c,a):(a=is(a,i,s,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?xo(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~s,t.memoizedState=fo,r}return a=e.child,e=a.sibling,r=Fn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function Pc(e,t){return t=Ba({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fl(e,t,s,r){return r!==null&&pc(r),rr(t,e.child,null,s),e=Pc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function r0(e,t,s,r,l,a,i){if(s)return t.flags&256?(t.flags&=-257,r=ki(Error(R(422))),Fl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=Ba({mode:"visible",children:r.children},l,0,null),a=is(a,l,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&rr(t,e.child,null,i),t.child.memoizedState=xo(i),t.memoizedState=fo,a);if(!(t.mode&1))return Fl(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;return r=c,a=Error(R(419)),r=ki(a,r,void 0),Fl(e,t,i,r)}if(c=(i&e.childLanes)!==0,Je||c){if(r=Ce,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,tn(e,l),Ct(r,e,l,-1))}return Mc(),r=ki(Error(R(421))),Fl(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=g0.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,lt=En(l.nextSibling),at=t,ae=!0,St=null,e!==null&&(mt[pt++]=Gt,mt[pt++]=Yt,mt[pt++]=us,Gt=e.id,Yt=e.overflow,us=t),t=Pc(t,r.children),t.flags|=4096,t)}function Ju(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oo(e.return,t,s)}function Ci(e,t,s,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=l)}function Vm(e,t,s){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if($e(e,t,r.children,s),r=oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ju(e,s,t);else if(e.tag===19)Ju(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(oe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(s=t.child,l=null;s!==null;)e=s.alternate,e!==null&&ga(e)===null&&(l=s),s=s.sibling;s=l,s===null?(l=t.child,t.child=null):(l=s.sibling,s.sibling=null),Ci(t,!1,l,s,a);break;case"backwards":for(s=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ga(e)===null){t.child=l;break}e=l.sibling,l.sibling=s,s=l,l=e}Ci(t,!0,s,null,a);break;case"together":Ci(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),hs|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,s=Fn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Fn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function l0(e,t,s){switch(t.tag){case 3:Qm(t),sr();break;case 5:ym(t);break;case 1:Ze(t.type)&&da(t);break;case 4:bc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;se(pa,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(oe,oe.current&1),t.flags|=128,null):s&t.child.childLanes?Km(e,t,s):(se(oe,oe.current&1),e=nn(e,t,s),e!==null?e.sibling:null);se(oe,oe.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return Vm(e,t,s);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),se(oe,oe.current),r)break;return null;case 22:case 23:return t.lanes=0,Um(e,t,s)}return nn(e,t,s)}var Hm,go,Wm,Gm;Hm=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};go=function(){};Wm=function(e,t,s,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Gn(Rt.current);var a=null;switch(s){case"input":l=Di(e,l),r=Di(e,r),a=[];break;case"select":l=de({},l,{value:void 0}),r=de({},r,{value:void 0}),a=[];break;case"textarea":l=qi(e,l),r=qi(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ca)}Bi(s,r);var i;s=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var c=l[u];for(i in c)c.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($r.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var o=r[u];if(c=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(s||(s={}),s[i]=o[i])}else s||(a||(a=[]),a.push(u,s)),s=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(a=a||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($r.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&re("scroll",e),a||c===o||(a=[])):(a=a||[]).push(u,o))}s&&(a=a||[]).push("style",s);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Gm=function(e,t,s,r){s!==r&&(t.flags|=4)};function Nr(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var l=e.child;l!==null;)s|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)s|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function a0(e,t,s){var r=t.pendingProps;switch(mc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Ze(t.type)&&ua(),Me(t),null;case 3:return r=t.stateNode,lr(),le(Xe),le(Le),Nc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Tl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(So(St),St=null))),go(e,t),Me(t),null;case 5:jc(t);var l=Gn(Xr.current);if(s=t.type,e!==null&&t.stateNode!=null)Wm(e,t,s,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Me(t),null}if(e=Gn(Rt.current),Tl(t)){r=t.stateNode,s=t.type;var a=t.memoizedProps;switch(r[Mt]=t,r[Yr]=a,e=(t.mode&1)!==0,s){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(l=0;l<Cr.length;l++)re(Cr[l],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":au(r,a),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},re("invalid",r);break;case"textarea":ou(r,a),re("invalid",r)}Bi(s,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="children"?typeof c=="string"?r.textContent!==c&&(a.suppressHydrationWarning!==!0&&Il(r.textContent,c,e),l=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Il(r.textContent,c,e),l=["children",""+c]):$r.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&re("scroll",r)}switch(s){case"input":Nl(r),iu(r,a,!0);break;case"textarea":Nl(r),cu(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ca)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wh(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(s,{is:r.is}):(e=i.createElement(s),s==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,s),e[Mt]=t,e[Yr]=r,Hm(e,t,!1,!1),t.stateNode=e;e:{switch(i=Qi(s,r),s){case"dialog":re("cancel",e),re("close",e),l=r;break;case"iframe":case"object":case"embed":re("load",e),l=r;break;case"video":case"audio":for(l=0;l<Cr.length;l++)re(Cr[l],e);l=r;break;case"source":re("error",e),l=r;break;case"img":case"image":case"link":re("error",e),re("load",e),l=r;break;case"details":re("toggle",e),l=r;break;case"input":au(e,r),l=Di(e,r),re("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=de({},r,{value:void 0}),re("invalid",e);break;case"textarea":ou(e,r),l=qi(e,r),re("invalid",e);break;default:l=r}Bi(s,l),c=l;for(a in c)if(c.hasOwnProperty(a)){var o=c[a];a==="style"?kh(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&_h(e,o)):a==="children"?typeof o=="string"?(s!=="textarea"||o!=="")&&qr(e,o):typeof o=="number"&&qr(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($r.hasOwnProperty(a)?o!=null&&a==="onScroll"&&re("scroll",e):o!=null&&Xo(e,a,o,i))}switch(s){case"input":Nl(e),iu(e,r,!1);break;case"textarea":Nl(e),cu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Os(e,!!r.multiple,a,!1):r.defaultValue!=null&&Os(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ca)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)Gm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(s=Gn(Xr.current),Gn(Rt.current),Tl(t)){if(r=t.stateNode,s=t.memoizedProps,r[Mt]=t,(a=r.nodeValue!==s)&&(e=at,e!==null))switch(e.tag){case 3:Il(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Il(r.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Mt]=t,t.stateNode=r}return Me(t),null;case 13:if(le(oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&lt!==null&&t.mode&1&&!(t.flags&128))mm(),sr(),t.flags|=98560,a=!1;else if(a=Tl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(R(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(R(317));a[Mt]=t}else sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),a=!1}else St!==null&&(So(St),St=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?we===0&&(we=3):Mc())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return lr(),go(e,t),e===null&&Wr(t.stateNode.containerInfo),Me(t),null;case 10:return gc(t.type._context),Me(t),null;case 17:return Ze(t.type)&&ua(),Me(t),null;case 19:if(le(oe),a=t.memoizedState,a===null)return Me(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Nr(a,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ga(e),i!==null){for(t.flags|=128,Nr(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)a=s,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return se(oe,oe.current&1|2),t.child}e=e.sibling}a.tail!==null&&fe()>ir&&(t.flags|=128,r=!0,Nr(a,!1),t.lanes=4194304)}else{if(!r)if(e=ga(i),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Nr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ae)return Me(t),null}else 2*fe()-a.renderingStartTime>ir&&s!==1073741824&&(t.flags|=128,r=!0,Nr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(s=a.last,s!==null?s.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=fe(),t.sibling=null,s=oe.current,se(oe,r?s&1|2:s&1),t):(Me(t),null);case 22:case 23:return Fc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rt&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function i0(e,t){switch(mc(t),t.tag){case 1:return Ze(t.type)&&ua(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lr(),le(Xe),le(Le),Nc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jc(t),null;case 13:if(le(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(oe),null;case 4:return lr(),null;case 10:return gc(t.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var Ml=!1,Re=!1,o0=typeof WeakSet=="function"?WeakSet:Set,$=null;function Fs(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){pe(e,t,r)}else s.current=null}function yo(e,t,s){try{s()}catch(r){pe(e,t,r)}}var Xu=!1;function c0(e,t){if(eo=aa,e=em(),dc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var i=0,c=-1,o=-1,u=0,m=0,h=e,p=null;t:for(;;){for(var f;h!==s||l!==0&&h.nodeType!==3||(c=i+l),h!==a||r!==0&&h.nodeType!==3||(o=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===s&&++u===l&&(c=i),p===a&&++m===r&&(o=i),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}s=c===-1||o===-1?null:{start:c,end:o}}else s=null}s=s||{start:0,end:0}}else s=null;for(to={focusedElem:e,selectionRange:s},aa=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var j=b.memoizedProps,w=b.memoizedState,d=t.stateNode,x=d.getSnapshotBeforeUpdate(t.elementType===t.type?j:jt(t.type,j),w);d.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(N){pe(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return b=Xu,Xu=!1,b}function Lr(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&yo(t,s,a)}l=l.next}while(l!==r)}}function qa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function vo(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Ym(e){var t=e.alternate;t!==null&&(e.alternate=null,Ym(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[Yr],delete t[ro],delete t[Kx],delete t[Vx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jm(e){return e.tag===5||e.tag===3||e.tag===4}function Zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bo(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ca));else if(r!==4&&(e=e.child,e!==null))for(bo(e,t,s),e=e.sibling;e!==null;)bo(e,t,s),e=e.sibling}function jo(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jo(e,t,s),e=e.sibling;e!==null;)jo(e,t,s),e=e.sibling}var Ee=null,_t=!1;function on(e,t,s){for(s=s.child;s!==null;)Xm(e,t,s),s=s.sibling}function Xm(e,t,s){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Fa,s)}catch{}switch(s.tag){case 5:Re||Fs(s,t);case 6:var r=Ee,l=_t;Ee=null,on(e,t,s),Ee=r,_t=l,Ee!==null&&(_t?(e=Ee,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ee.removeChild(s.stateNode));break;case 18:Ee!==null&&(_t?(e=Ee,s=s.stateNode,e.nodeType===8?bi(e.parentNode,s):e.nodeType===1&&bi(e,s),Kr(e)):bi(Ee,s.stateNode));break;case 4:r=Ee,l=_t,Ee=s.stateNode.containerInfo,_t=!0,on(e,t,s),Ee=r,_t=l;break;case 0:case 11:case 14:case 15:if(!Re&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&yo(s,t,i),l=l.next}while(l!==r)}on(e,t,s);break;case 1:if(!Re&&(Fs(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(c){pe(s,t,c)}on(e,t,s);break;case 21:on(e,t,s);break;case 22:s.mode&1?(Re=(r=Re)||s.memoizedState!==null,on(e,t,s),Re=r):on(e,t,s);break;default:on(e,t,s)}}function ed(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new o0),t.forEach(function(r){var l=y0.bind(null,e,r);s.has(r)||(s.add(r),r.then(l,l))})}}function bt(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];try{var a=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:Ee=c.stateNode,_t=!1;break e;case 3:Ee=c.stateNode.containerInfo,_t=!0;break e;case 4:Ee=c.stateNode.containerInfo,_t=!0;break e}c=c.return}if(Ee===null)throw Error(R(160));Xm(a,i,l),Ee=null,_t=!1;var o=l.alternate;o!==null&&(o.return=null),l.return=null}catch(u){pe(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zm(t,e),t=t.sibling}function Zm(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),Et(e),r&4){try{Lr(3,e,e.return),qa(3,e)}catch(j){pe(e,e.return,j)}try{Lr(5,e,e.return)}catch(j){pe(e,e.return,j)}}break;case 1:bt(t,e),Et(e),r&512&&s!==null&&Fs(s,s.return);break;case 5:if(bt(t,e),Et(e),r&512&&s!==null&&Fs(s,s.return),e.flags&32){var l=e.stateNode;try{qr(l,"")}catch(j){pe(e,e.return,j)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=s!==null?s.memoizedProps:a,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&jh(l,a),Qi(c,i);var u=Qi(c,a);for(i=0;i<o.length;i+=2){var m=o[i],h=o[i+1];m==="style"?kh(l,h):m==="dangerouslySetInnerHTML"?_h(l,h):m==="children"?qr(l,h):Xo(l,m,h,u)}switch(c){case"input":Ai(l,a);break;case"textarea":Nh(l,a);break;case"select":var p=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Os(l,!!a.multiple,f,!1):p!==!!a.multiple&&(a.defaultValue!=null?Os(l,!!a.multiple,a.defaultValue,!0):Os(l,!!a.multiple,a.multiple?[]:"",!1))}l[Yr]=a}catch(j){pe(e,e.return,j)}}break;case 6:if(bt(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(R(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(j){pe(e,e.return,j)}}break;case 3:if(bt(t,e),Et(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Kr(t.containerInfo)}catch(j){pe(e,e.return,j)}break;case 4:bt(t,e),Et(e);break;case 13:bt(t,e),Et(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Tc=fe())),r&4&&ed(e);break;case 22:if(m=s!==null&&s.memoizedState!==null,e.mode&1?(Re=(u=Re)||m,bt(t,e),Re=u):bt(t,e),Et(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for($=e,m=e.child;m!==null;){for(h=$=m;$!==null;){switch(p=$,f=p.child,p.tag){case 0:case 11:case 14:case 15:Lr(4,p,p.return);break;case 1:Fs(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,s=p.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(j){pe(r,s,j)}}break;case 5:Fs(p,p.return);break;case 22:if(p.memoizedState!==null){nd(h);continue}}f!==null?(f.return=p,$=f):nd(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{l=h.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=h.stateNode,o=h.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=Sh("display",i))}catch(j){pe(e,e.return,j)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(j){pe(e,e.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bt(t,e),Et(e),r&4&&ed(e);break;case 21:break;default:bt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Jm(s)){var r=s;break e}s=s.return}throw Error(R(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(qr(l,""),r.flags&=-33);var a=Zu(e);jo(e,a,l);break;case 3:case 4:var i=r.stateNode.containerInfo,c=Zu(e);bo(e,c,i);break;default:throw Error(R(161))}}catch(o){pe(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u0(e,t,s){$=e,ep(e)}function ep(e,t,s){for(var r=(e.mode&1)!==0;$!==null;){var l=$,a=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||Ml;if(!i){var c=l.alternate,o=c!==null&&c.memoizedState!==null||Re;c=Ml;var u=Re;if(Ml=i,(Re=o)&&!u)for($=l;$!==null;)i=$,o=i.child,i.tag===22&&i.memoizedState!==null?sd(l):o!==null?(o.return=i,$=o):sd(l);for(;a!==null;)$=a,ep(a),a=a.sibling;$=l,Ml=c,Re=u}td(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,$=a):td(e)}}function td(e){for(;$!==null;){var t=$;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||qa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(s===null)r.componentDidMount();else{var l=t.elementType===t.type?s.memoizedProps:jt(t.type,s.memoizedProps);r.componentDidUpdate(l,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Au(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Au(t,i,s)}break;case 5:var c=t.stateNode;if(s===null&&t.flags&4){s=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break;case"img":o.src&&(s.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&Kr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Re||t.flags&512&&vo(t)}catch(p){pe(t,t.return,p)}}if(t===e){$=null;break}if(s=t.sibling,s!==null){s.return=t.return,$=s;break}$=t.return}}function nd(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var s=t.sibling;if(s!==null){s.return=t.return,$=s;break}$=t.return}}function sd(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{qa(4,t)}catch(o){pe(t,s,o)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(o){pe(t,l,o)}}var a=t.return;try{vo(t)}catch(o){pe(t,a,o)}break;case 5:var i=t.return;try{vo(t)}catch(o){pe(t,i,o)}}}catch(o){pe(t,t.return,o)}if(t===e){$=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$=c;break}$=t.return}}var d0=Math.ceil,ba=rn.ReactCurrentDispatcher,Ec=rn.ReactCurrentOwner,gt=rn.ReactCurrentBatchConfig,Z=0,Ce=null,ve=null,Ie=0,rt=0,Ms=An(0),we=0,nl=null,hs=0,Ua=0,Ic=0,Dr=null,Ye=null,Tc=0,ir=1/0,qt=null,ja=!1,No=null,Tn=null,Ol=!1,_n=null,Na=0,Ar=0,wo=null,Yl=-1,Jl=0;function Ue(){return Z&6?fe():Yl!==-1?Yl:Yl=fe()}function zn(e){return e.mode&1?Z&2&&Ie!==0?Ie&-Ie:Wx.transition!==null?(Jl===0&&(Jl=Dh()),Jl):(e=te,e!==0||(e=window.event,e=e===void 0?16:Kh(e.type)),e):1}function Ct(e,t,s,r){if(50<Ar)throw Ar=0,wo=null,Error(R(185));pl(e,s,r),(!(Z&2)||e!==Ce)&&(e===Ce&&(!(Z&2)&&(Ua|=s),we===4&&mn(e,Ie)),et(e,r),s===1&&Z===0&&!(t.mode&1)&&(ir=fe()+500,Da&&$n()))}function et(e,t){var s=e.callbackNode;Wf(e,t);var r=la(e,e===Ce?Ie:0);if(r===0)s!==null&&hu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&hu(s),t===1)e.tag===0?Hx(rd.bind(null,e)):um(rd.bind(null,e)),Bx(function(){!(Z&6)&&$n()}),s=null;else{switch(Ah(r)){case 1:s=sc;break;case 4:s=Rh;break;case 16:s=ra;break;case 536870912:s=Lh;break;default:s=ra}s=op(s,tp.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function tp(e,t){if(Yl=-1,Jl=0,Z&6)throw Error(R(327));var s=e.callbackNode;if($s()&&e.callbackNode!==s)return null;var r=la(e,e===Ce?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wa(e,r);else{t=r;var l=Z;Z|=2;var a=sp();(Ce!==e||Ie!==t)&&(qt=null,ir=fe()+500,as(e,t));do try{p0();break}catch(c){np(e,c)}while(!0);xc(),ba.current=a,Z=l,ve!==null?t=0:(Ce=null,Ie=0,t=we)}if(t!==0){if(t===2&&(l=Gi(e),l!==0&&(r=l,t=_o(e,l))),t===1)throw s=nl,as(e,0),mn(e,r),et(e,fe()),s;if(t===6)mn(e,r);else{if(l=e.current.alternate,!(r&30)&&!h0(l)&&(t=wa(e,r),t===2&&(a=Gi(e),a!==0&&(r=a,t=_o(e,a))),t===1))throw s=nl,as(e,0),mn(e,r),et(e,fe()),s;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Kn(e,Ye,qt);break;case 3:if(mn(e,r),(r&130023424)===r&&(t=Tc+500-fe(),10<t)){if(la(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ue(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=so(Kn.bind(null,e,Ye,qt),t);break}Kn(e,Ye,qt);break;case 4:if(mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-kt(r);a=1<<i,i=t[i],i>l&&(l=i),r&=~a}if(r=l,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*d0(r/1960))-r,10<r){e.timeoutHandle=so(Kn.bind(null,e,Ye,qt),r);break}Kn(e,Ye,qt);break;case 5:Kn(e,Ye,qt);break;default:throw Error(R(329))}}}return et(e,fe()),e.callbackNode===s?tp.bind(null,e):null}function _o(e,t){var s=Dr;return e.current.memoizedState.isDehydrated&&(as(e,t).flags|=256),e=wa(e,t),e!==2&&(t=Ye,Ye=s,t!==null&&So(t)),e}function So(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function h0(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var l=s[r],a=l.getSnapshot;l=l.value;try{if(!Pt(a(),l))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t){for(t&=~Ic,t&=~Ua,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-kt(t),r=1<<s;e[s]=-1,t&=~r}}function rd(e){if(Z&6)throw Error(R(327));$s();var t=la(e,0);if(!(t&1))return et(e,fe()),null;var s=wa(e,t);if(e.tag!==0&&s===2){var r=Gi(e);r!==0&&(t=r,s=_o(e,r))}if(s===1)throw s=nl,as(e,0),mn(e,t),et(e,fe()),s;if(s===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,Ye,qt),et(e,fe()),null}function zc(e,t){var s=Z;Z|=1;try{return e(t)}finally{Z=s,Z===0&&(ir=fe()+500,Da&&$n())}}function ms(e){_n!==null&&_n.tag===0&&!(Z&6)&&$s();var t=Z;Z|=1;var s=gt.transition,r=te;try{if(gt.transition=null,te=1,e)return e()}finally{te=r,gt.transition=s,Z=t,!(Z&6)&&$n()}}function Fc(){rt=Ms.current,le(Ms)}function as(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Ux(s)),ve!==null)for(s=ve.return;s!==null;){var r=s;switch(mc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ua();break;case 3:lr(),le(Xe),le(Le),Nc();break;case 5:jc(r);break;case 4:lr();break;case 13:le(oe);break;case 19:le(oe);break;case 10:gc(r.type._context);break;case 22:case 23:Fc()}s=s.return}if(Ce=e,ve=e=Fn(e.current,null),Ie=rt=t,we=0,nl=null,Ic=Ua=hs=0,Ye=Dr=null,Wn!==null){for(t=0;t<Wn.length;t++)if(s=Wn[t],r=s.interleaved,r!==null){s.interleaved=null;var l=r.next,a=s.pending;if(a!==null){var i=a.next;a.next=l,r.next=i}s.pending=r}Wn=null}return e}function np(e,t){do{var s=ve;try{if(xc(),Hl.current=va,ya){for(var r=ce.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}ya=!1}if(ds=0,ke=je=ce=null,Rr=!1,Zr=0,Ec.current=null,s===null||s.return===null){we=1,nl=t,ve=null;break}e:{var a=e,i=s.return,c=s,o=t;if(t=Ie,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,m=c,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var f=Ku(i);if(f!==null){f.flags&=-257,Vu(f,i,c,a,t),f.mode&1&&Qu(a,u,t),t=f,o=u;var b=t.updateQueue;if(b===null){var j=new Set;j.add(o),t.updateQueue=j}else b.add(o);break e}else{if(!(t&1)){Qu(a,u,t),Mc();break e}o=Error(R(426))}}else if(ae&&c.mode&1){var w=Ku(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Vu(w,i,c,a,t),pc(ar(o,c));break e}}a=o=ar(o,c),we!==4&&(we=2),Dr===null?Dr=[a]:Dr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var d=Am(a,o,t);Du(a,d);break e;case 1:c=o;var x=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Tn===null||!Tn.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=$m(a,c,t);Du(a,N);break e}}a=a.return}while(a!==null)}lp(s)}catch(C){t=C,ve===s&&s!==null&&(ve=s=s.return);continue}break}while(!0)}function sp(){var e=ba.current;return ba.current=va,e===null?va:e}function Mc(){(we===0||we===3||we===2)&&(we=4),Ce===null||!(hs&268435455)&&!(Ua&268435455)||mn(Ce,Ie)}function wa(e,t){var s=Z;Z|=2;var r=sp();(Ce!==e||Ie!==t)&&(qt=null,as(e,t));do try{m0();break}catch(l){np(e,l)}while(!0);if(xc(),Z=s,ba.current=r,ve!==null)throw Error(R(261));return Ce=null,Ie=0,we}function m0(){for(;ve!==null;)rp(ve)}function p0(){for(;ve!==null&&!Af();)rp(ve)}function rp(e){var t=ip(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?lp(e):ve=t,Ec.current=null}function lp(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=i0(s,t),s!==null){s.flags&=32767,ve=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ve=null;return}}else if(s=a0(s,t,rt),s!==null){ve=s;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);we===0&&(we=5)}function Kn(e,t,s){var r=te,l=gt.transition;try{gt.transition=null,te=1,f0(e,t,s,r)}finally{gt.transition=l,te=r}return null}function f0(e,t,s,r){do $s();while(_n!==null);if(Z&6)throw Error(R(327));s=e.finishedWork;var l=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(Gf(e,a),e===Ce&&(ve=Ce=null,Ie=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ol||(Ol=!0,op(ra,function(){return $s(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=gt.transition,gt.transition=null;var i=te;te=1;var c=Z;Z|=4,Ec.current=null,c0(e,s),Zm(s,e),Ox(to),aa=!!eo,to=eo=null,e.current=s,u0(s),$f(),Z=c,te=i,gt.transition=a}else e.current=s;if(Ol&&(Ol=!1,_n=e,Na=l),a=e.pendingLanes,a===0&&(Tn=null),Bf(s.stateNode),et(e,fe()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)l=t[s],r(l.value,{componentStack:l.stack,digest:l.digest});if(ja)throw ja=!1,e=No,No=null,e;return Na&1&&e.tag!==0&&$s(),a=e.pendingLanes,a&1?e===wo?Ar++:(Ar=0,wo=e):Ar=0,$n(),null}function $s(){if(_n!==null){var e=Ah(Na),t=gt.transition,s=te;try{if(gt.transition=null,te=16>e?16:e,_n===null)var r=!1;else{if(e=_n,_n=null,Na=0,Z&6)throw Error(R(331));var l=Z;for(Z|=4,$=e.current;$!==null;){var a=$,i=a.child;if($.flags&16){var c=a.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for($=u;$!==null;){var m=$;switch(m.tag){case 0:case 11:case 15:Lr(8,m,a)}var h=m.child;if(h!==null)h.return=m,$=h;else for(;$!==null;){m=$;var p=m.sibling,f=m.return;if(Ym(m),m===u){$=null;break}if(p!==null){p.return=f,$=p;break}$=f}}}var b=a.alternate;if(b!==null){var j=b.child;if(j!==null){b.child=null;do{var w=j.sibling;j.sibling=null,j=w}while(j!==null)}}$=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,$=i;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Lr(9,a,a.return)}var d=a.sibling;if(d!==null){d.return=a.return,$=d;break e}$=a.return}}var x=e.current;for($=x;$!==null;){i=$;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,$=v;else e:for(i=x;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:qa(9,c)}}catch(C){pe(c,c.return,C)}if(c===i){$=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,$=N;break e}$=c.return}}if(Z=l,$n(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Fa,e)}catch{}r=!0}return r}finally{te=s,gt.transition=t}}return!1}function ld(e,t,s){t=ar(s,t),t=Am(e,t,1),e=In(e,t,1),t=Ue(),e!==null&&(pl(e,1,t),et(e,t))}function pe(e,t,s){if(e.tag===3)ld(e,e,s);else for(;t!==null;){if(t.tag===3){ld(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tn===null||!Tn.has(r))){e=ar(s,e),e=$m(t,e,1),t=In(t,e,1),e=Ue(),t!==null&&(pl(t,1,e),et(t,e));break}}t=t.return}}function x0(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&s,Ce===e&&(Ie&s)===s&&(we===4||we===3&&(Ie&130023424)===Ie&&500>fe()-Tc?as(e,0):Ic|=s),et(e,t)}function ap(e,t){t===0&&(e.mode&1?(t=Sl,Sl<<=1,!(Sl&130023424)&&(Sl=4194304)):t=1);var s=Ue();e=tn(e,t),e!==null&&(pl(e,t,s),et(e,s))}function g0(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),ap(e,s)}function y0(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(s=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),ap(e,s)}var ip;ip=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Je=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Je=!1,l0(e,t,s);Je=!!(e.flags&131072)}else Je=!1,ae&&t.flags&1048576&&dm(t,ma,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gl(e,t),e=t.pendingProps;var l=nr(t,Le.current);As(t,s),l=_c(null,t,r,e,l,s);var a=Sc();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(a=!0,da(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,vc(t),l.updater=$a,t.stateNode=l,l._reactInternals=t,uo(t,r,e,s),t=po(null,t,r,!0,a,s)):(t.tag=0,ae&&a&&hc(t),$e(null,t,l,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Gl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=b0(r),e=jt(r,e),l){case 0:t=mo(null,t,r,e,s);break e;case 1:t=Gu(null,t,r,e,s);break e;case 11:t=Hu(null,t,r,e,s);break e;case 14:t=Wu(null,t,r,jt(r.type,e),s);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:jt(r,l),mo(e,t,r,l,s);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:jt(r,l),Gu(e,t,r,l,s);case 3:e:{if(Qm(t),e===null)throw Error(R(387));r=t.pendingProps,a=t.memoizedState,l=a.element,gm(e,t),xa(t,r,null,s);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=ar(Error(R(423)),t),t=Yu(e,t,r,s,l);break e}else if(r!==l){l=ar(Error(R(424)),t),t=Yu(e,t,r,s,l);break e}else for(lt=En(t.stateNode.containerInfo.firstChild),at=t,ae=!0,St=null,s=fm(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(sr(),r===l){t=nn(e,t,s);break e}$e(e,t,r,s)}t=t.child}return t;case 5:return ym(t),e===null&&io(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,no(r,l)?i=null:a!==null&&no(r,a)&&(t.flags|=32),Bm(e,t),$e(e,t,i,s),t.child;case 6:return e===null&&io(t),null;case 13:return Km(e,t,s);case 4:return bc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rr(t,null,r,s):$e(e,t,r,s),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:jt(r,l),Hu(e,t,r,l,s);case 7:return $e(e,t,t.pendingProps,s),t.child;case 8:return $e(e,t,t.pendingProps.children,s),t.child;case 12:return $e(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,se(pa,r._currentValue),r._currentValue=i,a!==null)if(Pt(a.value,i)){if(a.children===l.children&&!Xe.current){t=nn(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){i=a.child;for(var o=c.firstContext;o!==null;){if(o.context===r){if(a.tag===1){o=Jt(-1,s&-s),o.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?o.next=o:(o.next=m.next,m.next=o),u.pending=o}}a.lanes|=s,o=a.alternate,o!==null&&(o.lanes|=s),oo(a.return,s,t),c.lanes|=s;break}o=o.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(R(341));i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),oo(i,s,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}$e(e,t,l.children,s),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,As(t,s),l=yt(l),r=r(l),t.flags|=1,$e(e,t,r,s),t.child;case 14:return r=t.type,l=jt(r,t.pendingProps),l=jt(r.type,l),Wu(e,t,r,l,s);case 15:return qm(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:jt(r,l),Gl(e,t),t.tag=1,Ze(r)?(e=!0,da(t)):e=!1,As(t,s),Dm(t,r,l),uo(t,r,l,s),po(null,t,r,!0,e,s);case 19:return Vm(e,t,s);case 22:return Um(e,t,s)}throw Error(R(156,t.tag))};function op(e,t){return Oh(e,t)}function v0(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,s,r){return new v0(e,t,s,r)}function Oc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function b0(e){if(typeof e=="function")return Oc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ec)return 11;if(e===tc)return 14}return 2}function Fn(e,t){var s=e.alternate;return s===null?(s=xt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Xl(e,t,s,r,l,a){var i=2;if(r=e,typeof e=="function")Oc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case _s:return is(s.children,l,a,t);case Zo:i=8,l|=8;break;case Mi:return e=xt(12,s,t,l|2),e.elementType=Mi,e.lanes=a,e;case Oi:return e=xt(13,s,t,l),e.elementType=Oi,e.lanes=a,e;case Ri:return e=xt(19,s,t,l),e.elementType=Ri,e.lanes=a,e;case yh:return Ba(s,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xh:i=10;break e;case gh:i=9;break e;case ec:i=11;break e;case tc:i=14;break e;case un:i=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=xt(i,s,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function is(e,t,s,r){return e=xt(7,e,r,t),e.lanes=s,e}function Ba(e,t,s,r){return e=xt(22,e,r,t),e.elementType=yh,e.lanes=s,e.stateNode={isHidden:!1},e}function Pi(e,t,s){return e=xt(6,e,null,t),e.lanes=s,e}function Ei(e,t,s){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j0(e,t,s,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ci(0),this.expirationTimes=ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Rc(e,t,s,r,l,a,i,c,o){return e=new j0(e,t,s,c,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=xt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},vc(a),e}function N0(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ws,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function cp(e){if(!e)return Ln;e=e._reactInternals;e:{if(gs(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var s=e.type;if(Ze(s))return cm(e,s,t)}return t}function up(e,t,s,r,l,a,i,c,o){return e=Rc(s,r,!0,e,l,a,i,c,o),e.context=cp(null),s=e.current,r=Ue(),l=zn(s),a=Jt(r,l),a.callback=t??null,In(s,a,l),e.current.lanes=l,pl(e,l,r),et(e,r),e}function Qa(e,t,s,r){var l=t.current,a=Ue(),i=zn(l);return s=cp(s),t.context===null?t.context=s:t.pendingContext=s,t=Jt(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=In(l,t,i),e!==null&&(Ct(e,l,i,a),Vl(e,l,i)),i}function _a(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ad(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Lc(e,t){ad(e,t),(e=e.alternate)&&ad(e,t)}function w0(){return null}var dp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dc(e){this._internalRoot=e}Ka.prototype.render=Dc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Qa(e,t,null,null)};Ka.prototype.unmount=Dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ms(function(){Qa(null,e,null,null)}),t[en]=null}};function Ka(e){this._internalRoot=e}Ka.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uh();e={blockedOn:null,target:e,priority:t};for(var s=0;s<hn.length&&t!==0&&t<hn[s].priority;s++);hn.splice(s,0,e),s===0&&Qh(e)}};function Ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Va(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function id(){}function _0(e,t,s,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var u=_a(i);a.call(u)}}var i=up(t,r,e,0,null,!1,!1,"",id);return e._reactRootContainer=i,e[en]=i.current,Wr(e.nodeType===8?e.parentNode:e),ms(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var c=r;r=function(){var u=_a(o);c.call(u)}}var o=Rc(e,0,!1,null,null,!1,!1,"",id);return e._reactRootContainer=o,e[en]=o.current,Wr(e.nodeType===8?e.parentNode:e),ms(function(){Qa(t,o,s,r)}),o}function Ha(e,t,s,r,l){var a=s._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var c=l;l=function(){var o=_a(i);c.call(o)}}Qa(t,i,e,l)}else i=_0(s,t,e,l,r);return _a(i)}$h=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=kr(t.pendingLanes);s!==0&&(rc(t,s|1),et(t,fe()),!(Z&6)&&(ir=fe()+500,$n()))}break;case 13:ms(function(){var r=tn(e,1);if(r!==null){var l=Ue();Ct(r,e,1,l)}}),Lc(e,1)}};lc=function(e){if(e.tag===13){var t=tn(e,134217728);if(t!==null){var s=Ue();Ct(t,e,134217728,s)}Lc(e,134217728)}};qh=function(e){if(e.tag===13){var t=zn(e),s=tn(e,t);if(s!==null){var r=Ue();Ct(s,e,t,r)}Lc(e,t)}};Uh=function(){return te};Bh=function(e,t){var s=te;try{return te=e,t()}finally{te=s}};Vi=function(e,t,s){switch(t){case"input":if(Ai(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var l=La(r);if(!l)throw Error(R(90));bh(r),Ai(r,l)}}}break;case"textarea":Nh(e,s);break;case"select":t=s.value,t!=null&&Os(e,!!s.multiple,t,!1)}};Eh=zc;Ih=ms;var S0={usingClientEntryPoint:!1,Events:[xl,Ps,La,Ch,Ph,zc]},wr={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k0={bundleType:wr.bundleType,version:wr.version,rendererPackageName:wr.rendererPackageName,rendererConfig:wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fh(e),e===null?null:e.stateNode},findFiberByHostInstance:wr.findFiberByHostInstance||w0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{Fa=Rl.inject(k0),Ot=Rl}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S0;ot.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ac(t))throw Error(R(200));return N0(e,t,null,s)};ot.createRoot=function(e,t){if(!Ac(e))throw Error(R(299));var s=!1,r="",l=dp;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Rc(e,1,!1,null,null,s,!1,r,l),e[en]=t.current,Wr(e.nodeType===8?e.parentNode:e),new Dc(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Fh(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return ms(e)};ot.hydrate=function(e,t,s){if(!Va(t))throw Error(R(200));return Ha(null,e,t,!0,s)};ot.hydrateRoot=function(e,t,s){if(!Ac(e))throw Error(R(405));var r=s!=null&&s.hydratedSources||null,l=!1,a="",i=dp;if(s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=up(t,null,e,1,s??null,l,!1,a,i),e[en]=t.current,Wr(e),r)for(e=0;e<r.length;e++)s=r[e],l=s._getVersion,l=l(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,l]:t.mutableSourceEagerHydrationData.push(s,l);return new Ka(t)};ot.render=function(e,t,s){if(!Va(t))throw Error(R(200));return Ha(null,e,t,!1,s)};ot.unmountComponentAtNode=function(e){if(!Va(e))throw Error(R(40));return e._reactRootContainer?(ms(function(){Ha(null,null,e,!1,function(){e._reactRootContainer=null,e[en]=null})}),!0):!1};ot.unstable_batchedUpdates=zc;ot.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Va(s))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Ha(e,t,s,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hp)}catch(e){console.error(e)}}hp(),hh.exports=ot;var C0=hh.exports,od=C0;zi.createRoot=od.createRoot,zi.hydrateRoot=od.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},sl.apply(this,arguments)}var Sn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Sn||(Sn={}));const cd="popstate";function P0(e){e===void 0&&(e={});function t(r,l){let{pathname:a,search:i,hash:c}=r.location;return ko("",{pathname:a,search:i,hash:c},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(r,l){return typeof l=="string"?l:Sa(l)}return I0(t,s,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $c(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function E0(){return Math.random().toString(36).substr(2,8)}function ud(e,t){return{usr:e.state,key:e.key,idx:t}}function ko(e,t,s,r){return s===void 0&&(s=null),sl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hr(t):t,{state:s,key:t&&t.key||r||E0()})}function Sa(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function I0(e,t,s,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:a=!1}=r,i=l.history,c=Sn.Pop,o=null,u=m();u==null&&(u=0,i.replaceState(sl({},i.state,{idx:u}),""));function m(){return(i.state||{idx:null}).idx}function h(){c=Sn.Pop;let w=m(),d=w==null?null:w-u;u=w,o&&o({action:c,location:j.location,delta:d})}function p(w,d){c=Sn.Push;let x=ko(j.location,w,d);u=m()+1;let v=ud(x,u),N=j.createHref(x);try{i.pushState(v,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;l.location.assign(N)}a&&o&&o({action:c,location:j.location,delta:1})}function f(w,d){c=Sn.Replace;let x=ko(j.location,w,d);u=m();let v=ud(x,u),N=j.createHref(x);i.replaceState(v,"",N),a&&o&&o({action:c,location:j.location,delta:0})}function b(w){let d=l.location.origin!=="null"?l.location.origin:l.location.href,x=typeof w=="string"?w:Sa(w);return x=x.replace(/ $/,"%20"),ue(d,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,d)}let j={get action(){return c},get location(){return e(l,i)},listen(w){if(o)throw new Error("A history only accepts one active listener");return l.addEventListener(cd,h),o=w,()=>{l.removeEventListener(cd,h),o=null}},createHref(w){return t(l,w)},createURL:b,encodeLocation(w){let d=b(w);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:p,replace:f,go(w){return i.go(w)}};return j}var dd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dd||(dd={}));function T0(e,t,s){return s===void 0&&(s="/"),z0(e,t,s)}function z0(e,t,s,r){let l=typeof t=="string"?hr(t):t,a=or(l.pathname||"/",s);if(a==null)return null;let i=mp(e);F0(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let u=Q0(a);c=U0(i[o],u)}return c}function mp(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let l=(a,i,c)=>{let o={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};o.relativePath.startsWith("/")&&(ue(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let u=Mn([r,o.relativePath]),m=s.concat(o);a.children&&a.children.length>0&&(ue(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mp(a.children,t,m,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:$0(u,a.index),routesMeta:m})};return e.forEach((a,i)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))l(a,i);else for(let o of pp(a.path))l(a,i,o)}),t}function pp(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,l=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return l?[a,""]:[a];let i=pp(r.join("/")),c=[];return c.push(...i.map(o=>o===""?a:[a,o].join("/"))),l&&c.push(...i),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function F0(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:q0(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const M0=/^:[\w-]+$/,O0=3,R0=2,L0=1,D0=10,A0=-2,hd=e=>e==="*";function $0(e,t){let s=e.split("/"),r=s.length;return s.some(hd)&&(r+=A0),t&&(r+=R0),s.filter(l=>!hd(l)).reduce((l,a)=>l+(M0.test(a)?O0:a===""?L0:D0),r)}function q0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function U0(e,t,s){let{routesMeta:r}=e,l={},a="/",i=[];for(let c=0;c<r.length;++c){let o=r[c],u=c===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",h=Co({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},m),p=o.route;if(!h)return null;Object.assign(l,h.params),i.push({params:l,pathname:Mn([a,h.pathname]),pathnameBase:G0(Mn([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=Mn([a,h.pathnameBase]))}return i}function Co(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=B0(e.path,e.caseSensitive,e.end),l=t.match(s);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),c=l.slice(1);return{params:r.reduce((u,m,h)=>{let{paramName:p,isOptional:f}=m;if(p==="*"){let j=c[h]||"";i=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const b=c[h];return f&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function B0(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),$c(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(r.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Q0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function or(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}const K0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V0=e=>K0.test(e);function H0(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:l=""}=typeof e=="string"?hr(e):e,a;if(s)if(V0(s))a=s;else{if(s.includes("//")){let i=s;s=s.replace(/\/\/+/g,"/"),$c(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+s))}s.startsWith("/")?a=md(s.substring(1),"/"):a=md(s,t)}else a=t;return{pathname:a,search:Y0(r),hash:J0(l)}}function md(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function Ii(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W0(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function qc(e,t){let s=W0(e);return t?s.map((r,l)=>l===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Uc(e,t,s,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=hr(e):(l=sl({},e),ue(!l.pathname||!l.pathname.includes("?"),Ii("?","pathname","search",l)),ue(!l.pathname||!l.pathname.includes("#"),Ii("#","pathname","hash",l)),ue(!l.search||!l.search.includes("#"),Ii("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,c;if(i==null)c=s;else{let h=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;l.pathname=p.join("/")}c=h>=0?t[h]:"/"}let o=H0(l,c),u=i&&i!=="/"&&i.endsWith("/"),m=(a||i===".")&&s.endsWith("/");return!o.pathname.endsWith("/")&&(u||m)&&(o.pathname+="/"),o}const Mn=e=>e.join("/").replace(/\/\/+/g,"/"),G0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,J0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function X0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fp=["post","put","patch","delete"];new Set(fp);const Z0=["get",...fp];new Set(Z0);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},rl.apply(this,arguments)}const Wa=y.createContext(null),xp=y.createContext(null),ln=y.createContext(null),Ga=y.createContext(null),qn=y.createContext({outlet:null,matches:[],isDataRoute:!1}),gp=y.createContext(null);function eg(e,t){let{relative:s}=t===void 0?{}:t;mr()||ue(!1);let{basename:r,navigator:l}=y.useContext(ln),{hash:a,pathname:i,search:c}=Ja(e,{relative:s}),o=i;return r!=="/"&&(o=i==="/"?r:Mn([r,i])),l.createHref({pathname:o,search:c,hash:a})}function mr(){return y.useContext(Ga)!=null}function Un(){return mr()||ue(!1),y.useContext(Ga).location}function yp(e){y.useContext(ln).static||y.useLayoutEffect(e)}function Ya(){let{isDataRoute:e}=y.useContext(qn);return e?mg():tg()}function tg(){mr()||ue(!1);let e=y.useContext(Wa),{basename:t,future:s,navigator:r}=y.useContext(ln),{matches:l}=y.useContext(qn),{pathname:a}=Un(),i=JSON.stringify(qc(l,s.v7_relativeSplatPath)),c=y.useRef(!1);return yp(()=>{c.current=!0}),y.useCallback(function(u,m){if(m===void 0&&(m={}),!c.current)return;if(typeof u=="number"){r.go(u);return}let h=Uc(u,JSON.parse(i),a,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Mn([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,i,a,e])}function Ja(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=y.useContext(ln),{matches:l}=y.useContext(qn),{pathname:a}=Un(),i=JSON.stringify(qc(l,r.v7_relativeSplatPath));return y.useMemo(()=>Uc(e,JSON.parse(i),a,s==="path"),[e,i,a,s])}function ng(e,t){return sg(e,t)}function sg(e,t,s,r){mr()||ue(!1);let{navigator:l}=y.useContext(ln),{matches:a}=y.useContext(qn),i=a[a.length-1],c=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let u=Un(),m;if(t){var h;let w=typeof t=="string"?hr(t):t;o==="/"||(h=w.pathname)!=null&&h.startsWith(o)||ue(!1),m=w}else m=u;let p=m.pathname||"/",f=p;if(o!=="/"){let w=o.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=T0(e,{pathname:f}),j=og(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Mn([o,l.encodeLocation?l.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?o:Mn([o,l.encodeLocation?l.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,s,r);return t&&j?y.createElement(Ga.Provider,{value:{location:rl({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Sn.Pop}},j):j}function rg(){let e=hg(),t=X0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),s?y.createElement("pre",{style:l},s):null,null)}const lg=y.createElement(rg,null);class ag extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?y.createElement(qn.Provider,{value:this.props.routeContext},y.createElement(gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ig(e){let{routeContext:t,match:s,children:r}=e,l=y.useContext(Wa);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),y.createElement(qn.Provider,{value:t},r)}function og(e,t,s,r){var l;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,c=(l=s)==null?void 0:l.errors;if(c!=null){let m=i.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);m>=0||ue(!1),i=i.slice(0,Math.min(i.length,m+1))}let o=!1,u=-1;if(s&&r&&r.v7_partialHydration)for(let m=0;m<i.length;m++){let h=i[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=m),h.route.id){let{loaderData:p,errors:f}=s,b=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||b){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((m,h,p)=>{let f,b=!1,j=null,w=null;s&&(f=c&&h.route.id?c[h.route.id]:void 0,j=h.route.errorElement||lg,o&&(u<0&&p===0?(pg("route-fallback"),b=!0,w=null):u===p&&(b=!0,w=h.route.hydrateFallbackElement||null)));let d=t.concat(i.slice(0,p+1)),x=()=>{let v;return f?v=j:b?v=w:h.route.Component?v=y.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=m,y.createElement(ig,{match:h,routeContext:{outlet:m,matches:d,isDataRoute:s!=null},children:v})};return s&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(ag,{location:s.location,revalidation:s.revalidation,component:j,error:f,children:x(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):x()},null)}var vp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(vp||{}),bp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bp||{});function cg(e){let t=y.useContext(Wa);return t||ue(!1),t}function ug(e){let t=y.useContext(xp);return t||ue(!1),t}function dg(e){let t=y.useContext(qn);return t||ue(!1),t}function jp(e){let t=dg(),s=t.matches[t.matches.length-1];return s.route.id||ue(!1),s.route.id}function hg(){var e;let t=y.useContext(gp),s=ug(),r=jp();return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function mg(){let{router:e}=cg(vp.UseNavigateStable),t=jp(bp.UseNavigateStable),s=y.useRef(!1);return yp(()=>{s.current=!0}),y.useCallback(function(l,a){a===void 0&&(a={}),s.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,rl({fromRouteId:t},a)))},[e,t])}const pd={};function pg(e,t,s){pd[e]||(pd[e]=!0)}function fg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function xg(e){let{to:t,replace:s,state:r,relative:l}=e;mr()||ue(!1);let{future:a,static:i}=y.useContext(ln),{matches:c}=y.useContext(qn),{pathname:o}=Un(),u=Ya(),m=Uc(t,qc(c,a.v7_relativeSplatPath),o,l==="path"),h=JSON.stringify(m);return y.useEffect(()=>u(JSON.parse(h),{replace:s,state:r,relative:l}),[u,h,l,s,r]),null}function Oe(e){ue(!1)}function gg(e){let{basename:t="/",children:s=null,location:r,navigationType:l=Sn.Pop,navigator:a,static:i=!1,future:c}=e;mr()&&ue(!1);let o=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:o,navigator:a,static:i,future:rl({v7_relativeSplatPath:!1},c)}),[o,c,a,i]);typeof r=="string"&&(r=hr(r));let{pathname:m="/",search:h="",hash:p="",state:f=null,key:b="default"}=r,j=y.useMemo(()=>{let w=or(m,o);return w==null?null:{location:{pathname:w,search:h,hash:p,state:f,key:b},navigationType:l}},[o,m,h,p,f,b,l]);return j==null?null:y.createElement(ln.Provider,{value:u},y.createElement(Ga.Provider,{children:s,value:j}))}function yg(e){let{children:t,location:s}=e;return ng(Po(t),s)}new Promise(()=>{});function Po(e,t){t===void 0&&(t=[]);let s=[];return y.Children.forEach(e,(r,l)=>{if(!y.isValidElement(r))return;let a=[...t,l];if(r.type===y.Fragment){s.push.apply(s,Po(r.props.children,a));return}r.type!==Oe&&ue(!1),!r.props.index||!r.props.children||ue(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Po(r.props.children,a)),s.push(i)}),s}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ka.apply(this,arguments)}function Np(e,t){if(e==null)return{};var s={},r=Object.keys(e),l,a;for(a=0;a<r.length;a++)l=r[a],!(t.indexOf(l)>=0)&&(s[l]=e[l]);return s}function vg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bg(e,t){return e.button===0&&(!t||t==="_self")&&!vg(e)}const jg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ng=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],wg="6";try{window.__reactRouterVersion=wg}catch{}const _g=y.createContext({isTransitioning:!1}),Sg="startTransition",fd=xf[Sg];function kg(e){let{basename:t,children:s,future:r,window:l}=e,a=y.useRef();a.current==null&&(a.current=P0({window:l,v5Compat:!0}));let i=a.current,[c,o]=y.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},m=y.useCallback(h=>{u&&fd?fd(()=>o(h)):o(h)},[o,u]);return y.useLayoutEffect(()=>i.listen(m),[i,m]),y.useEffect(()=>fg(r),[r]),y.createElement(gg,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:i,future:r})}const Cg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eg=y.forwardRef(function(t,s){let{onClick:r,relative:l,reloadDocument:a,replace:i,state:c,target:o,to:u,preventScrollReset:m,viewTransition:h}=t,p=Np(t,jg),{basename:f}=y.useContext(ln),b,j=!1;if(typeof u=="string"&&Pg.test(u)&&(b=u,Cg))try{let v=new URL(window.location.href),N=u.startsWith("//")?new URL(v.protocol+u):new URL(u),C=or(N.pathname,f);N.origin===v.origin&&C!=null?u=C+N.search+N.hash:j=!0}catch{}let w=eg(u,{relative:l}),d=zg(u,{replace:i,state:c,target:o,preventScrollReset:m,relative:l,viewTransition:h});function x(v){r&&r(v),v.defaultPrevented||d(v)}return y.createElement("a",ka({},p,{href:b||w,onClick:j||a?r:x,ref:s,target:o}))}),Ig=y.forwardRef(function(t,s){let{"aria-current":r="page",caseSensitive:l=!1,className:a="",end:i=!1,style:c,to:o,viewTransition:u,children:m}=t,h=Np(t,Ng),p=Ja(o,{relative:h.relative}),f=Un(),b=y.useContext(xp),{navigator:j,basename:w}=y.useContext(ln),d=b!=null&&Fg(p)&&u===!0,x=j.encodeLocation?j.encodeLocation(p).pathname:p.pathname,v=f.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;l||(v=v.toLowerCase(),N=N?N.toLowerCase():null,x=x.toLowerCase()),N&&w&&(N=or(N,w)||N);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let k=v===x||!i&&v.startsWith(x)&&v.charAt(C)==="/",I=N!=null&&(N===x||!i&&N.startsWith(x)&&N.charAt(x.length)==="/"),E={isActive:k,isPending:I,isTransitioning:d},T=k?r:void 0,S;typeof a=="function"?S=a(E):S=[a,k?"active":null,I?"pending":null,d?"transitioning":null].filter(Boolean).join(" ");let g=typeof c=="function"?c(E):c;return y.createElement(Eg,ka({},h,{"aria-current":T,className:S,ref:s,style:g,to:o,viewTransition:u}),typeof m=="function"?m(E):m)});var Eo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Eo||(Eo={}));var xd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xd||(xd={}));function Tg(e){let t=y.useContext(Wa);return t||ue(!1),t}function zg(e,t){let{target:s,replace:r,state:l,preventScrollReset:a,relative:i,viewTransition:c}=t===void 0?{}:t,o=Ya(),u=Un(),m=Ja(e,{relative:i});return y.useCallback(h=>{if(bg(h,s)){h.preventDefault();let p=r!==void 0?r:Sa(u)===Sa(m);o(e,{replace:p,state:l,preventScrollReset:a,relative:i,viewTransition:c})}},[u,o,m,r,l,s,e,a,i,c])}function Fg(e,t){t===void 0&&(t={});let s=y.useContext(_g);s==null&&ue(!1);let{basename:r}=Tg(Eo.useViewTransitionState),l=Ja(e,{relative:t.relative});if(!s.isTransitioning)return!1;let a=or(s.currentLocation.pathname,r)||s.currentLocation.pathname,i=or(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Co(l.pathname,i)!=null||Co(l.pathname,a)!=null}var pr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mg={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},pn,Ko,Bd,Og=(Bd=class{constructor(){B(this,pn,Mg);B(this,Ko,!1)}setTimeoutProvider(e){A(this,pn,e)}setTimeout(e,t){return _(this,pn).setTimeout(e,t)}clearTimeout(e){_(this,pn).clearTimeout(e)}setInterval(e,t){return _(this,pn).setInterval(e,t)}clearInterval(e){_(this,pn).clearInterval(e)}},pn=new WeakMap,Ko=new WeakMap,Bd),Yn=new Og;function Rg(e){setTimeout(e,0)}var ps=typeof window>"u"||"Deno"in globalThis;function qe(){}function Lg(e,t){return typeof e=="function"?e(t):e}function Io(e){return typeof e=="number"&&e>=0&&e!==1/0}function wp(e,t){return Math.max(e+(t||0)-Date.now(),0)}function On(e,t){return typeof e=="function"?e(t):e}function ht(e,t){return typeof e=="function"?e(t):e}function gd(e,t){const{type:s="all",exact:r,fetchStatus:l,predicate:a,queryKey:i,stale:c}=e;if(i){if(r){if(t.queryHash!==Bc(i,t.options))return!1}else if(!ll(t.queryKey,i))return!1}if(s!=="all"){const o=t.isActive();if(s==="active"&&!o||s==="inactive"&&o)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||l&&l!==t.state.fetchStatus||a&&!a(t))}function yd(e,t){const{exact:s,status:r,predicate:l,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(fs(t.options.mutationKey)!==fs(a))return!1}else if(!ll(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||l&&!l(t))}function Bc(e,t){return((t==null?void 0:t.queryKeyHashFn)||fs)(e)}function fs(e){return JSON.stringify(e,(t,s)=>To(s)?Object.keys(s).sort().reduce((r,l)=>(r[l]=s[l],r),{}):s)}function ll(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>ll(e[s],t[s])):!1}var Dg=Object.prototype.hasOwnProperty;function _p(e,t){if(e===t)return e;const s=vd(e)&&vd(t);if(!s&&!(To(e)&&To(t)))return t;const l=(s?e:Object.keys(e)).length,a=s?t:Object.keys(t),i=a.length,c=s?new Array(i):{};let o=0;for(let u=0;u<i;u++){const m=s?u:a[u],h=e[m],p=t[m];if(h===p){c[m]=h,(s?u<l:Dg.call(e,m))&&o++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){c[m]=p;continue}const f=_p(h,p);c[m]=f,f===h&&o++}return l===i&&o===l?e:c}function Ca(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function vd(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function To(e){if(!bd(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!bd(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bd(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ag(e){return new Promise(t=>{Yn.setTimeout(t,e)})}function zo(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?_p(e,t):t}function $g(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function qg(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var Qc=Symbol();function Sp(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Qc?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function kp(e,t){return typeof e=="function"?e(...t):!!e}var Jn,fn,Bs,Qd,Ug=(Qd=class extends pr{constructor(){super();B(this,Jn);B(this,fn);B(this,Bs);A(this,Bs,t=>{if(!ps&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){_(this,fn)||this.setEventListener(_(this,Bs))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,fn))==null||t.call(this),A(this,fn,void 0))}setEventListener(t){var s;A(this,Bs,t),(s=_(this,fn))==null||s.call(this),A(this,fn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){_(this,Jn)!==t&&(A(this,Jn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof _(this,Jn)=="boolean"?_(this,Jn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Jn=new WeakMap,fn=new WeakMap,Bs=new WeakMap,Qd),Kc=new Ug;function Fo(){let e,t;const s=new Promise((l,a)=>{e=l,t=a});s.status="pending",s.catch(()=>{});function r(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{r({status:"fulfilled",value:l}),e(l)},s.reject=l=>{r({status:"rejected",reason:l}),t(l)},s}var Bg=Rg;function Qg(){let e=[],t=0,s=c=>{c()},r=c=>{c()},l=Bg;const a=c=>{t?e.push(c):l(()=>{s(c)})},i=()=>{const c=e;e=[],c.length&&l(()=>{r(()=>{c.forEach(o=>{s(o)})})})};return{batch:c=>{let o;t++;try{o=c()}finally{t--,t||i()}return o},batchCalls:c=>(...o)=>{a(()=>{c(...o)})},schedule:a,setNotifyFunction:c=>{s=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{l=c}}}var Ne=Qg(),Qs,xn,Ks,Kd,Kg=(Kd=class extends pr{constructor(){super();B(this,Qs,!0);B(this,xn);B(this,Ks);A(this,Ks,t=>{if(!ps&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){_(this,xn)||this.setEventListener(_(this,Ks))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,xn))==null||t.call(this),A(this,xn,void 0))}setEventListener(t){var s;A(this,Ks,t),(s=_(this,xn))==null||s.call(this),A(this,xn,t(this.setOnline.bind(this)))}setOnline(t){_(this,Qs)!==t&&(A(this,Qs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return _(this,Qs)}},Qs=new WeakMap,xn=new WeakMap,Ks=new WeakMap,Kd),Pa=new Kg;function Vg(e){return Math.min(1e3*2**e,3e4)}function Cp(e){return(e??"online")==="online"?Pa.isOnline():!0}var Mo=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Pp(e){let t=!1,s=0,r;const l=Fo(),a=()=>l.status!=="pending",i=j=>{var w;if(!a()){const d=new Mo(j);p(d),(w=e.onCancel)==null||w.call(e,d)}},c=()=>{t=!0},o=()=>{t=!1},u=()=>Kc.isFocused()&&(e.networkMode==="always"||Pa.isOnline())&&e.canRun(),m=()=>Cp(e.networkMode)&&e.canRun(),h=j=>{a()||(r==null||r(),l.resolve(j))},p=j=>{a()||(r==null||r(),l.reject(j))},f=()=>new Promise(j=>{var w;r=d=>{(a()||u())&&j(d)},(w=e.onPause)==null||w.call(e)}).then(()=>{var j;r=void 0,a()||(j=e.onContinue)==null||j.call(e)}),b=()=>{if(a())return;let j;const w=s===0?e.initialPromise:void 0;try{j=w??e.fn()}catch(d){j=Promise.reject(d)}Promise.resolve(j).then(h).catch(d=>{var k;if(a())return;const x=e.retry??(ps?0:3),v=e.retryDelay??Vg,N=typeof v=="function"?v(s,d):v,C=x===!0||typeof x=="number"&&s<x||typeof x=="function"&&x(s,d);if(t||!C){p(d);return}s++,(k=e.onFail)==null||k.call(e,s,d),Ag(N).then(()=>u()?void 0:f()).then(()=>{t?p(d):b()})})};return{promise:l,status:()=>l.status,cancel:i,continue:()=>(r==null||r(),l),cancelRetry:c,continueRetry:o,canStart:m,start:()=>(m()?b():f().then(b),l)}}var Xn,Vd,Ep=(Vd=class{constructor(){B(this,Xn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Io(this.gcTime)&&A(this,Xn,Yn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ps?1/0:5*60*1e3))}clearGcTimeout(){_(this,Xn)&&(Yn.clearTimeout(_(this,Xn)),A(this,Xn,void 0))}},Xn=new WeakMap,Vd),Zn,Vs,dt,es,Se,ol,ts,Nt,$t,Hd,Hg=(Hd=class extends Ep{constructor(t){super();B(this,Nt);B(this,Zn);B(this,Vs);B(this,dt);B(this,es);B(this,Se);B(this,ol);B(this,ts);A(this,ts,!1),A(this,ol,t.defaultOptions),this.setOptions(t.options),this.observers=[],A(this,es,t.client),A(this,dt,_(this,es).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,A(this,Zn,Nd(this.options)),this.state=t.state??_(this,Zn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,Se))==null?void 0:t.promise}setOptions(t){if(this.options={..._(this,ol),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Nd(this.options);s.data!==void 0&&(this.setState(jd(s.data,s.dataUpdatedAt)),A(this,Zn,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,dt).remove(this)}setData(t,s){const r=zo(this.state.data,t,this.options);return V(this,Nt,$t).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){V(this,Nt,$t).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,l;const s=(r=_(this,Se))==null?void 0:r.promise;return(l=_(this,Se))==null||l.cancel(t),s?s.then(qe).catch(qe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,Zn))}isActive(){return this.observers.some(t=>ht(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>On(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!wp(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=_(this,Se))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=_(this,Se))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,dt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(_(this,Se)&&(_(this,ts)?_(this,Se).cancel({revert:!0}):_(this,Se).cancelRetry()),this.scheduleGc()),_(this,dt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||V(this,Nt,$t).call(this,{type:"invalidate"})}async fetch(t,s){var o,u,m,h,p,f,b,j,w,d,x,v;if(this.state.fetchStatus!=="idle"&&((o=_(this,Se))==null?void 0:o.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(_(this,Se))return _(this,Se).continueRetry(),_(this,Se).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(C=>C.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,l=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(A(this,ts,!0),r.signal)})},a=()=>{const N=Sp(this.options,s),k=(()=>{const I={client:_(this,es),queryKey:this.queryKey,meta:this.meta};return l(I),I})();return A(this,ts,!1),this.options.persister?this.options.persister(N,k,this):N(k)},c=(()=>{const N={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:_(this,es),state:this.state,fetchFn:a};return l(N),N})();(u=this.options.behavior)==null||u.onFetch(c,this),A(this,Vs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&V(this,Nt,$t).call(this,{type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta}),A(this,Se,Pp({initialPromise:s==null?void 0:s.initialPromise,fn:c.fetchFn,onCancel:N=>{N instanceof Mo&&N.revert&&this.setState({..._(this,Vs),fetchStatus:"idle"}),r.abort()},onFail:(N,C)=>{V(this,Nt,$t).call(this,{type:"failed",failureCount:N,error:C})},onPause:()=>{V(this,Nt,$t).call(this,{type:"pause"})},onContinue:()=>{V(this,Nt,$t).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const N=await _(this,Se).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(f=(p=_(this,dt).config).onSuccess)==null||f.call(p,N,this),(j=(b=_(this,dt).config).onSettled)==null||j.call(b,N,this.state.error,this),N}catch(N){if(N instanceof Mo){if(N.silent)return _(this,Se).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw V(this,Nt,$t).call(this,{type:"error",error:N}),(d=(w=_(this,dt).config).onError)==null||d.call(w,N,this),(v=(x=_(this,dt).config).onSettled)==null||v.call(x,this.state.data,N,this),N}finally{this.scheduleGc()}}},Zn=new WeakMap,Vs=new WeakMap,dt=new WeakMap,es=new WeakMap,Se=new WeakMap,ol=new WeakMap,ts=new WeakMap,Nt=new WeakSet,$t=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Ip(r.data,this.options),fetchMeta:t.meta??null};case"success":const l={...r,...jd(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return A(this,Vs,t.manual?l:void 0),l;case"error":const a=t.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),Ne.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),_(this,dt).notify({query:this,type:"updated",action:t})})},Hd);function Ip(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Cp(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jd(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Nd(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var We,X,cl,De,ns,Hs,Qt,gn,ul,Ws,Gs,ss,rs,yn,Ys,ee,Pr,Oo,Ro,Lo,Do,Ao,$o,qo,Tp,Wd,Wg=(Wd=class extends pr{constructor(t,s){super();B(this,ee);B(this,We);B(this,X);B(this,cl);B(this,De);B(this,ns);B(this,Hs);B(this,Qt);B(this,gn);B(this,ul);B(this,Ws);B(this,Gs);B(this,ss);B(this,rs);B(this,yn);B(this,Ys,new Set);this.options=s,A(this,We,t),A(this,gn,null),A(this,Qt,Fo()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,X).addObserver(this),wd(_(this,X),this.options)?V(this,ee,Pr).call(this):this.updateResult(),V(this,ee,Do).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Uo(_(this,X),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Uo(_(this,X),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,V(this,ee,Ao).call(this),V(this,ee,$o).call(this),_(this,X).removeObserver(this)}setOptions(t){const s=this.options,r=_(this,X);if(this.options=_(this,We).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ht(this.options.enabled,_(this,X))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");V(this,ee,qo).call(this),_(this,X).setOptions(this.options),s._defaulted&&!Ca(this.options,s)&&_(this,We).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,X),observer:this});const l=this.hasListeners();l&&_d(_(this,X),r,this.options,s)&&V(this,ee,Pr).call(this),this.updateResult(),l&&(_(this,X)!==r||ht(this.options.enabled,_(this,X))!==ht(s.enabled,_(this,X))||On(this.options.staleTime,_(this,X))!==On(s.staleTime,_(this,X)))&&V(this,ee,Oo).call(this);const a=V(this,ee,Ro).call(this);l&&(_(this,X)!==r||ht(this.options.enabled,_(this,X))!==ht(s.enabled,_(this,X))||a!==_(this,yn))&&V(this,ee,Lo).call(this,a)}getOptimisticResult(t){const s=_(this,We).getQueryCache().build(_(this,We),t),r=this.createResult(s,t);return Yg(this,r)&&(A(this,De,r),A(this,Hs,this.options),A(this,ns,_(this,X).state)),r}getCurrentResult(){return _(this,De)}trackResult(t,s){return new Proxy(t,{get:(r,l)=>(this.trackProp(l),s==null||s(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&_(this,Qt).status==="pending"&&_(this,Qt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,l))})}trackProp(t){_(this,Ys).add(t)}getCurrentQuery(){return _(this,X)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=_(this,We).defaultQueryOptions(t),r=_(this,We).getQueryCache().build(_(this,We),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return V(this,ee,Pr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,De)))}createResult(t,s){var T;const r=_(this,X),l=this.options,a=_(this,De),i=_(this,ns),c=_(this,Hs),u=t!==r?t.state:_(this,cl),{state:m}=t;let h={...m},p=!1,f;if(s._optimisticResults){const S=this.hasListeners(),g=!S&&wd(t,s),M=S&&_d(t,r,s,l);(g||M)&&(h={...h,...Ip(m.data,t.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:j,status:w}=h;f=h.data;let d=!1;if(s.placeholderData!==void 0&&f===void 0&&w==="pending"){let S;a!=null&&a.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData)?(S=a.data,d=!0):S=typeof s.placeholderData=="function"?s.placeholderData((T=_(this,Gs))==null?void 0:T.state.data,_(this,Gs)):s.placeholderData,S!==void 0&&(w="success",f=zo(a==null?void 0:a.data,S,s),p=!0)}if(s.select&&f!==void 0&&!d)if(a&&f===(i==null?void 0:i.data)&&s.select===_(this,ul))f=_(this,Ws);else try{A(this,ul,s.select),f=s.select(f),f=zo(a==null?void 0:a.data,f,s),A(this,Ws,f),A(this,gn,null)}catch(S){A(this,gn,S)}_(this,gn)&&(b=_(this,gn),f=_(this,Ws),j=Date.now(),w="error");const x=h.fetchStatus==="fetching",v=w==="pending",N=w==="error",C=v&&x,k=f!==void 0,E={status:w,fetchStatus:h.fetchStatus,isPending:v,isSuccess:w==="success",isError:N,isInitialLoading:C,isLoading:C,data:f,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:j,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!v,isLoadingError:N&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:N&&k,isStale:Vc(t,s),refetch:this.refetch,promise:_(this,Qt),isEnabled:ht(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const S=q=>{E.status==="error"?q.reject(E.error):E.data!==void 0&&q.resolve(E.data)},g=()=>{const q=A(this,Qt,E.promise=Fo());S(q)},M=_(this,Qt);switch(M.status){case"pending":t.queryHash===r.queryHash&&S(M);break;case"fulfilled":(E.status==="error"||E.data!==M.value)&&g();break;case"rejected":(E.status!=="error"||E.error!==M.reason)&&g();break}}return E}updateResult(){const t=_(this,De),s=this.createResult(_(this,X),this.options);if(A(this,ns,_(this,X).state),A(this,Hs,this.options),_(this,ns).data!==void 0&&A(this,Gs,_(this,X)),Ca(s,t))return;A(this,De,s);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,a=typeof l=="function"?l():l;if(a==="all"||!a&&!_(this,Ys).size)return!0;const i=new Set(a??_(this,Ys));return this.options.throwOnError&&i.add("error"),Object.keys(_(this,De)).some(c=>{const o=c;return _(this,De)[o]!==t[o]&&i.has(o)})};V(this,ee,Tp).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&V(this,ee,Do).call(this)}},We=new WeakMap,X=new WeakMap,cl=new WeakMap,De=new WeakMap,ns=new WeakMap,Hs=new WeakMap,Qt=new WeakMap,gn=new WeakMap,ul=new WeakMap,Ws=new WeakMap,Gs=new WeakMap,ss=new WeakMap,rs=new WeakMap,yn=new WeakMap,Ys=new WeakMap,ee=new WeakSet,Pr=function(t){V(this,ee,qo).call(this);let s=_(this,X).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(qe)),s},Oo=function(){V(this,ee,Ao).call(this);const t=On(this.options.staleTime,_(this,X));if(ps||_(this,De).isStale||!Io(t))return;const r=wp(_(this,De).dataUpdatedAt,t)+1;A(this,ss,Yn.setTimeout(()=>{_(this,De).isStale||this.updateResult()},r))},Ro=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,X)):this.options.refetchInterval)??!1},Lo=function(t){V(this,ee,$o).call(this),A(this,yn,t),!(ps||ht(this.options.enabled,_(this,X))===!1||!Io(_(this,yn))||_(this,yn)===0)&&A(this,rs,Yn.setInterval(()=>{(this.options.refetchIntervalInBackground||Kc.isFocused())&&V(this,ee,Pr).call(this)},_(this,yn)))},Do=function(){V(this,ee,Oo).call(this),V(this,ee,Lo).call(this,V(this,ee,Ro).call(this))},Ao=function(){_(this,ss)&&(Yn.clearTimeout(_(this,ss)),A(this,ss,void 0))},$o=function(){_(this,rs)&&(Yn.clearInterval(_(this,rs)),A(this,rs,void 0))},qo=function(){const t=_(this,We).getQueryCache().build(_(this,We),this.options);if(t===_(this,X))return;const s=_(this,X);A(this,X,t),A(this,cl,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Tp=function(t){Ne.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(_(this,De))}),_(this,We).getQueryCache().notify({query:_(this,X),type:"observerResultsUpdated"})})},Wd);function Gg(e,t){return ht(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wd(e,t){return Gg(e,t)||e.state.data!==void 0&&Uo(e,t,t.refetchOnMount)}function Uo(e,t,s){if(ht(t.enabled,e)!==!1&&On(t.staleTime,e)!=="static"){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&Vc(e,t)}return!1}function _d(e,t,s,r){return(e!==t||ht(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Vc(e,s)}function Vc(e,t){return ht(t.enabled,e)!==!1&&e.isStaleByTime(On(t.staleTime,e))}function Yg(e,t){return!Ca(e.getCurrentResult(),t)}function Sd(e){return{onFetch:(t,s)=>{var m,h,p,f,b;const r=t.options,l=(p=(h=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,a=((f=t.state.data)==null?void 0:f.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let c={pages:[],pageParams:[]},o=0;const u=async()=>{let j=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?j=!0:t.signal.addEventListener("abort",()=>{j=!0}),t.signal)})},d=Sp(t.options,t.fetchOptions),x=async(v,N,C)=>{if(j)return Promise.reject();if(N==null&&v.pages.length)return Promise.resolve(v);const I=(()=>{const g={client:t.client,queryKey:t.queryKey,pageParam:N,direction:C?"backward":"forward",meta:t.options.meta};return w(g),g})(),E=await d(I),{maxPages:T}=t.options,S=C?qg:$g;return{pages:S(v.pages,E,T),pageParams:S(v.pageParams,N,T)}};if(l&&a.length){const v=l==="backward",N=v?Jg:kd,C={pages:a,pageParams:i},k=N(r,C);c=await x(C,k,v)}else{const v=e??a.length;do{const N=o===0?i[0]??r.initialPageParam:kd(r,c);if(o>0&&N==null)break;c=await x(c,N),o++}while(o<v)}return c};t.options.persister?t.fetchFn=()=>{var j,w;return(w=(j=t.options).persister)==null?void 0:w.call(j,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=u}}}function kd(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function Jg(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var dl,Tt,Ae,ls,zt,cn,Gd,Xg=(Gd=class extends Ep{constructor(t){super();B(this,zt);B(this,dl);B(this,Tt);B(this,Ae);B(this,ls);A(this,dl,t.client),this.mutationId=t.mutationId,A(this,Ae,t.mutationCache),A(this,Tt,[]),this.state=t.state||zp(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,Tt).includes(t)||(_(this,Tt).push(t),this.clearGcTimeout(),_(this,Ae).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){A(this,Tt,_(this,Tt).filter(s=>s!==t)),this.scheduleGc(),_(this,Ae).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,Tt).length||(this.state.status==="pending"?this.scheduleGc():_(this,Ae).remove(this))}continue(){var t;return((t=_(this,ls))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,c,o,u,m,h,p,f,b,j,w,d,x,v,N,C,k,I,E,T;const s=()=>{V(this,zt,cn).call(this,{type:"continue"})},r={client:_(this,dl),meta:this.options.meta,mutationKey:this.options.mutationKey};A(this,ls,Pp({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(S,g)=>{V(this,zt,cn).call(this,{type:"failed",failureCount:S,error:g})},onPause:()=>{V(this,zt,cn).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,Ae).canRun(this)}));const l=this.state.status==="pending",a=!_(this,ls).canStart();try{if(l)s();else{V(this,zt,cn).call(this,{type:"pending",variables:t,isPaused:a}),await((c=(i=_(this,Ae).config).onMutate)==null?void 0:c.call(i,t,this,r));const g=await((u=(o=this.options).onMutate)==null?void 0:u.call(o,t,r));g!==this.state.context&&V(this,zt,cn).call(this,{type:"pending",context:g,variables:t,isPaused:a})}const S=await _(this,ls).start();return await((h=(m=_(this,Ae).config).onSuccess)==null?void 0:h.call(m,S,t,this.state.context,this,r)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,S,t,this.state.context,r)),await((j=(b=_(this,Ae).config).onSettled)==null?void 0:j.call(b,S,null,this.state.variables,this.state.context,this,r)),await((d=(w=this.options).onSettled)==null?void 0:d.call(w,S,null,t,this.state.context,r)),V(this,zt,cn).call(this,{type:"success",data:S}),S}catch(S){try{throw await((v=(x=_(this,Ae).config).onError)==null?void 0:v.call(x,S,t,this.state.context,this,r)),await((C=(N=this.options).onError)==null?void 0:C.call(N,S,t,this.state.context,r)),await((I=(k=_(this,Ae).config).onSettled)==null?void 0:I.call(k,void 0,S,this.state.variables,this.state.context,this,r)),await((T=(E=this.options).onSettled)==null?void 0:T.call(E,void 0,S,t,this.state.context,r)),S}finally{V(this,zt,cn).call(this,{type:"error",error:S})}}finally{_(this,Ae).runNext(this)}}},dl=new WeakMap,Tt=new WeakMap,Ae=new WeakMap,ls=new WeakMap,zt=new WeakSet,cn=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Ne.batch(()=>{_(this,Tt).forEach(r=>{r.onMutationUpdate(t)}),_(this,Ae).notify({mutation:this,type:"updated",action:t})})},Gd);function zp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kt,wt,hl,Yd,Zg=(Yd=class extends pr{constructor(t={}){super();B(this,Kt);B(this,wt);B(this,hl);this.config=t,A(this,Kt,new Set),A(this,wt,new Map),A(this,hl,0)}build(t,s,r){const l=new Xg({client:t,mutationCache:this,mutationId:++vl(this,hl)._,options:t.defaultMutationOptions(s),state:r});return this.add(l),l}add(t){_(this,Kt).add(t);const s=Ll(t);if(typeof s=="string"){const r=_(this,wt).get(s);r?r.push(t):_(this,wt).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(_(this,Kt).delete(t)){const s=Ll(t);if(typeof s=="string"){const r=_(this,wt).get(s);if(r)if(r.length>1){const l=r.indexOf(t);l!==-1&&r.splice(l,1)}else r[0]===t&&_(this,wt).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Ll(t);if(typeof s=="string"){const r=_(this,wt).get(s),l=r==null?void 0:r.find(a=>a.state.status==="pending");return!l||l===t}else return!0}runNext(t){var r;const s=Ll(t);if(typeof s=="string"){const l=(r=_(this,wt).get(s))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ne.batch(()=>{_(this,Kt).forEach(t=>{this.notify({type:"removed",mutation:t})}),_(this,Kt).clear(),_(this,wt).clear()})}getAll(){return Array.from(_(this,Kt))}find(t){const s={exact:!0,...t};return this.getAll().find(r=>yd(s,r))}findAll(t={}){return this.getAll().filter(s=>yd(t,s))}notify(t){Ne.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Ne.batch(()=>Promise.all(t.map(s=>s.continue().catch(qe))))}},Kt=new WeakMap,wt=new WeakMap,hl=new WeakMap,Yd);function Ll(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Vt,vn,Ge,Ht,Xt,Zl,Bo,Jd,ey=(Jd=class extends pr{constructor(s,r){super();B(this,Xt);B(this,Vt);B(this,vn);B(this,Ge);B(this,Ht);A(this,Vt,s),this.setOptions(r),this.bindMethods(),V(this,Xt,Zl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var l;const r=this.options;this.options=_(this,Vt).defaultMutationOptions(s),Ca(this.options,r)||_(this,Vt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,Ge),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&fs(r.mutationKey)!==fs(this.options.mutationKey)?this.reset():((l=_(this,Ge))==null?void 0:l.state.status)==="pending"&&_(this,Ge).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=_(this,Ge))==null||s.removeObserver(this)}onMutationUpdate(s){V(this,Xt,Zl).call(this),V(this,Xt,Bo).call(this,s)}getCurrentResult(){return _(this,vn)}reset(){var s;(s=_(this,Ge))==null||s.removeObserver(this),A(this,Ge,void 0),V(this,Xt,Zl).call(this),V(this,Xt,Bo).call(this)}mutate(s,r){var l;return A(this,Ht,r),(l=_(this,Ge))==null||l.removeObserver(this),A(this,Ge,_(this,Vt).getMutationCache().build(_(this,Vt),this.options)),_(this,Ge).addObserver(this),_(this,Ge).execute(s)}},Vt=new WeakMap,vn=new WeakMap,Ge=new WeakMap,Ht=new WeakMap,Xt=new WeakSet,Zl=function(){var r;const s=((r=_(this,Ge))==null?void 0:r.state)??zp();A(this,vn,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Bo=function(s){Ne.batch(()=>{var r,l,a,i,c,o,u,m;if(_(this,Ht)&&this.hasListeners()){const h=_(this,vn).variables,p=_(this,vn).context,f={client:_(this,Vt),meta:this.options.meta,mutationKey:this.options.mutationKey};(s==null?void 0:s.type)==="success"?((l=(r=_(this,Ht)).onSuccess)==null||l.call(r,s.data,h,p,f),(i=(a=_(this,Ht)).onSettled)==null||i.call(a,s.data,null,h,p,f)):(s==null?void 0:s.type)==="error"&&((o=(c=_(this,Ht)).onError)==null||o.call(c,s.error,h,p,f),(m=(u=_(this,Ht)).onSettled)==null||m.call(u,void 0,s.error,h,p,f))}this.listeners.forEach(h=>{h(_(this,vn))})})},Jd),Ft,Xd,ty=(Xd=class extends pr{constructor(t={}){super();B(this,Ft);this.config=t,A(this,Ft,new Map)}build(t,s,r){const l=s.queryKey,a=s.queryHash??Bc(l,s);let i=this.get(a);return i||(i=new Hg({client:t,queryKey:l,queryHash:a,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(l)}),this.add(i)),i}add(t){_(this,Ft).has(t.queryHash)||(_(this,Ft).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=_(this,Ft).get(t.queryHash);s&&(t.destroy(),s===t&&_(this,Ft).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ne.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,Ft).get(t)}getAll(){return[..._(this,Ft).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>gd(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>gd(t,r)):s}notify(t){Ne.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Ne.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ne.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ft=new WeakMap,Xd),me,bn,jn,Js,Xs,Nn,Zs,er,Zd,ny=(Zd=class{constructor(e={}){B(this,me);B(this,bn);B(this,jn);B(this,Js);B(this,Xs);B(this,Nn);B(this,Zs);B(this,er);A(this,me,e.queryCache||new ty),A(this,bn,e.mutationCache||new Zg),A(this,jn,e.defaultOptions||{}),A(this,Js,new Map),A(this,Xs,new Map),A(this,Nn,0)}mount(){vl(this,Nn)._++,_(this,Nn)===1&&(A(this,Zs,Kc.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,me).onFocus())})),A(this,er,Pa.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,me).onOnline())})))}unmount(){var e,t;vl(this,Nn)._--,_(this,Nn)===0&&((e=_(this,Zs))==null||e.call(this),A(this,Zs,void 0),(t=_(this,er))==null||t.call(this),A(this,er,void 0))}isFetching(e){return _(this,me).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,bn).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=_(this,me).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=_(this,me).build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(On(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return _(this,me).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),l=_(this,me).get(r.queryHash),a=l==null?void 0:l.state.data,i=Lg(t,a);if(i!==void 0)return _(this,me).build(this,r).setData(i,{...s,manual:!0})}setQueriesData(e,t,s){return Ne.batch(()=>_(this,me).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=_(this,me).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=_(this,me);Ne.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=_(this,me);return Ne.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=Ne.batch(()=>_(this,me).findAll(e).map(l=>l.cancel(s)));return Promise.all(r).then(qe).catch(qe)}invalidateQueries(e,t={}){return Ne.batch(()=>(_(this,me).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=Ne.batch(()=>_(this,me).findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let a=l.fetch(void 0,s);return s.throwOnError||(a=a.catch(qe)),l.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(qe)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=_(this,me).build(this,t);return s.isStaleByTime(On(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qe).catch(qe)}fetchInfiniteQuery(e){return e.behavior=Sd(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qe).catch(qe)}ensureInfiniteQueryData(e){return e.behavior=Sd(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Pa.isOnline()?_(this,bn).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,me)}getMutationCache(){return _(this,bn)}getDefaultOptions(){return _(this,jn)}setDefaultOptions(e){A(this,jn,e)}setQueryDefaults(e,t){_(this,Js).set(fs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,Js).values()],s={};return t.forEach(r=>{ll(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){_(this,Xs).set(fs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,Xs).values()],s={};return t.forEach(r=>{ll(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,jn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bc(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Qc&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,jn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,me).clear(),_(this,bn).clear()}},me=new WeakMap,bn=new WeakMap,jn=new WeakMap,Js=new WeakMap,Xs=new WeakMap,Nn=new WeakMap,Zs=new WeakMap,er=new WeakMap,Zd),Fp=y.createContext(void 0),nt=e=>{const t=y.useContext(Fp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},sy=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Fp.Provider,{value:e,children:t})),Mp=y.createContext(!1),ry=()=>y.useContext(Mp);Mp.Provider;function ly(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ay=y.createContext(ly()),iy=()=>y.useContext(ay),oy=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},cy=e=>{y.useEffect(()=>{e.clearReset()},[e])},uy=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(l&&e.data===void 0||kp(s,[e.error,r])),dy=e=>{if(e.suspense){const s=l=>l==="static"?l:Math.max(l??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...l)=>s(r(...l)):s(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},hy=(e,t)=>e.isLoading&&e.isFetching&&!t,my=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Cd=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function py(e,t,s){var h,p,f,b,j;const r=ry(),l=iy(),a=nt(),i=a.defaultQueryOptions(e);(p=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,i),i._optimisticResults=r?"isRestoring":"optimistic",dy(i),oy(i,l),cy(l);const c=!a.getQueryCache().get(i.queryHash),[o]=y.useState(()=>new t(a,i)),u=o.getOptimisticResult(i),m=!r&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(w=>{const d=m?o.subscribe(Ne.batchCalls(w)):qe;return o.updateResult(),d},[o,m]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),y.useEffect(()=>{o.setOptions(i)},[i,o]),my(i,u))throw Cd(i,o,l);if(uy({result:u,errorResetBoundary:l,throwOnError:i.throwOnError,query:a.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((b=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||b.call(f,i,u),i.experimental_prefetchInRender&&!ps&&hy(u,r)){const w=c?Cd(i,o,l):(j=a.getQueryCache().get(i.queryHash))==null?void 0:j.promise;w==null||w.catch(qe).finally(()=>{o.updateResult()})}return i.notifyOnChangeProps?u:o.trackResult(u)}function H(e,t){return py(e,Wg)}function be(e,t){const s=nt(),[r]=y.useState(()=>new ey(s,e));y.useEffect(()=>{r.setOptions(e)},[r,e]);const l=y.useSyncExternalStore(y.useCallback(i=>r.subscribe(Ne.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=y.useCallback((i,c)=>{r.mutate(i,c).catch(qe)},[r]);if(l.error&&kp(r.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:a,mutateAsync:l.mutate}}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(e,t)=>{const s=y.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:c="",children:o,...u},m)=>y.createElement("svg",{ref:m,...fy,width:l,height:l,stroke:r,strokeWidth:i?Number(a)*24/Number(l):a,className:["lucide",`lucide-${xy(e)}`,c].join(" "),...u},[...t.map(([h,p])=>y.createElement(h,p)),...Array.isArray(o)?o:[o]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=Q("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=Q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Q("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=Q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=Q("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Q("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Q("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=Q("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=Q("MinusSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Q("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=Q("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Q("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=Q("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=Q("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=Q("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Q("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Q("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Q("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=Q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=Q("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=Q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Oy=()=>typeof import.meta<"u"?"https://card-inventory-production.up.railway.app/api":"http://localhost:8000/api",Ia=Oy();function Pe(e){const t=new URLSearchParams;Object.entries(e).forEach(([r,l])=>{l!=null&&l!==""&&t.append(r,String(l))});const s=t.toString();return s?`?${s}`:""}function Ry(e){const t={};e&&(t["Content-Type"]=e);const s=Ay();return s&&(t.Authorization=`Bearer ${s}`),t}async function Qp(e){if(e.status===401)throw localStorage.removeItem("idgas_token"),window.location.href="/login",new Error("Session expired. Please log in again.");if(!e.ok){const t=await e.json().catch(()=>({detail:"Request failed"}));throw new Error(t.detail||`HTTP ${e.status}`)}if(e.status!==204)return e.json()}async function O(e,t={}){const s=`${Ia}${e}`,r=await fetch(s,{...t,headers:{...Ry(t.body instanceof FormData?void 0:"application/json"),...t.headers}});return Qp(r)}async function ft(e){return O(e,{method:"GET"})}async function Ta(e,t){return O(e,{method:"POST",body:t?JSON.stringify(t):void 0})}async function Ly(e,t){return O(e,{method:"PATCH",body:t?JSON.stringify(t):void 0})}async function Jc(e){return O(e,{method:"DELETE"})}async function Kp(e,t){return O(e,{method:"POST",body:t})}const Er="idgas_token",Vp=y.createContext(void 0);function Dy({children:e}){const[t,s]=y.useState(null),[r,l]=y.useState(()=>localStorage.getItem(Er)),[a,i]=y.useState(!0);y.useEffect(()=>{async function h(){if(!r){s(null),i(!1);return}try{const p=await fetch(`${Ia}/auth/me`,{headers:{Authorization:`Bearer ${r}`}});if(p.ok){const f=await p.json();s(f)}else localStorage.removeItem(Er),l(null),s(null)}catch(p){console.error("Failed to fetch user:",p)}i(!1)}h()},[r]);const m={user:t,token:r,isAuthenticated:!!t,isLoading:a,login:async(h,p)=>{const f=await fetch(`${Ia}/auth/login/json`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,password:p})});if(!f.ok){const j=await f.json();throw new Error(j.detail||"Login failed")}const b=await f.json();localStorage.setItem(Er,b.access_token),l(b.access_token)},logout:()=>{localStorage.removeItem(Er),l(null),s(null)},updateUser:h=>{s(h)}};return n.jsx(Vp.Provider,{value:m,children:e})}function Xc(){const e=y.useContext(Vp);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Ay(){return localStorage.getItem(Er)}function Ve({children:e,requireAdmin:t=!1}){const{isAuthenticated:s,isLoading:r,user:l}=Xc(),a=Un();return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s?t&&!(l!=null&&l.is_admin)?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600",children:"You need admin privileges to access this page."})]})}):n.jsx(n.Fragment,{children:e}):n.jsx(xg,{to:"/login",state:{from:a},replace:!0})}function $y(){const{user:e,logout:t}=Xc(),[s,r]=y.useState(!1),l=y.useRef(null);return y.useEffect(()=>{function a(i){l.current&&!l.current.contains(i.target)&&r(!1)}return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),e?n.jsxs("div",{className:"relative",ref:l,children:[s&&n.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-slate-800 rounded-lg shadow-lg border border-slate-700 py-2 z-50",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[n.jsx("p",{className:"text-sm font-medium text-white",children:e.name}),n.jsx("p",{className:"text-xs text-slate-400",children:e.email}),e.is_admin&&n.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-purple-900/50 text-purple-300 text-xs rounded",children:"Admin"})]}),n.jsx("div",{className:"py-1",children:n.jsxs("button",{onClick:()=>{t(),r(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-400 hover:bg-slate-700 transition-colors",children:[n.jsx(Cy,{size:16}),"Sign out"]})})]}),n.jsxs("button",{onClick:()=>r(!s),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-slate-800 transition-colors",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:n.jsx(Fy,{size:16,className:"text-white"})}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("p",{className:"text-sm font-medium text-white truncate",children:e.name}),n.jsx("p",{className:"text-xs text-slate-400 truncate",children:e.email})]}),n.jsx(Wc,{size:16,className:`text-slate-400 transition-transform ${s?"rotate-180":""}`})]})]}):null}function qy(){var f,b;const[e,t]=y.useState(""),[s,r]=y.useState(""),[l,a]=y.useState(""),[i,c]=y.useState(!1),{login:o}=Xc(),u=Ya(),h=((b=(f=Un().state)==null?void 0:f.from)==null?void 0:b.pathname)||"/",p=async j=>{j.preventDefault(),a(""),c(!0);try{await o(e,s),u(h,{replace:!0})}catch(w){a(w instanceof Error?w.message:"Login failed")}finally{c(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800",children:n.jsxs("div",{className:"w-full max-w-md px-4",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4",children:n.jsx("span",{className:"text-3xl",children:""})}),n.jsx("h1",{className:"text-3xl font-bold text-white",children:"IDGAS"}),n.jsx("p",{className:"text-slate-400 mt-1",children:"Card Inventory Management"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Sign in to your account"}),n.jsxs("form",{onSubmit:p,className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),n.jsx("input",{id:"email",type:"email",value:e,onChange:j=>t(j.target.value),required:!0,autoComplete:"email",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"you@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsx("input",{id:"password",type:"password",value:s,onChange:j=>r(j.target.value),required:!0,autoComplete:"current-password",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:""})]}),l&&n.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:n.jsx("p",{className:"text-sm text-red-600",children:l})}),n.jsx("button",{type:"submit",disabled:i,className:"w-full py-3 px-4 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:i?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})]})]}),n.jsx("p",{className:"text-center text-sm text-slate-500 mt-6",children:"Card Inventory Management System"})]})})}async function Uy(){return O("/brands")}async function By(e){return O(`/brands/${e}`)}async function Qy(e){return O("/brands",{method:"POST",body:JSON.stringify(e)})}async function Ky(e){const t=e?Pe(e):"";return O(`/product-lines${t}`)}async function Vy(e){return O(`/product-lines/${e}`)}async function Hy(e){return O("/product-lines",{method:"POST",body:JSON.stringify(e)})}async function Wy(e){return O(`/product-lines/${e}`,{method:"DELETE"})}const Gy={getBrands:Uy,getBrand:By,createBrand:Qy,getProductLines:Ky,getProductLine:Vy,createProductLine:Hy,deleteProductLine:Wy};async function Yy(e){const t=e?Pe(e):"";return O(`/players${t}`)}async function Jy(e){return O(`/players/${e}`)}async function Xy(e){return O("/players",{method:"POST",body:JSON.stringify(e)})}const Zy={getPlayers:Yy,getPlayer:Jy,createPlayer:Xy};async function ev(e){const t=e?Pe(e):"";return O(`/checklists${t}`)}async function tv(e){return O(`/checklists/${e}`)}async function nv(e){return O("/checklists",{method:"POST",body:JSON.stringify(e)})}async function sv(e){const t=new FormData;return t.append("file",e),Kp("/checklists/upload/preview",t)}async function rv(e,t,s,r=!0){const l=new FormData;return l.append("file",e),l.append("product_line_id",t),l.append("prospects_only",String(r)),s&&l.append("column_mapping",JSON.stringify(s)),Kp("/checklists/upload",l)}const lv={getChecklists:ev,getChecklist:tv,createChecklist:nv,previewChecklistUpload:sv,uploadChecklist:rv};async function av(e){const t=e?Pe(e):"";return O(`/inventory${t}`)}async function iv(e){return O(`/inventory/${e}`)}async function ov(){return O("/inventory/analytics")}async function cv(e){const t=e?Pe(e):"";return O(`/inventory/players${t}`)}async function uv(e){return O("/inventory",{method:"POST",body:JSON.stringify(e)})}async function dv(e,t){return O(`/inventory/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function hv(e,t){return O(`/inventory/${e}/adjust`,{method:"POST",body:JSON.stringify({adjustment:t})})}async function mv(e){return O("/inventory/bulk",{method:"POST",body:JSON.stringify({items:e})})}async function pv(e){return O(`/inventory/${e}`,{method:"DELETE"})}const fv={getInventory:av,getInventoryItem:iv,getInventoryAnalytics:ov,getPlayerInventorySummary:cv,createInventory:uv,updateInventory:dv,adjustInventory:hv,bulkAddInventory:mv,deleteInventory:pv};async function xv(e=!0){const t=Pe({active_only:e});return O(`/item-categories${t}`)}async function gv(e){return O(`/item-categories/${e}`)}async function yv(e){return O("/item-categories",{method:"POST",body:JSON.stringify(e)})}async function vv(e,t){return O(`/item-categories/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function bv(){return O("/sports")}async function jv(e){const t=e?Pe(e):"";return O(`/standalone-items${t}`)}async function Nv(e){const t=e?Pe(e):"";return O(`/standalone-items/summary${t}`)}async function wv(e){return O(`/standalone-items/${e}`)}async function _v(e){return O("/standalone-items",{method:"POST",body:JSON.stringify(e)})}async function Sv(e,t){return O(`/standalone-items/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function kv(e){return O(`/standalone-items/${e}`,{method:"DELETE"})}async function Cv(){return O("/standalone-items/stats")}async function Pv(){return O("/options/item-types")}async function Ev(){return O("/options/sports")}async function Iv(){return O("/options/authenticators")}async function Tv(){return O("/options/memorabilia-types")}async function zv(){return O("/options/collectible-types")}async function Fv(){return O("/options/conditions")}const Mv={getItemCategories:xv,getItemCategory:gv,createItemCategory:yv,updateItemCategory:vv,getSports:bv,getStandaloneItems:jv,getStandaloneItemsSummary:Nv,getStandaloneItem:wv,createStandaloneItem:_v,updateStandaloneItem:Sv,deleteStandaloneItem:kv,getStandaloneItemStats:Cv,getItemTypes:Pv,getSportsList:Ev,getAuthenticators:Iv,getMemorabiliaTypes:Tv,getCollectibleTypes:zv,getConditions:Fv};async function Ov(e){const t=e?Pe(e):"";return O(`/consigners${t}`)}async function Rv(e){return O(`/consigners/${e}`)}async function Lv(e){return O(`/consigners/${e}/stats`)}async function Dv(e){return O("/consigners",{method:"POST",body:JSON.stringify(e)})}async function Av(e,t){return O(`/consigners/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function $v(e){const t=e?Pe(e):"";return O(`/consignments${t}`)}async function qv(e){return O(`/consignments/${e}`)}async function Uv(){return O("/consignments/pending-value")}async function Bv(e){return O("/consignments",{method:"POST",body:JSON.stringify(e)})}async function Qv(e,t){return O(`/consignments/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function Kv(e,t){return O(`/consignments/${e}/return`,{method:"POST",body:JSON.stringify(t)})}async function Vv(e,t){const s=t?`?fee_paid_date=${t}`:"";return O(`/consignments/${e}/mark-paid${s}`,{method:"POST"})}async function Hv(e){return O(`/consignments/${e}/items`)}async function Wv(e,t){return O(`/consignments/${e}/items`,{method:"POST",body:JSON.stringify(t)})}const Gv={getConsigners:Ov,getConsigner:Rv,getConsignerStats:Lv,createConsigner:Dv,updateConsigner:Av,getConsignments:$v,getConsignment:qv,getPendingConsignmentsValue:Uv,createConsignment:Bv,updateConsignment:Qv,processConsignmentReturn:Kv,markConsignmentFeePaid:Vv,getConsignmentItems:Hv,addConsignmentItem:Wv};async function Yv(e=!0){return O(`/grading/companies?active_only=${e}`)}async function Jv(e,t=!0){return O(`/grading/companies/${e}/service-levels?active_only=${t}`)}async function Xv(e){const t=e?Pe(e):"";return O(`/grading/submissions${t}`)}async function Zv(e){return O(`/grading/submissions/${e}`)}async function eb(e){return O("/grading/submissions",{method:"POST",body:JSON.stringify(e)})}async function tb(e,t){return O(`/grading/submissions/${e}/status`,{method:"PATCH",body:JSON.stringify(t)})}async function nb(e,t){return O(`/grading/submissions/${e}/results`,{method:"POST",body:JSON.stringify(t)})}async function sb(e){return O(`/grading/submissions/${e}`,{method:"DELETE"})}async function rb(){return O("/grading/submissions/stats")}async function lb(){return O("/grading/submissions/pending-by-company")}async function ab(e=!0){return O(`/signature-auth/companies?active_only=${e}`)}async function ib(e,t=!0){return O(`/signature-auth/companies/${e}/service-levels?active_only=${t}`)}async function ob(e){const t=e?Pe(e):"";return O(`/signature-auth/submissions${t}`)}async function cb(e){return O(`/signature-auth/submissions/${e}`)}async function ub(e){return O("/signature-auth/submissions",{method:"POST",body:JSON.stringify(e)})}async function db(e,t){return O(`/signature-auth/submissions/${e}/status`,{method:"PATCH",body:JSON.stringify(t)})}async function hb(e,t){return O(`/signature-auth/submissions/${e}/results`,{method:"POST",body:JSON.stringify(t)})}async function mb(e){return O(`/signature-auth/submissions/${e}`,{method:"DELETE"})}async function pb(){return O("/signature-auth/submissions/stats")}async function fb(){return O("/signature-auth/submissions/pending-by-company")}async function xb(e){const t=e?Pe(e):"";return O(`/signature-auth/items/cards${t}`)}async function gb(e){const t=e?Pe(e):"";return O(`/signature-auth/items/memorabilia${t}`)}async function yb(e){const t=e?Pe(e):"";return O(`/signature-auth/items/collectibles${t}`)}const Ir={getCompanies:Yv,getServiceLevels:Jv,getSubmissions:Xv,getSubmission:Zv,createSubmission:eb,updateStatus:tb,submitResults:nb,deleteSubmission:sb,getStats:rb,getPendingByCompany:lb},Vn={getCompanies:ab,getServiceLevels:ib,getSubmissions:ob,getSubmission:cb,createSubmission:ub,updateStatus:db,submitResults:hb,deleteSubmission:mb,getStats:pb,getPendingByCompany:fb,getCardItems:xb,getMemorabiliaItems:gb,getCollectibleItems:yb};async function vb(e){const t=new URLSearchParams;e!=null&&e.vendor&&t.set("vendor",e.vendor),e!=null&&e.start_date&&t.set("start_date",e.start_date),e!=null&&e.end_date&&t.set("end_date",e.end_date),e!=null&&e.skip&&t.set("skip",e.skip.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString());const s=t.toString();return ft(`/purchases${s?`?${s}`:""}`)}async function bb(e){return ft(`/purchases/${e}`)}async function jb(e,t=!0){return Ta(`/purchases?add_to_inventory=${t}`,e)}async function Nb(e){return Jc(`/purchases/${e}`)}async function wb(e){const t=new URLSearchParams;e!=null&&e.platform&&t.set("platform",e.platform),e!=null&&e.start_date&&t.set("start_date",e.start_date),e!=null&&e.end_date&&t.set("end_date",e.end_date),e!=null&&e.skip&&t.set("skip",e.skip.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString());const s=t.toString();return ft(`/sales${s?`?${s}`:""}`)}async function _b(e){return ft(`/sales/${e}`)}async function Sb(e,t=!0){return Ta(`/sales?remove_from_inventory=${t}`,e)}async function kb(e){return Jc(`/sales/${e}`)}async function Cb(e){const t=new URLSearchParams;e!=null&&e.start_date&&t.set("start_date",e.start_date),e!=null&&e.end_date&&t.set("end_date",e.end_date);const s=t.toString();return ft(`/sales/analytics${s?`?${s}`:""}`)}async function Pb(e){const t=new URLSearchParams;e!=null&&e.start_date&&t.set("start_date",e.start_date),e!=null&&e.end_date&&t.set("end_date",e.end_date);const s=t.toString();return ft(`/purchases/analytics${s?`?${s}`:""}`)}async function Eb(){return ft("/inventory/analytics")}const Ib={getPurchases:vb,getPurchase:bb,createPurchase:jb,deletePurchase:Nb,getSales:wb,getSale:_b,createSale:Sb,deleteSale:kb,getSalesAnalytics:Cb,getPurchaseAnalytics:Pb,getDashboardStats:Eb},Ed={async generateListings(e){return O("/ebay/generate-listings",{method:"POST",body:JSON.stringify(e)})},async uploadPreview(e){const t=new FormData;t.append("file",e);const s=await fetch(`${Ia}/sales/ebay/upload/preview`,{method:"POST",body:t});return Qp(s)},async importListings(e){return O("/sales/ebay/import",{method:"POST",body:JSON.stringify(e)})},async listBatches(e){const t=new URLSearchParams;(e==null?void 0:e.skip)!==void 0&&t.set("skip",e.skip.toString()),(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString());const s=t.toString(),r=s?`/sales/ebay/batches?${s}`:"/sales/ebay/batches";return O(r)},async getBatch(e){return O(`/sales/ebay/batches/${e}`)},async deleteBatch(e){await O(`/sales/ebay/batches/${e}`,{method:"DELETE"})},async listListings(e){const t=new URLSearchParams;e!=null&&e.batch_id&&t.set("batch_id",e.batch_id),e!=null&&e.search&&t.set("search",e.search),(e==null?void 0:e.skip)!==void 0&&t.set("skip",e.skip.toString()),(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString());const s=t.toString(),r=s?`/sales/ebay/listings?${s}`:"/sales/ebay/listings";return O(r)},async getAnalytics(){return O("/sales/ebay/analytics")}},At="/consigner-prices",Id={async getMatrix(e={}){var r;const t={};(r=e.consigner_ids)!=null&&r.length&&(t.consigner_ids=e.consigner_ids.join(",")),e.player_search&&(t.player_search=e.player_search),e.only_with_prices&&(t.only_with_prices="true"),e.limit&&(t.limit=e.limit),e.offset&&(t.offset=e.offset);const s=Pe(t);return ft(`${At}/matrix${s}`)},async createPrice(e){return Ta(At,e)},async getPrice(e){return ft(`${At}/${e}`)},async updatePrice(e,t){return Ly(`${At}/${e}`,t)},async deletePrice(e){return Jc(`${At}/${e}`)},async bulkUpsert(e){return Ta(`${At}/bulk`,e)},async lookupPlayerPrice(e,t){const s=t?`?prefer_consigner_id=${t}`:"";return ft(`${At}/lookup/player/${e}${s}`)},async getConsignerSummary(e){return ft(`${At}/consigner/${e}/summary`)},async getConsignerPrices(e){return ft(`${At}/consigner/${e}/prices`)}},W={products:Gy,checklists:lv,inventory:fv,standaloneItems:Mv,consignments:Gv,financial:Ib};function Dl({title:e,value:t,subtitle:s,icon:r,trend:l,trendValue:a}){return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),s&&n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s})]}),n.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:n.jsx(r,{className:"text-blue-600",size:24})})]}),l&&a&&n.jsxs("div",{className:"mt-4 flex items-center gap-1",children:[l==="up"?n.jsx(bs,{className:"text-green-500",size:16}):n.jsx(yl,{className:"text-red-500",size:16}),n.jsx("span",{className:l==="up"?"text-green-600":"text-red-600",children:a}),n.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"vs last month"})]})]})}function Al(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function $l(e){return new Intl.NumberFormat("en-US").format(e)}function Tb(){const{data:e,isLoading:t}=H({queryKey:["inventory-analytics"],queryFn:()=>W.inventory.getInventoryAnalytics()}),{data:s,isLoading:r}=H({queryKey:["sales-analytics"],queryFn:()=>W.financial.getSalesAnalytics()}),l=t||r;return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Overview of your card inventory and sales"})]}),l?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((a,i)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-32"})]},i))}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(Dl,{title:"Total Cards",value:$l((e==null?void 0:e.total_quantity)||0),subtitle:`${$l((e==null?void 0:e.total_unique_cards)||0)} unique`,icon:_e}),n.jsx(Dl,{title:"Cost Basis",value:Al((e==null?void 0:e.total_cost_basis)||0),icon:fr}),n.jsx(Dl,{title:"Total Revenue",value:Al((s==null?void 0:s.total_revenue)||0),subtitle:`${(s==null?void 0:s.total_sales)||0} sales`,icon:Op}),n.jsx(Dl,{title:"Total Profit",value:Al((e==null?void 0:e.total_profit)||0),icon:bs,trend:e!=null&&e.total_profit&&e.total_profit>0?"up":"down"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cards by Brand"}),n.jsxs("div",{className:"space-y-3",children:[Object.entries((e==null?void 0:e.cards_by_brand)||{}).map(([a,i])=>{const c=(e==null?void 0:e.total_quantity)||1,o=i/c*100;return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"font-medium text-gray-700",children:a}),n.jsx("span",{className:"text-gray-500",children:$l(i)})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${o}%`}})})]},a)}),Object.keys((e==null?void 0:e.cards_by_brand)||{}).length===0&&n.jsx("p",{className:"text-gray-500 text-sm",children:"No inventory data yet"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales by Platform"}),n.jsxs("div",{className:"space-y-3",children:[Object.entries((s==null?void 0:s.sales_by_platform)||{}).map(([a,i])=>{const c=(s==null?void 0:s.total_revenue)||1,o=i/c*100;return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"font-medium text-gray-700",children:a}),n.jsx("span",{className:"text-gray-500",children:Al(i)})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${o}%`}})})]},a)}),Object.keys((s==null?void 0:s.sales_by_platform)||{}).length===0&&n.jsx("p",{className:"text-gray-500 text-sm",children:"No sales data yet"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Players by Inventory"}),n.jsx(ni,{className:"text-gray-400",size:20})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[n.jsx("th",{className:"pb-3 font-medium",children:"Player"}),n.jsx("th",{className:"pb-3 font-medium",children:"Team"}),n.jsx("th",{className:"pb-3 font-medium text-right",children:"Cards"}),n.jsx("th",{className:"pb-3 font-medium text-right",children:"Rookies"}),n.jsx("th",{className:"pb-3 font-medium text-right",children:"Autos"}),n.jsx("th",{className:"pb-3 font-medium text-right",children:"Numbered"})]})}),n.jsxs("tbody",{className:"divide-y",children:[e==null?void 0:e.top_players.map(a=>n.jsxs("tr",{className:"text-sm",children:[n.jsx("td",{className:"py-3 font-medium text-gray-900",children:a.player_name}),n.jsx("td",{className:"py-3 text-gray-500",children:a.team||"-"}),n.jsx("td",{className:"py-3 text-right text-gray-900",children:a.total_cards}),n.jsx("td",{className:"py-3 text-right text-gray-500",children:a.rookie_count}),n.jsx("td",{className:"py-3 text-right text-gray-500",children:a.auto_count}),n.jsx("td",{className:"py-3 text-right text-gray-500",children:a.numbered_count})]},a.player_id)),(!(e!=null&&e.top_players)||e.top_players.length===0)&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"No player data yet. Upload a checklist and add inventory to get started."})})]})]})})]}),n.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Inventory by Year"}),n.jsxs("div",{className:"flex items-end gap-2 h-32",children:[Object.entries((e==null?void 0:e.cards_by_year)||{}).sort(([a],[i])=>Number(i)-Number(a)).slice(0,10).map(([a,i])=>{const c=Math.max(...Object.values((e==null?void 0:e.cards_by_year)||{0:1})),o=i/c*100;return n.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[n.jsx("div",{className:"w-full bg-blue-500 rounded-t transition-all hover:bg-blue-600",style:{height:`${o}%`,minHeight:"4px"},title:`${a}: ${$l(i)} cards`}),n.jsx("span",{className:"text-xs text-gray-500",children:a})]},a)}),Object.keys((e==null?void 0:e.cards_by_year)||{}).length===0&&n.jsx("p",{className:"text-gray-500 text-sm w-full text-center py-8",children:"No inventory data yet"})]})]})]})]})}function Td(e){return new Intl.NumberFormat("en-US").format(e)}function zb(){const e=nt(),[t,s]=y.useState(!1),[r,l]=y.useState(""),[a,i]=y.useState(""),{data:c}=H({queryKey:["brands"],queryFn:()=>W.products.getBrands()}),{data:o,isLoading:u}=H({queryKey:["product-lines",r,a],queryFn:()=>W.products.getProductLines({brand_id:r||void 0,year:a?parseInt(a):void 0})}),m=be({mutationFn:p=>W.products.deleteProductLine(p),onSuccess:()=>{e.invalidateQueries({queryKey:["product-lines"]})}}),h=Array.from({length:10},(p,f)=>new Date().getFullYear()-f);return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Lines"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage Topps, Bowman, and other product lines"})]}),n.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(xe,{size:18}),"Add Product Line"]})]}),n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:r,onChange:p=>l(p.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Brands"}),c==null?void 0:c.map(p=>n.jsx("option",{value:p.id,children:p.name},p.id))]}),n.jsx(ie,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:a,onChange:p=>i(p.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Years"}),h.map(p=>n.jsx("option",{value:p,children:p},p))]}),n.jsx(ie,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]})]}),u?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((p,f)=>n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]},f))}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o==null?void 0:o.map(p=>n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:n.jsx(_e,{className:"text-blue-600",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:p.brand_name}),n.jsx("h3",{className:"font-semibold text-gray-900",children:p.name}),n.jsx("p",{className:"text-sm text-gray-500",children:p.year})]})]}),n.jsx("button",{onClick:()=>{confirm("Delete this product line and all its checklists?")&&m.mutate(p.id)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(an,{size:16})})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Checklist"}),n.jsxs("span",{className:"font-medium text-gray-900",children:[Td(p.checklist_count)," cards"]})]}),n.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[n.jsx("span",{className:"text-gray-500",children:"In Stock"}),n.jsx("span",{className:"font-medium text-gray-900",children:Td(p.inventory_count)})]}),n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[n.jsx("span",{className:"text-gray-500",children:"Completion"}),n.jsxs("span",{className:"text-gray-700",children:[p.completion_pct,"%"]})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:`${p.completion_pct}%`}})})]})]})]},p.id)),(o==null?void 0:o.length)===0&&n.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No product lines found. Add one to get started."})]}),t&&n.jsx(Fb,{brands:c||[],onClose:()=>s(!1),onCreated:()=>{s(!1),e.invalidateQueries({queryKey:["product-lines"]})}})]})}function Fb({brands:e,onClose:t,onCreated:s}){const[r,l]=y.useState({brand_id:"",name:"",year:new Date().getFullYear()}),[a,i]=y.useState(""),c=be({mutationFn:u=>W.products.createProductLine(u),onSuccess:()=>s(),onError:u=>i(u.message)}),o=u=>{if(u.preventDefault(),!r.brand_id||!r.name){i("Brand and name are required");return}c.mutate(r)};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Add Product Line"}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),n.jsxs("select",{value:r.brand_id,onChange:u=>l({...r,brand_id:u.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Select brand..."}),e.map(u=>n.jsx("option",{value:u.id,children:u.name},u.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("input",{type:"text",value:r.name,onChange:u=>l({...r,name:u.target.value}),placeholder:"e.g., Chrome, Series 1, Draft",className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),n.jsx("input",{type:"number",value:r.year,onChange:u=>l({...r,year:parseInt(u.target.value)}),min:1900,max:2100,className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),n.jsx("textarea",{value:r.description||"",onChange:u=>l({...r,description:u.target.value}),rows:2,className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a&&n.jsx("p",{className:"text-red-500 text-sm",children:a}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:c.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:c.isPending?"Creating...":"Create"})]})]})]})})}function Mb(){const[e,t]=y.useState(""),[s,r]=y.useState(""),[l,a]=y.useState(""),[i,c]=y.useState(""),[o,u]=y.useState(void 0),[m,h]=y.useState(void 0),[p,f]=y.useState(void 0),[b,j]=y.useState(void 0),[w,d]=y.useState(!1),[x,v]=y.useState("player"),[N,C]=y.useState("asc"),{data:k}=H({queryKey:["product-lines"],queryFn:()=>W.products.getProductLines()}),{data:I,isLoading:E}=H({queryKey:["checklists",s,o,m,e],queryFn:()=>W.checklists.getChecklists({product_line_id:s||void 0,is_rookie:o,is_auto:m,search:e||void 0,limit:500}),enabled:!0}),T=y.useMemo(()=>k?[...new Set(k.map(z=>z.year))].filter(Boolean).sort((z,F)=>F-z):[],[k]),S=y.useMemo(()=>I?[...new Set(I.map(z=>z.team).filter(z=>z!=null))].sort():[],[I]),g=y.useMemo(()=>k?l?k.filter(P=>P.year===parseInt(l)):k:[],[k,l]),M=y.useMemo(()=>{if(!I)return[];let P=[...I];return l&&(P=P.filter(z=>{var F;return((F=z.product_line)==null?void 0:F.year)===parseInt(l)})),i&&(P=P.filter(z=>z.team===i)),p===!0&&(P=P.filter(z=>z.is_first_bowman)),b===!0&&(P=P.filter(z=>(z.inventory_count||0)>0)),P.sort((z,F)=>{var K,J,he,ze;let D=0;switch(x){case"player":const ne=((K=z.player)==null?void 0:K.name)||z.player_name_raw||"",st=((J=F.player)==null?void 0:J.name)||F.player_name_raw||"";D=ne.localeCompare(st);break;case"team":D=(z.team||"").localeCompare(F.team||"");break;case"product_line":const ut=((he=z.product_line)==null?void 0:he.name)||"",Dt=((ze=F.product_line)==null?void 0:ze.name)||"";D=ut.localeCompare(Dt);break;case"parallel":D=(z.parallel_name||"Base").localeCompare(F.parallel_name||"Base");break;case"type":const Jp=(z.is_first_bowman?8:0)+(z.is_autograph?4:0)+(z.is_rookie_card?2:0)+(z.is_relic?1:0);D=(F.is_first_bowman?8:0)+(F.is_autograph?4:0)+(F.is_rookie_card?2:0)+(F.is_relic?1:0)-Jp;break;case"inventory":D=(z.inventory_count||0)-(F.inventory_count||0);break}return N==="asc"?D:-D}),P},[I,l,i,p,b,x,N]),q=P=>{x===P?C(z=>z==="asc"?"desc":"asc"):(v(P),C("asc"))},U=({field:P})=>x!==P?n.jsx(vy,{size:14,className:"text-gray-300"}):N==="asc"?n.jsx(Wc,{size:14,className:"text-blue-600"}):n.jsx(ie,{size:14,className:"text-blue-600"}),Y=()=>{t(""),r(""),a(""),c(""),u(void 0),h(void 0),f(void 0),j(void 0)},L=[s,l,i,o,m,p,b].filter(P=>P!==""&&P!==void 0).length;return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Checklists"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Browse all cards across your product lines"})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",value:e,onChange:P=>t(P.target.value),placeholder:"Search by player name...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("button",{onClick:()=>d(!w),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm border transition-colors ${w||L>0?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(wy,{size:16}),"Filters",L>0&&n.jsx("span",{className:"bg-blue-600 text-white text-xs px-1.5 py-0.5 rounded-full",children:L})]}),L>0&&n.jsxs("button",{onClick:Y,className:"flex items-center gap-1 px-3 py-2 text-sm text-gray-500 hover:text-gray-700",children:[n.jsx(Be,{size:14}),"Clear all"]})]}),w&&n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 border border-gray-200",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Year"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:l,onChange:P=>{a(P.target.value),r("")},className:"w-full appearance-none bg-white border border-gray-200 rounded-lg px-3 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Years"}),T.map(P=>n.jsx("option",{value:P,children:P},P))]}),n.jsx(ie,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:14})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Product Line"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:s,onChange:P=>r(P.target.value),className:"w-full appearance-none bg-white border border-gray-200 rounded-lg px-3 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Products"}),g.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]}),n.jsx(ie,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:14})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Team"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:i,onChange:P=>c(P.target.value),className:"w-full appearance-none bg-white border border-gray-200 rounded-lg px-3 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Teams"}),S.map(P=>n.jsx("option",{value:P,children:P},P))]}),n.jsx(ie,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:14})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Inventory"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:b===void 0?"":b?"in_stock":"out_of_stock",onChange:P=>{const z=P.target.value;j(z===""?void 0:z==="in_stock")},className:"w-full appearance-none bg-white border border-gray-200 rounded-lg px-3 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All"}),n.jsx("option",{value:"in_stock",children:"In Stock Only"}),n.jsx("option",{value:"out_of_stock",children:"Out of Stock"})]}),n.jsx(ie,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:14})]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-gray-200",children:[n.jsx("button",{onClick:()=>f(p===!0?void 0:!0),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm border transition-colors ${p===!0?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:"1st Bowman"}),n.jsxs("button",{onClick:()=>u(o===!0?void 0:!0),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm border transition-colors ${o===!0?"bg-amber-50 border-amber-200 text-amber-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(Qo,{size:14}),"Rookies"]}),n.jsxs("button",{onClick:()=>h(m===!0?void 0:!0),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm border transition-colors ${m===!0?"bg-purple-50 border-purple-200 text-purple-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(ei,{size:14}),"Autos"]})]})]}),n.jsxs("div",{className:"mb-4 text-sm text-gray-500",children:[M.length," cards found",L>0&&I&&M.length!==I.length&&n.jsxs("span",{className:"text-gray-400",children:[" (filtered from ",I.length,")"]})]}),E?n.jsx("div",{className:"bg-white rounded-xl border border-gray-100 p-8",children:n.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(10)].map((P,z)=>n.jsx("div",{className:"h-12 bg-gray-100 rounded"},z))})}):n.jsx("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 text-left text-sm text-gray-500 border-b",children:[n.jsx("th",{className:"px-4 py-3 font-medium cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>q("player"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Player",n.jsx(U,{field:"player"})]})}),n.jsx("th",{className:"px-4 py-3 font-medium cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>q("product_line"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Product",n.jsx(U,{field:"product_line"})]})}),n.jsx("th",{className:"px-4 py-3 font-medium cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>q("team"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Team",n.jsx(U,{field:"team"})]})}),n.jsx("th",{className:"px-4 py-3 font-medium cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>q("parallel"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Parallel",n.jsx(U,{field:"parallel"})]})}),n.jsx("th",{className:"px-4 py-3 font-medium text-center cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>q("type"),children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:["Type",n.jsx(U,{field:"type"})]})}),n.jsx("th",{className:"px-4 py-3 font-medium text-right cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>q("inventory"),children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:["In Stock",n.jsx(U,{field:"inventory"})]})})]})}),n.jsxs("tbody",{className:"divide-y divide-gray-100",children:[M.map(P=>{var z,F;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("div",{className:"font-medium text-gray-900",children:((z=P.player)==null?void 0:z.name)||P.player_name_raw||"Unknown"}),n.jsxs("div",{className:"text-xs text-gray-400 font-mono",children:["#",P.card_number]})]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"text-sm text-gray-900",children:((F=P.product_line)==null?void 0:F.name)||"-"})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:P.team||"-"}),n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("span",{className:"text-sm text-gray-600",children:P.parallel_name||"Base"}),P.serial_numbered&&n.jsxs("span",{className:"ml-2 text-xs text-gray-400",children:["/",P.serial_numbered]})]}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-center gap-1 flex-wrap",children:[P.is_first_bowman&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-700",children:"1st"}),P.is_autograph&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-purple-100 text-purple-700",children:"Auto"}),P.is_rookie_card&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-amber-100 text-amber-700",children:"RC"}),P.is_relic&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-green-100 text-green-700",children:"Relic"})]})}),n.jsx("td",{className:"px-4 py-3 text-right",children:n.jsx("span",{className:`font-medium ${(P.inventory_count||0)>0?"text-green-600":"text-gray-400"}`,children:P.inventory_count||0})})]},P.id)}),M.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-4 py-12 text-center text-gray-500",children:"No cards found. Try adjusting your filters or upload a checklist."})})]})]})})]})}const Wt=e=>e==null||e===0?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);function Ob({group:e}){const[t,s]=y.useState(!1),[r,l]=y.useState(new Set),a=i=>{const c=new Set(r);c.has(i)?c.delete(i):c.add(i),l(c)};return n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden",children:[n.jsxs("button",{onClick:()=>s(!t),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-gray-400",children:t?n.jsx(ie,{size:18}):n.jsx(Bn,{size:18})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold text-gray-900",children:e.player_name}),n.jsxs("div",{className:"text-xs text-gray-500",children:[e.total_quantity," card",e.total_quantity!==1?"s":""]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex gap-1.5",children:[e.unsigned_qty>0&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:[e.unsigned_qty," raw"]}),e.signed_qty>0&&n.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:[e.signed_qty," signed"]}),e.slabbed_qty>0&&n.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:[e.slabbed_qty," slabbed"]})]}),n.jsx("div",{className:"text-sm font-medium text-gray-900 min-w-[80px] text-right",children:Wt(e.total_cost)})]})]}),t&&n.jsxs("div",{className:"border-t border-gray-100 px-4 py-3 space-y-2",children:[n.jsxs("div",{className:"flex gap-4 text-xs text-gray-500 pb-2 border-b border-gray-50",children:[n.jsxs("span",{children:["Cards: ",Wt(e.card_cost)]}),n.jsxs("span",{children:["Signing: ",Wt(e.signing_cost)]}),n.jsxs("span",{children:["Grading: ",Wt(e.grading_cost)]})]}),n.jsx(Ti,{label:"Raw Unsigned",icon:n.jsx(_e,{size:14}),count:e.unsigned_qty,items:e.unsigned,isOpen:r.has("unsigned"),onToggle:()=>a("unsigned"),colorClass:"bg-gray-50 text-gray-700"}),n.jsx(Ti,{label:"Signed",icon:n.jsx(ei,{size:14}),count:e.signed_qty,items:e.signed,isOpen:r.has("signed"),onToggle:()=>a("signed"),colorClass:"bg-green-50 text-green-700",showConsigner:!0}),n.jsx(Ti,{label:"Slabbed",icon:n.jsx(vs,{size:14}),count:e.slabbed_qty,items:e.slabbed,isOpen:r.has("slabbed"),onToggle:()=>a("slabbed"),colorClass:"bg-blue-50 text-blue-700",showGrade:!0})]})]})}function Ti({label:e,icon:t,count:s,items:r,isOpen:l,onToggle:a,colorClass:i,showConsigner:c,showGrade:o}){const u=r.reduce((m,h)=>m+(h.total_cost||0),0);return n.jsxs("div",{children:[n.jsxs("button",{onClick:a,className:`w-full flex items-center justify-between px-3 py-2 rounded-lg ${i} transition-colors`,children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[t,e," (",s,")"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs font-medium",children:Wt(u)}),l?n.jsx(ie,{size:14}):n.jsx(Bn,{size:14})]})]}),l&&r.length>0&&n.jsx("div",{className:"ml-4 mt-1 space-y-1",children:r.map(m=>{var h,p,f,b,j,w,d,x;return n.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 text-sm hover:bg-gray-50 rounded",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("span",{className:"text-gray-900",children:[(p=(h=m.checklist)==null?void 0:h.product_line)==null?void 0:p.year," ",((j=(b=(f=m.checklist)==null?void 0:f.product_line)==null?void 0:b.brand)==null?void 0:j.name)||((d=(w=m.checklist)==null?void 0:w.product_line)==null?void 0:d.name)]})," ",n.jsxs("span",{className:"text-gray-500",children:[((x=m.base_type)==null?void 0:x.name)||"Chrome",m.parallel?` ${m.parallel.name}`:""]}),n.jsxs("span",{className:"text-gray-400 ml-1",children:["(",m.quantity,"x)"]}),c&&m.consigner&&n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-green-100 text-green-700 text-[10px] rounded",children:m.consigner}),o&&m.grade_company&&n.jsxs("span",{className:"ml-2 px-1.5 py-0.5 bg-blue-100 text-blue-700 text-[10px] rounded",children:[m.grade_company," ",m.grade_value]})]}),n.jsxs("div",{className:"text-right text-xs text-gray-600 min-w-[100px]",children:[m.card_cost>0&&n.jsxs("span",{children:["Card: ",Wt(m.card_cost)]}),c&&m.signing_cost>0&&n.jsxs("span",{className:"ml-2",children:["Sign: ",Wt(m.signing_cost)]}),o&&m.grading_cost>0&&n.jsxs("span",{className:"ml-2",children:["Grade: ",Wt(m.grading_cost)]}),!m.card_cost&&!m.signing_cost&&!m.grading_cost&&n.jsx("span",{children:Wt(m.total_cost)})]})]},m.id)})}),l&&r.length===0&&n.jsx("div",{className:"ml-4 mt-1 px-3 py-2 text-xs text-gray-400 italic",children:"None"})]})}function Rb(){const e=Ya(),[t,s]=y.useState(""),[r,l]=y.useState(""),[a,i]=y.useState(""),[c,o]=y.useState(void 0),[u,m]=y.useState(void 0),[h,p]=y.useState("table"),[f,b]=y.useState(!1),[j,w]=y.useState(new Set),{data:d,isLoading:x}=H({queryKey:["inventory",{search:t,filterBrand:r,filterProductLine:a}],queryFn:()=>W.inventory.getInventory({search:t||void 0,brand_id:r||void 0,product_line_id:a||void 0})}),{data:v}=H({queryKey:["brands"],queryFn:()=>W.products.getBrands()}),{data:N}=H({queryKey:["product-lines",r],queryFn:()=>W.products.getProductLines({brand_id:r||void 0}),enabled:!0}),C=y.useMemo(()=>d?d.filter(g=>!(c!==void 0&&g.is_signed!==c||u!==void 0&&g.is_slabbed!==u)):[],[d,c,u]),k=y.useMemo(()=>{var M,q,U;if(h!=="player"||!C.length)return[];const g=new Map;for(const Y of C){const L=((q=(M=Y.checklist)==null?void 0:M.player)==null?void 0:q.name)||((U=Y.checklist)==null?void 0:U.player_name_raw)||"Unknown";g.has(L)||g.set(L,{player_name:L,total_quantity:0,total_cost:0,unsigned:[],signed:[],slabbed:[],unsigned_qty:0,signed_qty:0,slabbed_qty:0,card_cost:0,signing_cost:0,grading_cost:0});const P=g.get(L);P.total_quantity+=Y.quantity,P.total_cost+=Y.total_cost||0,P.card_cost+=Y.card_cost||0,P.signing_cost+=Y.signing_cost||0,P.grading_cost+=Y.grading_cost||0,Y.is_slabbed?(P.slabbed.push(Y),P.slabbed_qty+=Y.quantity):Y.is_signed?(P.signed.push(Y),P.signed_qty+=Y.quantity):(P.unsigned.push(Y),P.unsigned_qty+=Y.quantity)}return Array.from(g.values()).sort((Y,L)=>L.total_quantity-Y.total_quantity)},[C,h]),I=g=>{const M=new Set(j);M.has(g)?M.delete(g):M.add(g),w(M)},E=()=>{j.size===C.length?w(new Set):w(new Set(C.map(g=>g.id)))},T=()=>{if(j.size===0)return;const g=Array.from(j).join(",");e(`/ebay-listings?ids=${g}`)},S=g=>g==null?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g);return n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:[C.length," cards  Track your card inventory with quantities and conditions"]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex rounded-lg border border-gray-200 overflow-hidden",children:[n.jsxs("button",{onClick:()=>p("table"),className:`px-3 py-2 text-sm flex items-center gap-1.5 transition-colors ${h==="table"?"bg-blue-50 text-blue-700 font-medium":"bg-white text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(ky,{size:16}),"Table"]}),n.jsxs("button",{onClick:()=>p("player"),className:`px-3 py-2 text-sm flex items-center gap-1.5 transition-colors border-l border-gray-200 ${h==="player"?"bg-blue-50 text-blue-700 font-medium":"bg-white text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(ni,{size:16}),"By Player"]})]}),n.jsxs("button",{onClick:()=>{b(!f),f&&w(new Set)},className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${f?"bg-orange-100 text-orange-700 border border-orange-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[n.jsx(Gc,{size:18}),f?"Exit eBay Mode":"Generate eBay Listings"]})]})]}),f&&n.jsxs("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-xl flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("button",{onClick:E,className:"flex items-center gap-2 text-sm font-medium text-orange-700 hover:text-orange-800",children:[j.size===C.length&&C.length>0?n.jsx(qs,{size:18}):n.jsx(ea,{size:18}),j.size===C.length&&C.length>0?"Deselect All":"Select All"]}),n.jsxs("span",{className:"text-orange-600",children:[j.size," of ",C.length," selected"]})]}),n.jsxs("button",{onClick:T,disabled:j.size===0,className:`px-6 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${j.size>0?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[n.jsx(Dp,{size:18}),"Generate ",j.size," Listing",j.size!==1?"s":""]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",value:t,onChange:g=>s(g.target.value),placeholder:"Search by player or card number...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:r,onChange:g=>{l(g.target.value),i("")},className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Brands"}),v==null?void 0:v.map(g=>n.jsx("option",{value:g.id,children:g.name},g.id))]}),n.jsx(ie,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:a,onChange:g=>i(g.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Products"}),N==null?void 0:N.map(g=>n.jsxs("option",{value:g.id,children:[g.year," ",g.name]},g.id))]}),n.jsx(ie,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:c===void 0?"":c?"signed":"unsigned",onChange:g=>{const M=g.target.value;o(M===""?void 0:M==="signed")},className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All (Signed/Unsigned)"}),n.jsx("option",{value:"signed",children:"Signed Only"}),n.jsx("option",{value:"unsigned",children:"Unsigned Only"})]}),n.jsx(ie,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:u===void 0?"":u?"slabbed":"raw",onChange:g=>{const M=g.target.value;m(M===""?void 0:M==="slabbed")},className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All (Raw/Slabbed)"}),n.jsx("option",{value:"slabbed",children:"Slabbed Only"}),n.jsx("option",{value:"raw",children:"Raw Only"})]}),n.jsx(ie,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]})]}),h==="player"&&!x&&n.jsx("div",{className:"space-y-2",children:k.length===0?n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-12 text-center",children:[n.jsx(_e,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No inventory found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters or add some cards."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[k.length," player",k.length!==1?"s":""," "," ",C.reduce((g,M)=>g+M.quantity,0).toLocaleString()," total cards"]}),k.map(g=>n.jsx(Ob,{group:g},g.player_name))]})}),h==="table"&&(x?n.jsx("div",{className:"bg-white rounded-xl border border-gray-100 p-8",children:n.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((g,M)=>n.jsx("div",{className:"h-12 bg-gray-100 rounded"},M))})}):C.length===0?n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-12 text-center",children:[n.jsx(_e,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No inventory found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters or add some cards."})]}):n.jsx("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[f&&n.jsx("th",{className:"px-3 py-1.5 text-left",children:n.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600",children:j.size===C.length&&C.length>0?n.jsx(qs,{size:16}):n.jsx(ea,{size:16})})}),n.jsx("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-600",children:"Player"}),n.jsx("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-600",children:"Card"}),n.jsx("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-600",children:"Parallel"}),n.jsx("th",{className:"px-3 py-1.5 text-center text-xs font-medium text-gray-600",children:"Qty"}),n.jsx("th",{className:"px-3 py-1.5 text-center text-xs font-medium text-gray-600",children:"Status"}),n.jsx("th",{className:"px-3 py-1.5 text-right text-xs font-medium text-gray-600",children:"Total Cost"}),n.jsx("th",{className:"px-3 py-1.5 text-right text-xs font-medium text-gray-600",children:"Per Unit"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:C.map(g=>{var M,q,U,Y,L,P,z,F,D;return n.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${f&&j.has(g.id)?"bg-orange-50":""}`,onClick:f?()=>I(g.id):void 0,style:f?{cursor:"pointer"}:void 0,children:[f&&n.jsx("td",{className:"px-3 py-1.5",children:n.jsx("button",{onClick:K=>{K.stopPropagation(),I(g.id)},className:"text-orange-500",children:j.has(g.id)?n.jsx(qs,{size:16}):n.jsx(ea,{size:16})})}),n.jsxs("td",{className:"px-3 py-1.5",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:((q=(M=g.checklist)==null?void 0:M.player)==null?void 0:q.name)||((U=g.checklist)==null?void 0:U.player_name_raw)||"Unknown"}),n.jsx("div",{className:"text-xs text-gray-500",children:((Y=g.checklist)==null?void 0:Y.team)||"-"})]}),n.jsxs("td",{className:"px-3 py-1.5",children:[n.jsx("div",{className:"text-sm text-gray-900",children:(P=(L=g.checklist)==null?void 0:L.product_line)==null?void 0:P.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["#",(z=g.checklist)==null?void 0:z.card_number,((F=g.checklist)==null?void 0:F.is_first_bowman)&&n.jsx("span",{className:"ml-1.5 px-1 py-0.5 bg-purple-100 text-purple-700 rounded text-[10px]",children:"1st"})]})]}),n.jsxs("td",{className:"px-3 py-1.5",children:[n.jsx("div",{className:"text-sm text-gray-700",children:((D=g.base_type)==null?void 0:D.name)||"Chrome"}),g.parallel&&n.jsxs("div",{className:"text-xs text-gray-500",children:[g.parallel.name,g.parallel.is_numbered&&g.parallel.numbered_to&&` /${g.parallel.numbered_to}`]})]}),n.jsx("td",{className:"px-3 py-1.5 text-center",children:n.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.quantity})}),n.jsx("td",{className:"px-3 py-1.5",children:n.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[n.jsxs("div",{className:"flex gap-1",children:[g.is_signed&&n.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:"Signed"}),g.is_slabbed?n.jsxs("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:[g.grade_company," ",g.grade_value]}):n.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:"Raw"})]}),g.consigner&&n.jsx("span",{className:"text-[10px] text-gray-400",children:g.consigner})]})}),n.jsx("td",{className:"px-3 py-1.5 text-right text-sm font-medium text-gray-900",children:S(g.total_cost)}),n.jsx("td",{className:"px-3 py-1.5 text-right text-sm text-gray-600",children:S(g.total_cost&&g.quantity?g.total_cost/g.quantity:null)})]},g.id)})})]})}))]})}const Hp=["Bowman","Bowman Chrome","Bowman Draft","Bowman Sapphire","Bowman Sterling","Bowman's Best","Topps Chrome","Topps","Other"],Wp=["Base","Refractor","Gold","Gold Refractor","Orange","Orange Refractor","Blue","Blue Refractor","Purple","Purple Refractor","Green","Green Refractor","Red","Red Refractor","Black","Black Refractor","Atomic","X-Fractor","Prism","Shimmer","Speckle","Mojo","Aqua","Pink","Yellow","Superfractor","Printing Plate","Other"],Lb=["eBay","COMC","MySlabs","Mercari","Facebook","Twitter/X","Instagram","Card Show","LCS","Direct","Other"];function Bt(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Db(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function zd(){return new Date().toISOString().split("T")[0]}function Ab({item:e,onUpdate:t,onRemove:s,onDuplicate:r,inputRef:l,isFirst:a}){return n.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center py-2 px-3 bg-white rounded-lg border hover:border-blue-300 transition-colors",children:[n.jsx("div",{className:"col-span-1",children:n.jsx("input",{type:"number",value:e.year,onChange:i=>t(e.id,{year:parseInt(i.target.value)||2024}),min:1990,max:2030,className:"w-full px-2 py-1.5 border rounded text-sm text-center focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Year"})}),n.jsx("div",{className:"col-span-2",children:n.jsx("select",{value:e.card_type,onChange:i=>t(e.id,{card_type:i.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Hp.map(i=>n.jsx("option",{value:i,children:i},i))})}),n.jsx("div",{className:"col-span-2",children:n.jsx("select",{value:e.parallel,onChange:i=>t(e.id,{parallel:i.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Wp.map(i=>n.jsx("option",{value:i,children:i},i))})}),n.jsx("div",{className:"col-span-3",children:n.jsx("input",{ref:a?l:void 0,type:"text",value:e.player,onChange:i=>t(e.id,{player:i.target.value}),placeholder:"Player name *",className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),n.jsx("div",{className:"col-span-1",children:n.jsx("input",{type:"number",value:e.quantity,onChange:i=>t(e.id,{quantity:parseInt(i.target.value)||1}),min:1,className:"w-full px-2 py-1.5 border rounded text-sm text-center focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),n.jsxs("div",{className:"col-span-1 flex items-center justify-center gap-2",children:[n.jsxs("label",{className:"flex items-center gap-0.5 cursor-pointer",title:"Card bought already signed",children:[n.jsx("input",{type:"checkbox",checked:e.is_signed,onChange:i=>t(e.id,{is_signed:i.target.checked}),className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500"}),n.jsx("span",{className:"text-xs text-gray-500",children:"S"})]}),n.jsxs("label",{className:"flex items-center gap-0.5 cursor-pointer",title:"Pack-pulled autograph",children:[n.jsx("input",{type:"checkbox",checked:e.is_auto,onChange:i=>t(e.id,{is_auto:i.target.checked}),className:"w-4 h-4 rounded text-amber-600 focus:ring-amber-500"}),n.jsx("span",{className:"text-xs text-gray-500",children:"A"})]})]}),n.jsx("div",{className:"col-span-1",children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-1.5 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),n.jsx("input",{type:"number",value:e.unit_price||"",onChange:i=>t(e.id,{unit_price:parseFloat(i.target.value)||0}),min:0,step:.01,placeholder:"0.00",className:"w-full pl-5 pr-1 py-1.5 border rounded text-sm text-right focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),n.jsxs("div",{className:"col-span-1 flex items-center justify-end gap-1",children:[n.jsx("button",{type:"button",onClick:()=>r(e.id),className:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Duplicate row",children:n.jsx(Lp,{size:14})}),n.jsx("button",{type:"button",onClick:()=>s(e.id),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Remove",children:n.jsx(an,{size:14})})]})]})}function $b({isOpen:e,onClose:t,onSuccess:s}){const r=nt(),l=y.useRef(null),[a,i]=y.useState(!0),[c,o]=y.useState(null),[u,m]=y.useState(!1),[h,p]=y.useState({year:new Date().getFullYear(),card_type:"Bowman Chrome",parallel:"Base"}),[f,b]=y.useState({purchase_date:zd(),vendor:"",platform:"",order_number:"",shipping:0,tax:0,notes:""}),[j,w]=y.useState([]);y.useEffect(()=>{e&&j.length===0&&N()},[e]),y.useEffect(()=>{e&&l.current&&setTimeout(()=>{var g;return(g=l.current)==null?void 0:g.focus()},100)},[e,j.length]);const x=j.reduce((g,M)=>g+M.quantity*M.unit_price,0)+f.shipping+f.tax,v=be({mutationFn:g=>W.financial.createPurchase(g.purchase,g.addToInventory),onSuccess:()=>{r.invalidateQueries({queryKey:["purchases"]}),r.invalidateQueries({queryKey:["inventory"]}),s(),E()},onError:g=>{o(g.message)}}),N=()=>{const g={id:crypto.randomUUID(),year:h.year,card_type:h.card_type,parallel:h.parallel,player:"",quantity:1,unit_price:0,is_signed:!1,is_auto:!1};w(M=>[...M,g])},C=(g,M)=>{w(q=>q.map(U=>U.id===g?{...U,...M}:U))},k=g=>{w(M=>M.filter(q=>q.id!==g))},I=g=>{const M=j.find(q=>q.id===g);if(M){const q={...M,id:crypto.randomUUID(),player:""},U=j.findIndex(L=>L.id===g),Y=[...j];Y.splice(U+1,0,q),w(Y)}},E=()=>{b({purchase_date:zd(),vendor:"",platform:"",order_number:"",shipping:0,tax:0,notes:""}),w([]),o(null),m(!1),t()},T=g=>{g.preventDefault(),o(null);const M=j.filter(U=>U.player.trim());if(M.length===0){o("Please add at least one card with a player name");return}const q={purchase_date:f.purchase_date,vendor:f.vendor||null,platform:f.platform||null,order_number:f.order_number||null,shipping:f.shipping,tax:f.tax,notes:f.notes||null,items:M.map(U=>({year:U.year,card_type:U.card_type,player:U.player.trim(),parallel:U.parallel,quantity:U.quantity,unit_price:U.unit_price,is_signed:U.is_signed,is_auto:U.is_auto,condition:"Raw"}))};v.mutate({purchase:q,addToInventory:a})},S=g=>{g.key==="Enter"&&g.ctrlKey&&(g.preventDefault(),N())};return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4",children:n.jsxs("div",{className:"bg-gray-50 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col",onKeyDown:S,children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-white rounded-t-xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(My,{className:"text-blue-600",size:20})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Add Cards"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Fast entry for card purchases"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>m(!u),className:`p-2 rounded-lg transition-colors ${u?"bg-blue-100 text-blue-600":"hover:bg-gray-100 text-gray-500"}`,title:"Purchase options",children:n.jsx(Ty,{size:18})}),n.jsx("button",{onClick:E,className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(Be,{size:20})})]})]}),n.jsxs("form",{onSubmit:T,className:"flex-1 overflow-y-auto",children:[c&&n.jsxs("div",{className:"mx-4 mt-4 flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[n.jsx(ys,{size:18}),n.jsx("span",{children:c})]}),u&&n.jsxs("div",{className:"mx-4 mt-4 p-4 bg-white rounded-lg border",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Purchase Details"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Date"}),n.jsx("input",{type:"date",value:f.purchase_date,onChange:g=>b({...f,purchase_date:g.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Vendor"}),n.jsx("input",{type:"text",value:f.vendor,onChange:g=>b({...f,vendor:g.target.value}),placeholder:"Seller name",className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Platform"}),n.jsxs("select",{value:f.platform,onChange:g=>b({...f,platform:g.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select..."}),Lb.map(g=>n.jsx("option",{value:g,children:g},g))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Order #"}),n.jsx("input",{type:"text",value:f.order_number,onChange:g=>b({...f,order_number:g.target.value}),placeholder:"Optional",className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Shipping"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),n.jsx("input",{type:"number",min:0,step:.01,value:f.shipping||"",onChange:g=>b({...f,shipping:parseFloat(g.target.value)||0}),placeholder:"0.00",className:"w-full pl-6 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Tax"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),n.jsx("input",{type:"number",min:0,step:.01,value:f.tax||"",onChange:g=>b({...f,tax:parseFloat(g.target.value)||0}),placeholder:"0.00",className:"w-full pl-6 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Notes"}),n.jsx("input",{type:"text",value:f.notes,onChange:g=>b({...f,notes:g.target.value}),placeholder:"Optional",className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"mt-3 pt-3 border-t",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-500 mb-2",children:"Default Values for New Rows"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Default Year"}),n.jsx("input",{type:"number",value:h.year,onChange:g=>p({...h,year:parseInt(g.target.value)||2024}),min:1990,max:2030,className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Default Card Type"}),n.jsx("select",{value:h.card_type,onChange:g=>p({...h,card_type:g.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500",children:Hp.map(g=>n.jsx("option",{value:g,children:g},g))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Default Parallel"}),n.jsx("select",{value:h.parallel,onChange:g=>p({...h,parallel:g.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500",children:Wp.map(g=>n.jsx("option",{value:g,children:g},g))})]})]})]})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"grid grid-cols-12 gap-2 px-3 py-2 text-xs font-medium text-gray-500 uppercase",children:[n.jsx("div",{className:"col-span-1",children:"Year"}),n.jsx("div",{className:"col-span-2",children:"Card Type"}),n.jsx("div",{className:"col-span-2",children:"Parallel"}),n.jsx("div",{className:"col-span-3",children:"Player"}),n.jsx("div",{className:"col-span-1 text-center",children:"Qty"}),n.jsx("div",{className:"col-span-1 text-center",title:"S = Signed (bought signed), A = Auto (pack-pulled)",children:"S / A"}),n.jsx("div",{className:"col-span-1 text-right",children:"Price"}),n.jsx("div",{className:"col-span-1"})]}),n.jsx("div",{className:"space-y-2",children:j.map((g,M)=>n.jsx(Ab,{item:g,onUpdate:C,onRemove:k,onDuplicate:I,inputRef:M===j.length-1?l:void 0,isFirst:M===j.length-1},g.id))}),n.jsxs("button",{type:"button",onClick:N,className:"mt-3 w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-blue-400 hover:text-blue-600 hover:bg-blue-50 transition-colors flex items-center justify-center gap-2",children:[n.jsx(xe,{size:18}),n.jsx("span",{children:"Add Card"}),n.jsx("span",{className:"text-xs text-gray-400",children:"(Ctrl+Enter)"})]})]}),n.jsx("div",{className:"p-4 bg-white border-t",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a,onChange:g=>i(g.target.checked),className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Add to Inventory"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsxs("span",{children:[n.jsx("strong",{className:"text-gray-900",children:j.filter(g=>g.player.trim()).length})," cards"]}),n.jsxs("span",{children:[n.jsx("strong",{className:"text-gray-900",children:j.reduce((g,M)=>g+(M.player.trim()?M.quantity:0),0)})," total qty"]}),(f.shipping>0||f.tax>0)&&n.jsxs("span",{className:"text-gray-400",children:["+",Bt(f.shipping+f.tax)," fees"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Bt(x)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:v.isPending,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:v.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tt,{size:18}),"Save Purchase"]})})]})]})]})})]})]})}):null}function qb({purchase:e,isExpanded:t,onToggle:s}){var l;const r=((l=e.items)==null?void 0:l.reduce((a,i)=>a+i.quantity,0))||0;return n.jsxs("div",{className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:[n.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[t?n.jsx(ie,{size:20,className:"text-gray-400"}):n.jsx(Bn,{size:20,className:"text-gray-400"}),n.jsxs("div",{className:"text-left",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-gray-900",children:e.vendor||e.platform||"Purchase"}),e.platform&&e.vendor&&n.jsxs("span",{className:"text-sm text-gray-500",children:["via ",e.platform]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mt-0.5",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Xa,{size:14}),Db(e.purchase_date)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(_e,{size:14}),r," card",r!==1?"s":""]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-bold text-gray-900",children:Bt(e.total)}),e.order_number&&n.jsxs("div",{className:"text-xs text-gray-500",children:["#",e.order_number]})]})]}),t&&e.items&&e.items.length>0&&n.jsx("div",{className:"border-t bg-gray-50",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-gray-500 uppercase",children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Card"}),n.jsx("th",{className:"px-3 py-2 text-center",children:"Condition"}),n.jsx("th",{className:"px-3 py-2 text-center",children:"Qty"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Unit Price"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Total"})]})}),n.jsx("tbody",{className:"divide-y",children:e.items.map(a=>{var i,c,o;return n.jsxs("tr",{className:"hover:bg-white",children:[n.jsxs("td",{className:"px-4 py-2",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",(i=a.checklist)==null?void 0:i.card_number," - ",(c=a.checklist)==null?void 0:c.player_name_raw]}),n.jsx("div",{className:"text-xs text-gray-500",children:(o=a.checklist)==null?void 0:o.set_name})]}),n.jsx("td",{className:"px-3 py-2 text-center",children:n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded",children:a.condition||"NM"})}),n.jsx("td",{className:"px-3 py-2 text-center text-gray-600",children:a.quantity}),n.jsx("td",{className:"px-3 py-2 text-right text-gray-600",children:Bt(a.unit_price)}),n.jsx("td",{className:"px-3 py-2 text-right font-medium text-gray-900",children:Bt(a.unit_price*a.quantity)})]},a.id)})}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"bg-gray-100 font-medium",children:[n.jsx("td",{colSpan:4,className:"px-4 py-2 text-right text-gray-700",children:"Subtotal / Shipping / Tax"}),n.jsxs("td",{className:"px-3 py-2 text-right text-gray-900",children:[Bt(e.subtotal)," / ",Bt(e.shipping)," /"," ",Bt(e.tax)]})]})})]})})]})}function Ub(){const[e,t]=y.useState(null),[s,r]=y.useState(!1),[l,a]=y.useState({}),{data:i,isLoading:c}=H({queryKey:["purchases",l],queryFn:()=>W.financial.getPurchases({start_date:l.start,end_date:l.end})}),o=(i==null?void 0:i.reduce((m,h)=>m+(h.total||0),0))||0,u=(i==null?void 0:i.reduce((m,h)=>{var p;return m+(((p=h.items)==null?void 0:p.reduce((f,b)=>f+b.quantity,0))||0)},0))||0;return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchases"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Track card acquisitions and cost basis"})]}),n.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(xe,{size:18}),"Record Purchase"]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Purchases"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(i==null?void 0:i.length)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Cards Acquired"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Spent"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Bt(o)})]})]}),n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"From"}),n.jsx("input",{type:"date",value:l.start||"",onChange:m=>a({...l,start:m.target.value||void 0}),className:"px-3 py-2 border rounded-lg text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"To"}),n.jsx("input",{type:"date",value:l.end||"",onChange:m=>a({...l,end:m.target.value||void 0}),className:"px-3 py-2 border rounded-lg text-sm"})]})]}),c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(i==null?void 0:i.length)===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[n.jsx(Gc,{className:"mx-auto text-gray-400 mb-3",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No purchases yet"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Record your first purchase to start tracking costs"}),n.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(xe,{size:18}),"Record Purchase"]})]}):n.jsx("div",{className:"space-y-3",children:i==null?void 0:i.map(m=>n.jsx(qb,{purchase:m,isExpanded:e===m.id,onToggle:()=>t(e===m.id?null:m.id)},m.id))}),n.jsx($b,{isOpen:s,onClose:()=>r(!1),onSuccess:()=>{}})]})}function ye(e){const t=typeof e=="string"?parseFloat(e):e??0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}function Bb(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Fd(){return new Date().toISOString().split("T")[0]}function Qb({isOpen:e,onClose:t,onSelect:s,excludeIds:r=[]}){const[l,a]=y.useState(""),[i,c]=y.useState(""),[o,u]=y.useState(""),{data:m,isLoading:h}=H({queryKey:["inventory",l,i,o],queryFn:()=>W.inventory.getInventory({search:l||void 0,is_signed:i==="true"?!0:i==="false"?!1:void 0,is_slabbed:o==="true"?!0:o==="false"?!1:void 0,limit:50}),enabled:e}),p=(m==null?void 0:m.filter(f=>!r.includes(f.id)&&f.quantity>0))||[];return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select from Inventory"}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(Be,{size:20})})]}),n.jsxs("div",{className:"p-4 border-b space-y-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by player name...",value:l,onChange:f=>a(f.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",autoFocus:!0})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("select",{value:i,onChange:f=>c(f.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[n.jsx("option",{value:"",children:"All (Signed/Unsigned)"}),n.jsx("option",{value:"true",children:"Signed Only"}),n.jsx("option",{value:"false",children:"Unsigned Only"})]}),n.jsxs("select",{value:o,onChange:f=>u(f.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[n.jsx("option",{value:"",children:"All (Raw/Slabbed)"}),n.jsx("option",{value:"true",children:"Slabbed Only"}),n.jsx("option",{value:"false",children:"Raw Only"})]})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:h?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):p.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No inventory items found matching your search"}):n.jsx("div",{className:"space-y-2",children:p.map(f=>{var b,j,w,d,x;return n.jsxs("button",{onClick:()=>{s(f),t()},className:"w-full text-left p-3 rounded-lg border hover:bg-green-50 hover:border-green-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"font-medium text-gray-900",children:["#",(b=f.checklist)==null?void 0:b.card_number," - ",(j=f.checklist)==null?void 0:j.player_name_raw]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.is_signed&&n.jsx("span",{className:"px-1.5 py-0.5 bg-amber-100 text-amber-700 text-xs rounded",children:"SIGNED"}),f.is_slabbed&&n.jsxs("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:[f.grade_company," ",f.grade_value]}),n.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:f.raw_condition||"NM"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["Qty: ",f.quantity]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Cost: ",ye(f.total_cost/f.quantity),"/ea"]})]})]}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:((w=f.checklist)==null?void 0:w.set_name)||((x=(d=f.checklist)==null?void 0:d.product_line)==null?void 0:x.name)})]},f.id)})})})]})}):null}function Kb({isOpen:e,onClose:t,onSuccess:s}){const r=nt(),[l,a]=y.useState(!1),[i,c]=y.useState(!0),[o,u]=y.useState(null),[m,h]=y.useState({sale_date:Fd(),platform:"eBay",buyer_name:"",order_number:"",platform_fees:0,payment_fees:0,shipping_collected:0,shipping_cost:0,notes:""}),[p,f]=y.useState([]),b=p.reduce((T,S)=>T+S.quantity*S.sale_price,0),j=m.platform_fees+m.payment_fees+m.shipping_cost,w=b+m.shipping_collected-j,d=p.reduce((T,S)=>T+S.cost_basis*S.quantity,0),x=w-d,v=be({mutationFn:T=>W.financial.createSale(T.sale,T.removeFromInventory),onSuccess:()=>{r.invalidateQueries({queryKey:["sales"]}),r.invalidateQueries({queryKey:["inventory"]}),s(),N()},onError:T=>{u(T.message)}}),N=()=>{h({sale_date:Fd(),platform:"eBay",buyer_name:"",order_number:"",platform_fees:0,payment_fees:0,shipping_collected:0,shipping_cost:0,notes:""}),f([]),u(null),t()},C=T=>{const S=T.total_cost/T.quantity;f(g=>[...g,{id:crypto.randomUUID(),inventoryItem:T,quantity:1,sale_price:0,cost_basis:S,notes:""}])},k=(T,S)=>{f(g=>g.map(M=>M.id===T?{...M,...S}:M))},I=T=>{f(S=>S.filter(g=>g.id!==T))},E=T=>{var g;if(T.preventDefault(),u(null),p.length===0){u("Please add at least one item to the sale");return}for(const M of p)if(M.quantity>M.inventoryItem.quantity){u(`Cannot sell ${M.quantity} of ${(g=M.inventoryItem.checklist)==null?void 0:g.player_name_raw} - only ${M.inventoryItem.quantity} in stock`);return}const S={sale_date:m.sale_date,platform:m.platform,buyer_name:m.buyer_name||null,order_number:m.order_number||null,platform_fees:m.platform_fees,payment_fees:m.payment_fees,shipping_collected:m.shipping_collected,shipping_cost:m.shipping_cost,notes:m.notes||null,items:p.map(M=>({checklist_id:M.inventoryItem.checklist_id,quantity:M.quantity,sale_price:M.sale_price,notes:M.notes||null}))};v.mutate({sale:S,removeFromInventory:i})};return e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(fr,{className:"text-green-600",size:20})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Record Sale"})]}),n.jsx("button",{onClick:N,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(Be,{size:20})})]}),n.jsxs("form",{onSubmit:E,className:"flex-1 overflow-y-auto",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[o&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[n.jsx(ys,{size:18}),n.jsx("span",{children:o})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sale Date *"}),n.jsx("input",{type:"date",value:m.sale_date,onChange:T=>h({...m,sale_date:T.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Platform *"}),n.jsxs("select",{value:m.platform,onChange:T=>h({...m,platform:T.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0,children:[n.jsx("option",{value:"eBay",children:"eBay"}),n.jsx("option",{value:"COMC",children:"COMC"}),n.jsx("option",{value:"MySlabs",children:"MySlabs"}),n.jsx("option",{value:"Facebook",children:"Facebook"}),n.jsx("option",{value:"In Person",children:"In Person"}),n.jsx("option",{value:"Other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buyer"}),n.jsx("input",{type:"text",value:m.buyer_name,onChange:T=>h({...m,buyer_name:T.target.value}),placeholder:"Optional",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number"}),n.jsx("input",{type:"text",value:m.order_number,onChange:T=>h({...m,order_number:T.target.value}),placeholder:"Optional",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Items *"}),n.jsxs("button",{type:"button",onClick:()=>a(!0),className:"flex items-center gap-1 text-sm text-green-600 hover:text-green-700",children:[n.jsx(xe,{size:16}),"Add from Inventory"]})]}),p.length===0?n.jsxs("div",{onClick:()=>a(!0),className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-green-400 hover:bg-green-50 transition-colors",children:[n.jsx(_e,{className:"mx-auto text-gray-400 mb-2",size:32}),n.jsx("p",{className:"text-gray-500",children:"Click to add items from your inventory"})]}):n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Card"}),n.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Qty"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-28",children:"Sale Price"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Cost Basis"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Profit"}),n.jsx("th",{className:"px-3 py-2 w-10"})]})}),n.jsx("tbody",{className:"divide-y",children:p.map(T=>{var g,M;const S=T.quantity*T.sale_price-T.quantity*T.cost_basis;return n.jsxs("tr",{children:[n.jsxs("td",{className:"px-3 py-2",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",(g=T.inventoryItem.checklist)==null?void 0:g.card_number," -"," ",(M=T.inventoryItem.checklist)==null?void 0:M.player_name_raw]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[T.inventoryItem.is_signed&&n.jsx("span",{className:"px-1 py-0.5 bg-amber-100 text-amber-700 text-xs rounded",children:"SIGNED"}),T.inventoryItem.is_slabbed&&n.jsxs("span",{className:"px-1 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:[T.inventoryItem.grade_company," ",T.inventoryItem.grade_value]}),n.jsxs("span",{className:"text-xs text-gray-500",children:["(Stock: ",T.inventoryItem.quantity,")"]})]})]}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"number",min:"1",max:T.inventoryItem.quantity,value:T.quantity,onChange:q=>k(T.id,{quantity:Math.min(parseInt(q.target.value)||1,T.inventoryItem.quantity)}),className:"w-full px-2 py-1 border rounded text-center"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:T.sale_price,onChange:q=>k(T.id,{sale_price:parseFloat(q.target.value)||0}),className:"w-full pl-6 pr-2 py-1 border rounded text-right"})]})}),n.jsx("td",{className:"px-3 py-2 text-right text-gray-500",children:ye(T.cost_basis*T.quantity)}),n.jsxs("td",{className:`px-3 py-2 text-right font-medium ${S>=0?"text-green-600":"text-red-600"}`,children:[S>=0?"+":"",ye(S)]}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("button",{type:"button",onClick:()=>I(T.id),className:"p-1 text-gray-400 hover:text-red-600",children:n.jsx(an,{size:16})})})]},T.id)})})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Platform Fees"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:m.platform_fees,onChange:T=>h({...m,platform_fees:parseFloat(T.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Fees"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:m.payment_fees,onChange:T=>h({...m,payment_fees:parseFloat(T.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Collected"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:m.shipping_collected,onChange:T=>h({...m,shipping_collected:parseFloat(T.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Cost"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:m.shipping_cost,onChange:T=>h({...m,shipping_cost:parseFloat(T.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("input",{type:"text",value:m.notes,onChange:T=>h({...m,notes:T.target.value}),placeholder:"Optional notes",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Gross Amount"}),n.jsx("span",{className:"font-medium",children:ye(b)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"+ Shipping Collected"}),n.jsx("span",{className:"font-medium",children:ye(m.shipping_collected)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"- Total Fees"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",ye(j)]})]}),n.jsxs("div",{className:"border-t pt-2 flex justify-between",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:"Net Amount"}),n.jsx("span",{className:"font-bold text-gray-900",children:ye(w)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Cost Basis"}),n.jsx("span",{className:"font-medium",children:ye(d)})]}),n.jsxs("div",{className:"border-t pt-2 mt-6 flex justify-between",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:"Profit"}),n.jsxs("span",{className:`font-bold flex items-center gap-1 ${x>=0?"text-green-600":"text-red-600"}`,children:[x>=0?n.jsx(bs,{size:18}):n.jsx(yl,{size:18}),x>=0?"+":"",ye(x)]})]})]})]})}),n.jsxs("label",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i,onChange:T=>c(T.target.checked),className:"w-5 h-5 rounded text-green-600 focus:ring-green-500"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Remove from Inventory"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Automatically decrease inventory quantities"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[n.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:v.isPending,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:v.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tt,{size:18}),"Record Sale"]})})]})]})]})}),n.jsx(Qb,{isOpen:l,onClose:()=>a(!1),onSelect:C,excludeIds:p.map(T=>T.inventoryItem.id)})]}):null}function Vb({sale:e,isExpanded:t,onToggle:s}){var c,o;const r=((c=e.items)==null?void 0:c.reduce((u,m)=>u+m.quantity,0))||0,l=((o=e.items)==null?void 0:o.reduce((u,m)=>u+(m.cost_basis||0),0))||0,a=e.net_amount-l,i=e.source==="ebay_import";return n.jsxs("div",{className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:[n.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[t?n.jsx(ie,{size:20,className:"text-gray-400"}):n.jsx(Bn,{size:20,className:"text-gray-400"}),n.jsxs("div",{className:"text-left",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Bp,{size:16,className:"text-gray-400"}),n.jsx("span",{className:"font-medium text-gray-900",children:e.platform||"Direct Sale"}),i&&n.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Imported"}),e.buyer_name&&n.jsxs("span",{className:"text-sm text-gray-500",children:["to ",e.buyer_name]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mt-0.5",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Xa,{size:14}),Bb(e.sale_date)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(_e,{size:14}),r," item",r!==1?"s":""]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-bold text-gray-900",children:ye(e.net_amount)}),n.jsxs("div",{className:`text-sm font-medium flex items-center justify-end gap-1 ${a>=0?"text-green-600":"text-red-600"}`,children:[a>=0?n.jsx(bs,{size:14}):n.jsx(yl,{size:14}),a>=0?"+":"",ye(a)]})]})]}),t&&n.jsxs("div",{className:"border-t bg-gray-50",children:[i&&e.notes&&n.jsxs("div",{className:"px-4 py-3 bg-blue-50 border-b border-blue-100",children:[n.jsx("div",{className:"text-xs text-blue-600 font-medium mb-1",children:"Listing Title"}),n.jsx("div",{className:"text-sm text-gray-700",children:e.notes})]}),e.items&&e.items.length>0&&n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-gray-500 uppercase",children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Card"}),n.jsx("th",{className:"px-3 py-2 text-center",children:"Qty"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Sale Price"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Cost Basis"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Profit"})]})}),n.jsx("tbody",{className:"divide-y",children:e.items.map(u=>{const m=u.sale_price*u.quantity-(u.cost_basis||0);return n.jsxs("tr",{className:"hover:bg-white",children:[n.jsx("td",{className:"px-4 py-2",children:u.checklist_id&&u.checklist?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",u.checklist.card_number," - ",u.checklist.player_name_raw]}),n.jsx("div",{className:"text-xs text-gray-500",children:u.checklist.set_name})]}):n.jsxs("div",{className:"flex items-center gap-2 text-gray-500 italic",children:[n.jsx(_e,{size:14}),n.jsx("span",{children:"eBay Listing"})]})}),n.jsx("td",{className:"px-3 py-2 text-center text-gray-600",children:u.quantity}),n.jsx("td",{className:"px-3 py-2 text-right text-gray-600",children:ye(u.sale_price)}),n.jsx("td",{className:"px-3 py-2 text-right text-gray-500",children:u.cost_basis?ye(u.cost_basis):n.jsx("span",{className:"text-gray-400",children:""})}),n.jsx("td",{className:`px-3 py-2 text-right font-medium ${u.cost_basis===null?"text-gray-400":m>=0?"text-green-600":"text-red-600"}`,children:u.cost_basis!==null?n.jsxs(n.Fragment,{children:[m>=0?"+":"",ye(m)]}):""})]},u.id)})}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"bg-gray-100 font-medium",children:[n.jsxs("td",{colSpan:2,className:"px-4 py-2 text-gray-700",children:["Fees: Platform ",ye(e.platform_fees)," / Payment"," ",ye(e.payment_fees)," / Shipping ",ye(e.shipping_cost)]}),n.jsxs("td",{colSpan:3,className:"px-3 py-2 text-right text-gray-900",children:["Net: ",ye(e.net_amount)]})]})})]}),(!e.items||e.items.length===0)&&n.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:"No items recorded"})]})]})}function Hb(){const[e,t]=y.useState(null),[s,r]=y.useState(!1),[l,a]=y.useState(""),[i,c]=y.useState({}),{data:o,isLoading:u}=H({queryKey:["sales",l,i],queryFn:()=>W.financial.getSales({platform:l||void 0,start_date:i.start,end_date:i.end})}),{data:m}=H({queryKey:["salesAnalytics",i],queryFn:()=>W.financial.getSalesAnalytics({start_date:i.start,end_date:i.end})}),h=(o==null?void 0:o.reduce((b,j)=>b+(j.net_amount||0),0))||0,p=(o==null?void 0:o.reduce((b,j)=>{var w;return b+(((w=j.items)==null?void 0:w.reduce((d,x)=>d+x.quantity,0))||0)},0))||0,f=(o==null?void 0:o.reduce((b,j)=>{var d;const w=((d=j.items)==null?void 0:d.reduce((x,v)=>x+(v.cost_basis||0),0))||0;return b+(j.net_amount-w)},0))||0;return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sales"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Track revenue and profit from card sales"})]}),n.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(xe,{size:18}),"Record Sale"]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Sales"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(o==null?void 0:o.length)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Cards Sold"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ye(h)})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Profit"}),n.jsxs("div",{className:`text-2xl font-bold flex items-center gap-1 ${f>=0?"text-green-600":"text-red-600"}`,children:[f>=0?n.jsx(bs,{size:20}):n.jsx(yl,{size:20}),f>=0?"+":"",ye(f)]})]})]}),n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Platform"}),n.jsxs("select",{value:l,onChange:b=>a(b.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[n.jsx("option",{value:"",children:"All Platforms"}),n.jsx("option",{value:"eBay",children:"eBay"}),n.jsx("option",{value:"COMC",children:"COMC"}),n.jsx("option",{value:"MySlabs",children:"MySlabs"}),n.jsx("option",{value:"Facebook",children:"Facebook"}),n.jsx("option",{value:"In Person",children:"In Person"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"From"}),n.jsx("input",{type:"date",value:i.start||"",onChange:b=>c({...i,start:b.target.value||void 0}),className:"px-3 py-2 border rounded-lg text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"To"}),n.jsx("input",{type:"date",value:i.end||"",onChange:b=>c({...i,end:b.target.value||void 0}),className:"px-3 py-2 border rounded-lg text-sm"})]})]}),u?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):(o==null?void 0:o.length)===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[n.jsx(fr,{className:"mx-auto text-gray-400 mb-3",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No sales yet"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Record your first sale or import from eBay to start tracking profit"}),n.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[n.jsx(xe,{size:18}),"Record Sale"]})]}):n.jsx("div",{className:"space-y-3",children:o==null?void 0:o.map(b=>n.jsx(Vb,{sale:b,isExpanded:e===b.id,onToggle:()=>t(e===b.id?null:b.id)},b.id))}),n.jsx(Kb,{isOpen:s,onClose:()=>r(!1),onSuccess:()=>{}})]})}function Wb(){const[e,t]=y.useState("select"),[s,r]=y.useState(null),[l,a]=y.useState(""),[i,c]=y.useState(null),[o,u]=y.useState(null),[m,h]=y.useState(""),[p,f]=y.useState(!1),{data:b}=H({queryKey:["product-lines"],queryFn:()=>W.products.getProductLines()}),j=be({mutationFn:C=>W.checklists.previewChecklistUpload(C),onSuccess:C=>{c(C),t("preview"),h("")},onError:C=>h(C.message)}),w=be({mutationFn:({file:C,productLineId:k})=>W.checklists.uploadChecklist(C,k),onSuccess:C=>{u(C),t("result"),h("")},onError:C=>h(C.message)}),d=y.useCallback(C=>{C.preventDefault(),f(!1);const k=C.dataTransfer.files[0];k&&(k.name.endsWith(".csv")||k.name.endsWith(".xlsx")||k.name.endsWith(".xls"))?(r(k),j.mutate(k)):h("Please upload a CSV or Excel file")},[]),x=C=>{var I;const k=(I=C.target.files)==null?void 0:I[0];k&&(r(k),j.mutate(k))},v=()=>{if(!s||!l){h("Please select a product line");return}w.mutate({file:s,productLineId:l})},N=()=>{t("select"),r(null),a(""),c(null),u(null),h("")};return n.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Upload Checklist"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Import a checklist CSV or Excel file from Topps, Bowman, or other sources"})]}),n.jsx("div",{className:"flex items-center gap-4 mb-8",children:["Select File","Preview","Complete"].map((C,k)=>{const I=k+1,E=e==="select"&&I===1||e==="preview"&&I===2||e==="result"&&I===3,T=e==="preview"&&I===1||e==="result"&&I<=2;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${T?"bg-green-500 text-white":E?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:T?n.jsx(tt,{size:16}):I}),n.jsx("span",{className:`text-sm ${E?"text-gray-900 font-medium":"text-gray-500"}`,children:C}),k<2&&n.jsx(yy,{className:"text-gray-300 ml-2",size:16})]},C)})}),m&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[n.jsx(ys,{size:18}),m]}),e==="select"&&n.jsxs("div",{onDragOver:C=>{C.preventDefault(),f(!0)},onDragLeave:()=>f(!1),onDrop:d,className:`border-2 border-dashed rounded-xl p-12 text-center transition-colors ${p?"border-blue-500 bg-blue-50":"border-gray-200 bg-gray-50"}`,children:[n.jsx(Yc,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop your checklist file here"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Supports CSV and Excel files (.csv, .xlsx, .xls)"}),n.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg cursor-pointer hover:bg-blue-700 transition-colors",children:[n.jsx(Ea,{size:18}),"Choose File",n.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:x,className:"hidden"})]}),j.isPending&&n.jsx("p",{className:"mt-4 text-blue-600",children:"Analyzing file..."})]}),e==="preview"&&i&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(Ea,{className:"text-green-500",size:24}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:s==null?void 0:s.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[i.total_rows," rows detected"]})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Product Line *"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:l,onChange:C=>a(C.target.value),className:"w-full appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Choose a product line..."}),b==null?void 0:b.map(C=>n.jsx("option",{value:C.id,children:C.name},C.id))]}),n.jsx(ie,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Detected Column Mappings"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(i.detected_columns).map(([C,k])=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-50 text-green-700 rounded text-sm",children:[n.jsx(tt,{size:14}),C,': "',k,'"']},C))}),i.unmapped_columns.length>0&&n.jsx("div",{className:"mt-2",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["Unmapped columns: ",i.unmapped_columns.join(", ")]})})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b",children:n.jsx("h4",{className:"font-medium text-gray-900",children:"Sample Data (first 10 rows)"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsx("tr",{className:"bg-gray-50 border-b",children:i.sample_rows.length>0&&Object.keys(i.sample_rows[0]).map(C=>n.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600 whitespace-nowrap",children:C},C))})}),n.jsx("tbody",{className:"divide-y",children:i.sample_rows.map((C,k)=>n.jsx("tr",{className:"hover:bg-gray-50",children:Object.values(C).map((I,E)=>n.jsx("td",{className:"px-3 py-2 text-gray-700 whitespace-nowrap",children:String(I||"")},E))},k))})]})})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:N,className:"px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:v,disabled:!l||w.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w.isPending?"Importing...":`Import ${i.total_rows} Cards`})]})]}),e==="result"&&o&&n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(tt,{className:"text-green-600",size:32})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Import Complete!"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 my-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.total_rows}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Rows"})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.cards_created}),n.jsx("p",{className:"text-sm text-gray-500",children:"Cards Created"})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.cards_updated}),n.jsx("p",{className:"text-sm text-gray-500",children:"Cards Updated"})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.players_created}),n.jsx("p",{className:"text-sm text-gray-500",children:"New Players"})]})]}),o.errors.length>0&&n.jsxs("div",{className:"mt-4 text-left bg-amber-50 border border-amber-200 rounded-lg p-4",children:[n.jsxs("h4",{className:"font-medium text-amber-800 mb-2",children:[o.errors.length," rows had issues:"]}),n.jsxs("ul",{className:"text-sm text-amber-700 space-y-1 max-h-40 overflow-y-auto",children:[o.errors.slice(0,10).map((C,k)=>n.jsx("li",{children:C},k)),o.errors.length>10&&n.jsxs("li",{className:"text-amber-600",children:["...and ",o.errors.length-10," more"]})]})]}),n.jsx("button",{onClick:N,className:"mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Upload Another File"})]})]})}const Gp=["Baseball","Basketball","Football","Hockey","Soccer","Golf","NASCAR","Wrestling","MMA","Other"],Gb=["PSA/DNA","JSA","Beckett Authentication","SGC","Fanatics","MLB Authentication","Steiner","Other"],Yb=["Baseball","Basketball","Football","Hockey Puck","Golf Ball","Jersey","Helmet","Bat","Glove","Cleats","Photo","Poster","Lithograph","Game-Used","Event-Used","Book","Magazine","Other"],Jb=["Diecast","Bobblehead","Figurine","Funko Pop","SGA Item","Stadium Giveaway","Program","Ticket","Media Pass","Plaque","Award","Trophy","Novelty","Promotional","Other"],Xb=["Mint","Near Mint","Excellent","Very Good","Good","Fair","Poor"],Zb=[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"},{value:"DC",label:"District of Columbia"}];new Date().getFullYear();function ej(){return new Date().toISOString().split("T")[0]}ej();const tj=({city:e,state:t,className:s=""})=>{if(!e&&!t)return n.jsx("span",{className:`text-gray-400 ${s}`,children:""});const r=[e,t].filter(Boolean);return n.jsx("span",{className:s,children:r.join(", ")})};function nj(e){return e==null?"":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function sj(){const e=nt(),[t,s]=y.useState(!1),[r,l]=y.useState(null),[a,i]=y.useState(null),[c,o]=y.useState(!1),{data:u,isLoading:m}=H({queryKey:["consigners",c],queryFn:()=>W.consignments.getConsigners({active_only:!c})}),h=()=>{s(!1),e.invalidateQueries({queryKey:["consigners"]})},p=()=>{l(null),e.invalidateQueries({queryKey:["consigners"]})};return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consigners"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage people who get autographs at games and events"})]}),n.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(xe,{size:18}),"Add Consigner"]})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c,onChange:f=>o(f.target.checked),className:"rounded border-gray-300"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Show inactive consigners"})]})}),m?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((f,b)=>n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-32 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]},b))}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u==null?void 0:u.map(f=>n.jsx(rj,{consigner:f,isExpanded:a===f.id,onToggle:()=>i(a===f.id?null:f.id),onEdit:()=>l(f),onUpdate:()=>e.invalidateQueries({queryKey:["consigners"]})},f.id)),(u==null?void 0:u.length)===0&&n.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No consigners found. Add one to start tracking autograph consignments."})]}),t&&n.jsx(Md,{onClose:()=>s(!1),onSuccess:h}),r&&n.jsx(Md,{consigner:r,onClose:()=>l(null),onSuccess:p})]})}function rj({consigner:e,isExpanded:t,onToggle:s,onEdit:r,onUpdate:l}){const[a,i]=y.useState(!1),c=be({mutationFn:()=>W.consignments.updateConsigner(e.id,{is_active:!e.is_active}),onSuccess:l}),o=async()=>{e.formatted_address&&(await navigator.clipboard.writeText(e.formatted_address),i(!0),setTimeout(()=>i(!1),2e3))};return n.jsxs("div",{className:`bg-white rounded-xl border transition-all ${e.is_active?"border-gray-100 hover:border-gray-200":"border-gray-200 bg-gray-50"}`,children:[n.jsx("div",{className:"p-6 cursor-pointer",onClick:s,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),!e.is_active&&n.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-200 text-gray-600 rounded",children:"Inactive"})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-1 text-sm text-gray-500",children:[n.jsx(Pd,{size:14}),n.jsx(tj,{city:e.city,state:e.state})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[e.default_fee&&n.jsxs("span",{className:"text-sm font-medium text-green-600",children:[nj(Number(e.default_fee)),"/card"]}),t?n.jsx(Wc,{size:20}):n.jsx(ie,{size:20})]})]})}),t&&n.jsxs("div",{className:"px-6 pb-6 border-t border-gray-100 pt-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[e.email&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Ap,{size:14,className:"text-gray-400"}),n.jsx("a",{href:`mailto:${e.email}`,className:"hover:text-blue-600",children:e.email})]}),e.phone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx($p,{size:14,className:"text-gray-400"}),n.jsx("a",{href:`tel:${e.phone}`,className:"hover:text-blue-600",children:e.phone})]})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1 flex items-center gap-1",children:[n.jsx(Pd,{size:12}),"Shipping Address"]}),e.formatted_address?n.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:e.formatted_address}):n.jsx("div",{className:"text-sm text-gray-400 italic",children:"No address on file"})]}),e.formatted_address&&n.jsx("button",{onClick:u=>{u.stopPropagation(),o()},className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded transition-colors",title:"Copy address",children:a?n.jsx(tt,{size:16,className:"text-green-500"}):n.jsx(Lp,{size:16})})]})}),(e.payment_method||e.payment_details)&&n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"text-xs text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[n.jsx(Za,{size:12}),"Payment"]}),e.payment_method&&n.jsx("div",{className:"text-sm text-gray-700",children:e.payment_method}),e.payment_details&&n.jsx("div",{className:"text-sm text-gray-500",children:e.payment_details})]}),e.notes&&n.jsx("div",{className:"text-sm text-gray-600 bg-yellow-50 p-2 rounded",children:e.notes}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsxs("button",{onClick:u=>{u.stopPropagation(),r()},className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[n.jsx(ei,{size:14}),"Edit"]}),n.jsx("button",{onClick:u=>{u.stopPropagation(),c.mutate()},disabled:c.isPending,className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${e.is_active?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:e.is_active?"Mark Inactive":"Mark Active"})]})]})]})}function Md({consigner:e,onClose:t,onSuccess:s}){const r=!!e,[l,a]=y.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",street_address:(e==null?void 0:e.street_address)||"",city:(e==null?void 0:e.city)||"",state:(e==null?void 0:e.state)||"",postal_code:(e==null?void 0:e.postal_code)||"",country:(e==null?void 0:e.country)||"USA",location:(e==null?void 0:e.location)||"",default_fee:e!=null&&e.default_fee?Number(e.default_fee):void 0,payment_method:(e==null?void 0:e.payment_method)||"",payment_details:(e==null?void 0:e.payment_details)||"",notes:(e==null?void 0:e.notes)||"",is_active:(e==null?void 0:e.is_active)??!0}),[i,c]=y.useState(""),o=be({mutationFn:p=>W.consignments.createConsigner(p),onSuccess:s,onError:p=>c(p.message)}),u=be({mutationFn:p=>W.consignments.updateConsigner(e.id,p),onSuccess:s,onError:p=>c(p.message)}),m=p=>{if(p.preventDefault(),c(""),!l.name.trim()){c("Name is required");return}r?u.mutate(l):o.mutate(l)},h=o.isPending||u.isPending;return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 rounded-t-xl",children:n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r?"Edit Consigner":"Add Consigner"})}),n.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[i&&n.jsx("div",{className:"bg-red-50 text-red-700 px-4 py-3 rounded-lg text-sm",children:i}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 border-b pb-1",children:"Basic Information"}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:l.name,onChange:p=>a({...l,name:p.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John Smith",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:l.email||"",onChange:p=>a({...l,email:p.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"john@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("input",{type:"tel",value:l.phone||"",onChange:p=>a({...l,phone:p.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"(555) 123-4567"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 border-b pb-1",children:"Shipping Address"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),n.jsx("input",{type:"text",value:l.street_address||"",onChange:p=>a({...l,street_address:p.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123 Main St, Suite 100"})]}),n.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[n.jsxs("div",{className:"col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),n.jsx("input",{type:"text",value:l.city||"",onChange:p=>a({...l,city:p.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"City"})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),n.jsxs("select",{value:l.state||"",onChange:p=>a({...l,state:p.target.value}),className:"w-full border border-gray-200 rounded-lg px-2 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"--"}),Zb.map(p=>n.jsx("option",{value:p.value,children:p.value},p.value))]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP"}),n.jsx("input",{type:"text",value:l.postal_code||"",onChange:p=>a({...l,postal_code:p.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12345",maxLength:10})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),n.jsx("input",{type:"text",value:l.country||"USA",onChange:p=>a({...l,country:p.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"USA"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Location Label",n.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(optional)"})]}),n.jsx("input",{type:"text",value:l.location||"",onChange:p=>a({...l,location:p.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Home, Office, Spring Training"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"A label to identify this address"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 border-b pb-1",children:"Fee & Payment"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Fee per Card"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:l.default_fee??"",onChange:p=>a({...l,default_fee:p.target.value?parseFloat(p.target.value):void 0}),className:"w-full border border-gray-200 rounded-lg pl-7 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),n.jsxs("select",{value:l.payment_method||"",onChange:p=>a({...l,payment_method:p.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select method..."}),n.jsx("option",{value:"Venmo",children:"Venmo"}),n.jsx("option",{value:"PayPal",children:"PayPal"}),n.jsx("option",{value:"Zelle",children:"Zelle"}),n.jsx("option",{value:"Check",children:"Check"}),n.jsx("option",{value:"Cash",children:"Cash"}),n.jsx("option",{value:"Other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Details"}),n.jsx("input",{type:"text",value:l.payment_details||"",onChange:p=>a({...l,payment_details:p.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., @venmo-handle, paypal@email.com"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:l.notes||"",onChange:p=>a({...l,notes:p.target.value}),rows:3,className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Any additional notes about this consigner..."})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",disabled:h,children:"Cancel"}),n.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?r?"Saving...":"Creating...":r?"Save Changes":"Add Consigner"})]})]})]})})}function Ns(e){return e==null?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}function lj({embedded:e=!1}){const t=nt(),[s,r]=y.useState([]),[l,a]=y.useState(!1),[i,c]=y.useState(""),[o,u]=y.useState("selected"),[m,h]=y.useState(""),[p,f]=y.useState(""),[b,j]=y.useState(0),w=50,[d,x]=y.useState(null),v=y.useCallback(F=>{h(F);const D=setTimeout(()=>{f(F),j(0)},300);return()=>clearTimeout(D)},[]),{data:N,isLoading:C,error:k}=H({queryKey:["pricing-matrix",p,o==="all",b,s],queryFn:()=>Id.getMatrix({player_search:p||void 0,only_with_prices:o==="selected",limit:w,offset:b*w})}),{data:I}=H({queryKey:["players-for-matrix",i],queryFn:()=>Zy.getPlayers({search:i,limit:50}),enabled:l}),E=y.useMemo(()=>{if(!I||I.length===0)return[];const F=new Set(s);return N!=null&&N.players&&N.players.forEach(D=>F.add(D.id)),I.filter(D=>!F.has(D.id))},[I,s,N]),T=be({mutationFn:F=>Id.createPrice(F),onSuccess:()=>{t.invalidateQueries({queryKey:["pricing-matrix"]}),x(null)}}),S=y.useMemo(()=>{if(!N)return{};const F={};return N.consigners.forEach(D=>{F[D.id]={count:0,total:0,min:1/0,max:-1/0}}),N.players.forEach(D=>{Object.entries(D.prices).forEach(([K,J])=>{if(J.price_per_card!==null){const he=F[K];he.count++,he.total+=J.price_per_card,he.min=Math.min(he.min,J.price_per_card),he.max=Math.max(he.max,J.price_per_card)}})}),F},[N]),g=(F,D,K)=>{x({playerId:F,consignerId:D,value:(K==null?void 0:K.toString())||""})},M=()=>{if(!d)return;const F=parseFloat(d.value);if(isNaN(F)||F<0){alert("Please enter a valid price");return}T.mutate({player_id:d.playerId,consigner_id:d.consignerId,price_per_card:F})},q=()=>{x(null)},U=F=>{let D=null;return Object.entries(F.prices).forEach(([K,J])=>{J.price_per_card!==null&&(!D||J.price_per_card<D.price)&&(D={consignerId:K,price:J.price_per_card})}),D},Y=F=>{r(D=>[...D,F.id]),a(!1),c("")},L=F=>{r(D=>D.filter(K=>K!==F))},P=()=>{if(!N)return;const F=["Player",...N.consigners.map(ne=>ne.name)],D=N.players.map(ne=>[ne.name,...N.consigners.map(st=>{var Dt;const ut=(Dt=ne.prices[st.id])==null?void 0:Dt.price_per_card;return ut!==null?ut.toString():""})]),K=[F,...D].map(ne=>ne.join(",")).join(`
`),J=new Blob([K],{type:"text/csv"}),he=URL.createObjectURL(J),ze=document.createElement("a");ze.href=he,ze.download="consigner-pricing-matrix.csv",ze.click()},z=N?Math.ceil(N.total_players/w):0;return k?n.jsx("div",{className:e?"":"p-8",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:["Error loading pricing matrix: ",k.message]})}):n.jsxs("div",{className:e?"":"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{children:!e&&n.jsxs(n.Fragment,{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pricing Matrix"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Compare consigner prices across players - Click any cell to edit"})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(xe,{size:18}),"Add Player"]}),n.jsxs("button",{onClick:P,disabled:!N,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:[n.jsx(Ny,{size:18}),"Export CSV"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",value:m,onChange:F=>v(F.target.value),placeholder:"Search players...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>{u("selected"),j(0)},className:`px-3 py-1.5 text-sm rounded-md transition-colors ${o==="selected"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"With Prices"}),n.jsx("button",{onClick:()=>{u("all"),j(0)},className:`px-3 py-1.5 text-sm rounded-md transition-colors ${o==="all"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"All Players"})]}),N&&n.jsxs("div",{className:"text-sm text-gray-500",children:[N.total_players," players  ",N.total_consigners," consigners"]})]}),C?n.jsx("div",{className:"bg-white rounded-xl border-2 border-gray-300 p-8",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-full"}),[...Array(10)].map((F,D)=>n.jsx("div",{className:"h-12 bg-gray-100 rounded w-full"},D))]})}):N&&N.consigners.length>0?n.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-300 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"sticky left-0 bg-gray-100 px-4 py-3 text-left text-sm font-semibold text-gray-900 min-w-[200px] z-10 border-b-2 border-r-2 border-gray-400",children:"Player"}),N.consigners.map((F,D)=>n.jsxs("th",{className:`px-4 py-3 text-center text-sm font-semibold text-gray-900 min-w-[130px] border-b-2 border-gray-400 ${D<N.consigners.length-1?"border-r-2 border-gray-300":""}`,children:[n.jsx("div",{children:F.name}),F.default_fee&&n.jsxs("div",{className:"text-xs font-normal text-gray-500",children:["Default: ",Ns(F.default_fee)]})]},F.id)),n.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-900 min-w-[100px] border-b-2 border-l-2 border-gray-400 bg-green-50",children:"Best"}),o==="selected"&&n.jsx("th",{className:"px-2 py-3 text-center text-sm font-semibold text-gray-900 w-10 border-b-2 border-l-2 border-gray-400"})]})}),n.jsx("tbody",{children:N.players.map((F,D)=>{const K=U(F),J=D%2===0;return n.jsxs("tr",{className:J?"bg-white":"bg-gray-50",children:[n.jsxs("td",{className:`sticky left-0 ${J?"bg-white":"bg-gray-50"} px-4 py-3 text-sm font-medium text-gray-900 z-10 border-b border-r-2 border-gray-400`,children:[n.jsx("div",{children:F.name}),F.team&&n.jsx("div",{className:"text-xs text-gray-500",children:F.team})]}),N.consigners.map((he,ze)=>{const ne=F.prices[he.id],st=(d==null?void 0:d.playerId)===F.id&&(d==null?void 0:d.consignerId)===he.id,ut=(K==null?void 0:K.consignerId)===he.id&&(ne==null?void 0:ne.price_per_card)!==null;return n.jsx("td",{className:`px-4 py-3 text-center text-sm border-b border-gray-200 ${ze<N.consigners.length-1?"border-r-2 border-gray-300":""} ${ut?"bg-green-50":""}`,children:st?n.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[n.jsx("span",{className:"text-gray-400",children:"$"}),n.jsx("input",{type:"number",value:d.value,onChange:Dt=>x({...d,value:Dt.target.value}),onKeyDown:Dt=>{Dt.key==="Enter"&&M(),Dt.key==="Escape"&&q()},className:"w-16 px-1 py-0.5 border border-blue-400 rounded text-center focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0,min:"0",step:"0.01"}),n.jsx("button",{onClick:M,disabled:T.isPending,className:"p-0.5 text-green-600 hover:bg-green-100 rounded",children:n.jsx(tt,{size:14})}),n.jsx("button",{onClick:q,className:"p-0.5 text-red-600 hover:bg-red-100 rounded",children:n.jsx(Be,{size:14})})]}):n.jsx("button",{onClick:()=>g(F.id,he.id,(ne==null?void 0:ne.price_per_card)??null),className:`w-full px-2 py-1 rounded transition-colors ${(ne==null?void 0:ne.price_per_card)!==null?ut?"text-green-700 font-semibold hover:bg-green-100":"text-gray-900 hover:bg-gray-100":"text-gray-400 hover:bg-gray-100 hover:text-gray-600"}`,children:(ne==null?void 0:ne.price_per_card)!==null?Ns(ne.price_per_card):"-"})},he.id)}),n.jsx("td",{className:"px-4 py-3 text-center text-sm border-b border-gray-200 border-l-2 border-gray-400 bg-green-50",children:K?n.jsx("div",{className:"text-green-700 font-semibold",children:Ns(K.price)}):n.jsx("span",{className:"text-gray-400",children:"-"})}),o==="selected"&&n.jsx("td",{className:"px-2 py-3 text-center border-b border-gray-200 border-l-2 border-gray-400",children:n.jsx("button",{onClick:()=>L(F.id),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remove from matrix",children:n.jsx(an,{size:14})})})]},F.id)})}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"bg-gray-100 border-t-2 border-gray-400",children:[n.jsx("td",{className:"sticky left-0 bg-gray-100 px-4 py-3 text-sm font-semibold text-gray-700 z-10 border-r-2 border-gray-400",children:"Summary"}),N.consigners.map((F,D)=>{const K=S[F.id];return n.jsx("td",{className:`px-4 py-2 text-center text-xs text-gray-600 ${D<N.consigners.length-1?"border-r-2 border-gray-300":""}`,children:K&&K.count>0?n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs("div",{children:[K.count," prices"]}),n.jsxs("div",{children:["Avg: ",Ns(K.total/K.count)]}),n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsxs("span",{className:"text-green-600 flex items-center gap-0.5",children:[n.jsx(yl,{size:10}),Ns(K.min)]}),n.jsx(Ey,{size:10,className:"text-gray-400"}),n.jsxs("span",{className:"text-red-600 flex items-center gap-0.5",children:[n.jsx(bs,{size:10}),Ns(K.max)]})]})]}):n.jsx("span",{className:"text-gray-400",children:"No prices"})},F.id)}),n.jsx("td",{className:"px-4 py-3 border-l-2 border-gray-400"}),o==="selected"&&n.jsx("td",{className:"border-l-2 border-gray-400"})]})})]})}),z>1&&n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t-2 border-gray-300",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",b*w+1," -"," ",Math.min((b+1)*w,N.total_players)," of"," ",N.total_players]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>j(F=>Math.max(0,F-1)),disabled:b===0,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(by,{size:18})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",b+1," of ",z]}),n.jsx("button",{onClick:()=>j(F=>Math.min(z-1,F+1)),disabled:b>=z-1,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Bn,{size:18})})]})]})]}):N&&N.players.length===0?n.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-300 p-12 text-center",children:[n.jsx(ni,{className:"mx-auto text-gray-300 mb-4",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Players in Matrix"}),n.jsx("p",{className:"text-gray-500 mb-6",children:'Click "Add Player" to start building your pricing comparison matrix.'}),n.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(xe,{size:18}),"Add Player"]})]}):n.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-300 p-12 text-center",children:[n.jsx(fr,{className:"mx-auto text-gray-300 mb-4",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Consigners"}),n.jsx("p",{className:"text-gray-500",children:"Add consigners first to start tracking prices."})]}),n.jsxs("div",{className:"mt-4 flex items-center gap-6 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-green-50 border-2 border-green-300 rounded"}),n.jsx("span",{children:"Best price for player"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-gray-400",children:"-"}),n.jsx("span",{children:"No price set (click to add)"})]})]}),l&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Player to Matrix"}),n.jsx("button",{onClick:()=>{a(!1),c("")},className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:n.jsx(Be,{size:20})})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",value:i,onChange:F=>c(F.target.value),placeholder:"Search players...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0})]}),n.jsx("div",{className:"max-h-64 overflow-y-auto",children:E.length>0?n.jsx("div",{className:"space-y-1",children:E.map(F=>n.jsxs("button",{onClick:()=>Y(F),className:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900",children:F.name}),F.team&&n.jsx("div",{className:"text-sm text-gray-500",children:F.team})]},F.id))}):i?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:['No players found matching "',i,'"']}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Type to search for players"})})]})]})})]})}function al(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Od(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Rd(){return new Date().toISOString().split("T")[0]}const Ld={pending:{bg:"bg-amber-100",text:"text-amber-700",label:"Pending"},partial:{bg:"bg-blue-100",text:"text-blue-700",label:"Partial Return"},complete:{bg:"bg-green-100",text:"text-green-700",label:"Complete"},cancelled:{bg:"bg-gray-100",text:"text-gray-700",label:"Cancelled"}};function aj({isOpen:e,onClose:t,onSelect:s,excludeIds:r=[]}){const[l,a]=y.useState(""),{data:i,isLoading:c}=H({queryKey:["checklists-search",l],queryFn:()=>W.checklists.getChecklists({search:l||void 0,limit:50}),enabled:e&&l.length>=2}),o=(i==null?void 0:i.filter(u=>!r.includes(u.id)))||[];return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Search Cards"}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(Be,{size:20})})]}),n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by player name...",value:l,onChange:u=>a(u.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.length<2?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"Type at least 2 characters to search"}):c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No cards found"}):n.jsx("div",{className:"space-y-2",children:o.map(u=>{var m;return n.jsxs("button",{onClick:()=>{s(u),t()},className:"w-full text-left p-3 rounded-lg border hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",u.card_number," - ",u.player_name_raw]}),n.jsx("div",{className:"text-sm text-gray-500",children:u.set_name||((m=u.product_line)==null?void 0:m.name)})]},u.id)})})})]})}):null}function ij({isOpen:e,onClose:t,onSuccess:s,consigners:r}){const l=nt(),[a,i]=y.useState(null),[c,o]=y.useState(!1),[u,m]=y.useState({consigner_id:"",date_sent:Rd(),reference_number:"",expected_return_date:"",shipping_out_cost:0,notes:""}),[h,p]=y.useState([]),f=r.find(k=>k.id===u.consigner_id),b=(f==null?void 0:f.default_fee)||0,j=h.reduce((k,I)=>k+I.quantity*I.fee_per_card,0),w=be({mutationFn:k=>W.consignments.createConsignment(k),onSuccess:()=>{l.invalidateQueries({queryKey:["consignments"]}),s(),N()},onError:k=>{i(k.message)}}),d=k=>{p(I=>[...I,{id:crypto.randomUUID(),checklist:k,quantity:1,fee_per_card:b}])},x=k=>{p(I=>I.filter(E=>E.id!==k))},v=(k,I)=>{p(E=>E.map(T=>T.id===k?{...T,...I}:T))},N=()=>{m({consigner_id:"",date_sent:Rd(),reference_number:"",expected_return_date:"",shipping_out_cost:0,notes:""}),p([]),i(null),t()},C=k=>{if(k.preventDefault(),i(null),!u.consigner_id){i("Please select a consigner");return}if(h.length===0){i("Please add at least one card");return}if(h.filter(T=>T.checklist).length===0){i("Please add at least one valid card");return}const E={consigner_id:u.consigner_id,date_sent:u.date_sent,reference_number:u.reference_number||null,expected_return_date:u.expected_return_date||null,status:"pending",total_fee:j,fee_paid:!1,shipping_out_cost:u.shipping_out_cost,shipping_return_cost:0,notes:u.notes||null};w.mutate(E)};return e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(_e,{className:"text-purple-600",size:20})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"New Consignment"})]}),n.jsx("button",{onClick:N,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(Be,{size:20})})]}),n.jsxs("form",{onSubmit:C,className:"flex-1 overflow-y-auto",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[a&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[n.jsx(ys,{size:18}),n.jsx("span",{children:a})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"col-span-2 md:col-span-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Consigner *"}),n.jsxs("select",{value:u.consigner_id,onChange:k=>m({...u,consigner_id:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,children:[n.jsx("option",{value:"",children:"Select consigner..."}),r.map(k=>n.jsx("option",{value:k.id,children:k.name},k.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Sent *"}),n.jsx("input",{type:"date",value:u.date_sent,onChange:k=>m({...u,date_sent:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference #"}),n.jsx("input",{type:"text",value:u.reference_number,onChange:k=>m({...u,reference_number:k.target.value}),placeholder:"Optional",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Return"}),n.jsx("input",{type:"date",value:u.expected_return_date,onChange:k=>m({...u,expected_return_date:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Cost"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:u.shipping_out_cost||"",onChange:k=>m({...u,shipping_out_cost:parseFloat(k.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cards *"}),n.jsxs("button",{type:"button",onClick:()=>o(!0),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-700",children:[n.jsx(xe,{size:16}),"Add Card"]})]}),h.length===0?n.jsxs("div",{onClick:()=>o(!0),className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-colors",children:[n.jsx(_e,{className:"mx-auto text-gray-400 mb-2",size:32}),n.jsx("p",{className:"text-gray-500",children:"Click to add cards to this consignment"})]}):n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Card"}),n.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Qty"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-28",children:"Fee/Card"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Total"}),n.jsx("th",{className:"px-3 py-2 w-10"})]})}),n.jsx("tbody",{className:"divide-y",children:h.map(k=>{var I,E;return n.jsxs("tr",{children:[n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{className:"font-medium text-gray-900",children:["#",(I=k.checklist)==null?void 0:I.card_number," - ",(E=k.checklist)==null?void 0:E.player_name_raw]})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"number",min:"1",value:k.quantity,onChange:T=>v(k.id,{quantity:parseInt(T.target.value)||1}),className:"w-full px-2 py-1 border rounded text-center"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:k.fee_per_card,onChange:T=>v(k.id,{fee_per_card:parseFloat(T.target.value)||0}),className:"w-full pl-6 pr-2 py-1 border rounded text-right"})]})}),n.jsx("td",{className:"px-3 py-2 text-right font-medium text-gray-900",children:al(k.quantity*k.fee_per_card)}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("button",{type:"button",onClick:()=>x(k.id),className:"p-1 text-gray-400 hover:text-red-600",children:n.jsx(an,{size:16})})})]},k.id)})})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:u.notes,onChange:k=>m({...u,notes:k.target.value}),placeholder:"Optional notes...",rows:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-gray-600",children:[h.length," card(s)"]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Fee"}),n.jsx("div",{className:"text-xl font-bold text-purple-700",children:al(j)})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[n.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:w.isPending,className:"flex items-center gap-2 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:w.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tt,{size:18}),"Create Consignment"]})})]})]})]})}),n.jsx(aj,{isOpen:c,onClose:()=>o(!1),onSelect:d,excludeIds:h.filter(k=>k.checklist).map(k=>k.checklist.id)})]}):null}function oj({consignment:e,isExpanded:t,onToggle:s}){var i,c,o,u,m;const r=Ld[e.status]||Ld.pending,l=((i=e.items)==null?void 0:i.reduce((h,p)=>h+p.quantity,0))||0,a=((c=e.items)==null?void 0:c.filter(h=>h.status==="signed").length)||0;return n.jsxs("div",{className:`bg-white rounded-xl border transition-all ${t?"border-blue-200 shadow-md":"border-gray-100"}`,children:[n.jsx("div",{className:"p-6 cursor-pointer",onClick:s,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t?n.jsx(ie,{className:"text-purple-600",size:20}):n.jsx(Bn,{className:"text-purple-600",size:20})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:((o=e.consigner)==null?void 0:o.name)||"Unknown Consigner"}),n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${r.bg} ${r.text}`,children:r.label}),e.fee_paid&&n.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-green-100 text-green-700",children:"Paid"})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Xa,{size:14}),Od(e.date_sent)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(_e,{size:14}),l," cards"]}),e.reference_number&&n.jsxs("span",{children:["#",e.reference_number]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xl font-bold text-gray-900",children:al(e.total_fee)}),n.jsxs("p",{className:"text-sm text-gray-500",children:[a,"/",l," signed"]})]})]})}),t&&n.jsxs("div",{className:"border-t border-gray-100 p-6",children:[e.expected_return_date&&n.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg text-sm text-blue-700",children:["Expected return: ",Od(e.expected_return_date)]}),e.notes&&n.jsx("p",{className:"text-sm text-gray-600 mb-4 p-3 bg-gray-50 rounded-lg",children:e.notes}),n.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Items (",((u=e.items)==null?void 0:u.length)||0,")"]}),n.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100 text-left text-gray-600",children:[n.jsx("th",{className:"px-3 py-2 font-medium",children:"Card"}),n.jsx("th",{className:"px-3 py-2 font-medium text-center",children:"Status"}),n.jsx("th",{className:"px-3 py-2 font-medium text-center",children:"Inscription"}),n.jsx("th",{className:"px-3 py-2 font-medium text-right",children:"Fee"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:(m=e.items)==null?void 0:m.map(h=>{var p,f,b;return n.jsxs("tr",{children:[n.jsx("td",{className:"px-3 py-2 text-gray-900",children:((f=(p=h.checklist)==null?void 0:p.player)==null?void 0:f.name)||((b=h.checklist)==null?void 0:b.player_name_raw)||"Unknown"}),n.jsx("td",{className:"px-3 py-2 text-center",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${h.status==="signed"?"bg-green-100 text-green-700":h.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:h.status})}),n.jsx("td",{className:"px-3 py-2 text-center text-gray-600",children:h.inscription||"-"}),n.jsx("td",{className:"px-3 py-2 text-right text-gray-600",children:al(h.fee_per_card*h.quantity)})]},h.id)})})]})})]})]})}function cj(){const[e,t]=y.useState("consignments"),[s,r]=y.useState(""),[l,a]=y.useState(""),[i,c]=y.useState(null),[o,u]=y.useState(!1),{data:m=[]}=H({queryKey:["consigners"],queryFn:()=>W.consignments.getConsigners()}),{data:h,isLoading:p}=H({queryKey:["consignments",s,l],queryFn:()=>W.consignments.getConsignments({consigner_id:s||void 0,status:l||void 0})}),f=(h==null?void 0:h.filter(w=>w.status==="pending"))||[],b=f.reduce((w,d)=>{var x;return w+(((x=d.items)==null?void 0:x.length)||0)},0),j=f.reduce((w,d)=>w+(d.total_fee||0),0);return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consignments"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Track cards sent out for autographs and compare consigner pricing"})]}),e==="consignments"&&n.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(xe,{size:18}),"New Consignment"]})]}),n.jsxs("div",{className:"flex items-center gap-1 mb-6 border-b border-gray-200",children:[n.jsxs("button",{onClick:()=>t("consignments"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${e==="consignments"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(qp,{size:18}),"Consignments"]}),n.jsxs("button",{onClick:()=>t("pricing"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${e==="pricing"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(_y,{size:18}),"Pricing Matrix"]})]}),e==="pricing"?n.jsx(lj,{embedded:!0}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Cards Out"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]}),n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Active Consignments"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.length})]}),n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pending Fees"}),n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:al(j)})]})]}),n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:s,onChange:w=>r(w.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Consigners"}),m.map(w=>n.jsx("option",{value:w.id,children:w.name},w.id))]}),n.jsx(ie,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:l,onChange:w=>a(w.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"partial",children:"Partial Return"}),n.jsx("option",{value:"complete",children:"Complete"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsx(ie,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]})]}),p?n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((w,d)=>n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]},d))}):n.jsxs("div",{className:"space-y-4",children:[h==null?void 0:h.map(w=>n.jsx(oj,{consignment:w,isExpanded:i===w.id,onToggle:()=>c(i===w.id?null:w.id)},w.id)),(h==null?void 0:h.length)===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[n.jsx(_e,{className:"mx-auto text-gray-400 mb-3",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No consignments yet"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Create one to start tracking"}),n.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(xe,{size:18}),"New Consignment"]})]})]}),n.jsx(ij,{isOpen:o,onClose:()=>u(!1),onSuccess:()=>{},consigners:m})]})]})}async function uj(e){const t=e?Pe(e):"";return O(`/submitters${t}`)}async function dj(e){const t=e?Pe(e):"";return O(`/submitters/summary${t}`)}async function hj(){return O("/submitters/default")}async function mj(e){return O(`/submitters/${e}`)}async function pj(e){return O(`/submitters/${e}/stats`)}async function fj(e){return O("/submitters",{method:"POST",body:JSON.stringify(e)})}async function xj(e,t){return O(`/submitters/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function gj(e){return O(`/submitters/${e}`,{method:"DELETE"})}async function yj(e){return O(`/submitters/${e}/set-default`,{method:"POST"})}const os={getSubmitters:uj,getSubmittersSummary:dj,getDefaultSubmitter:hj,getSubmitter:mj,getSubmitterStats:pj,createSubmitter:fj,updateSubmitter:xj,deleteSubmitter:gj,setDefaultSubmitter:yj};function Us(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function vj(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Dd(){return new Date().toISOString().split("T")[0]}const Ad={pending:{bg:"bg-amber-100",text:"text-amber-700"},shipped:{bg:"bg-blue-100",text:"text-blue-700"},received:{bg:"bg-purple-100",text:"text-purple-700"},grading:{bg:"bg-orange-100",text:"text-orange-700"},shipped_back:{bg:"bg-indigo-100",text:"text-indigo-700"},returned:{bg:"bg-green-100",text:"text-green-700"},cancelled:{bg:"bg-gray-100",text:"text-gray-700"}};function bj({isOpen:e,onClose:t,onSelect:s,excludeIds:r=[]}){const[l,a]=y.useState(""),{data:i,isLoading:c}=H({queryKey:["inventory-search",l],queryFn:()=>W.inventory.getInventory({search:l||void 0,limit:50}),enabled:e}),o=(i==null?void 0:i.filter(u=>!u.is_slabbed&&!r.includes(u.id)))||[];return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Cards from Inventory"}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(Be,{size:20})})]}),n.jsxs("div",{className:"p-4 border-b",children:[n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by player name...",value:l,onChange:u=>a(u.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Only showing raw (unslabbed) cards"})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No raw cards found in inventory"}):n.jsx("div",{className:"space-y-2",children:o.map(u=>{var m,h,p,f,b;return n.jsxs("button",{onClick:()=>{s(u),t()},className:"w-full text-left p-3 rounded-lg border hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"font-medium text-gray-900",children:["#",(m=u.checklist)==null?void 0:m.card_number," - ",(h=u.checklist)==null?void 0:h.player_name_raw]}),u.is_signed&&n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:"SIGNED"})]}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",u.quantity]})]}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:((p=u.checklist)==null?void 0:p.set_name)||((b=(f=u.checklist)==null?void 0:f.product_line)==null?void 0:b.name)})]},u.id)})})})]})}):null}function jj({isOpen:e,onClose:t,onSuccess:s,companies:r}){const l=nt(),[a,i]=y.useState(null),[c,o]=y.useState(!1),[u,m]=y.useState({company_id:"",service_level_id:"",date_submitted:Dd(),submission_number:"",reference_number:"",shipping_to_cost:0,shipping_to_tracking:"",insurance_cost:0,notes:""}),[h,p]=y.useState(""),[f,b]=y.useState([]),{data:j}=H({queryKey:["submitters-grading"],queryFn:()=>os.getSubmitters({grading_only:!0}),enabled:e});y.useEffect(()=>{if(j&&j.length>0&&!h){const g=j.find(M=>M.is_default);g&&p(g.id)}},[j,h]);const w=r.find(g=>g.id===u.company_id),d=(w==null?void 0:w.service_levels)||[],x=d.find(g=>g.id===u.service_level_id),v=(x==null?void 0:x.base_fee)||0,N=f.length*v,C=be({mutationFn:g=>Ir.createSubmission(g),onSuccess:()=>{l.invalidateQueries({queryKey:["grading-submissions"]}),l.invalidateQueries({queryKey:["grading-stats"]}),s(),T()},onError:g=>{i(g.message)}}),k=g=>{b(M=>[...M,{id:crypto.randomUUID(),inventory:g,declared_value:g.total_cost||0,was_signed:g.is_signed||!1}])},I=g=>{b(M=>M.filter(q=>q.id!==g))},E=(g,M)=>{b(q=>q.map(U=>U.id===g?{...U,...M}:U))},T=()=>{m({company_id:"",service_level_id:"",date_submitted:Dd(),submission_number:"",reference_number:"",shipping_to_cost:0,shipping_to_tracking:"",insurance_cost:0,notes:""}),p(""),b([]),i(null),t()},S=g=>{if(g.preventDefault(),i(null),!u.company_id){i("Please select a grading company");return}if(f.length===0){i("Please add at least one card");return}const M=f.filter(U=>U.inventory);if(M.length===0){i("Please add at least one valid card");return}const q={company_id:u.company_id,service_level_id:u.service_level_id||void 0,submitter_id:h||void 0,date_submitted:u.date_submitted,submission_number:u.submission_number||void 0,reference_number:u.reference_number||void 0,shipping_to_cost:u.shipping_to_cost,shipping_to_tracking:u.shipping_to_tracking||void 0,insurance_cost:u.insurance_cost,notes:u.notes||void 0,items:M.map(U=>({inventory_id:U.inventory.id,checklist_id:U.inventory.checklist_id,declared_value:U.declared_value,was_signed:U.was_signed}))};C.mutate(q)};return e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(vs,{className:"text-blue-600",size:20})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"New Grading Submission"})]}),n.jsx("button",{onClick:T,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(Be,{size:20})})]}),n.jsxs("form",{onSubmit:S,className:"flex-1 overflow-y-auto",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[a&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[n.jsx(ys,{size:18}),n.jsx("span",{children:a})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company *"}),n.jsxs("select",{value:u.company_id,onChange:g=>m({...u,company_id:g.target.value,service_level_id:""}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Select company..."}),r.filter(g=>g.service_type!=="authentication").map(g=>n.jsxs("option",{value:g.id,children:[g.name," (",g.code,")"]},g.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Level"}),n.jsxs("select",{value:u.service_level_id,onChange:g=>m({...u,service_level_id:g.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",disabled:!u.company_id,children:[n.jsx("option",{value:"",children:"Select level..."}),d.map(g=>n.jsxs("option",{value:g.id,children:[g.name," - ",Us(g.base_fee)," (",g.estimated_days||"?"," days)"]},g.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submitted Through"}),n.jsxs("select",{value:h,onChange:g=>p(g.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Direct submission..."}),j==null?void 0:j.map(g=>n.jsxs("option",{value:g.id,children:[g.name," ",g.is_default?"(Default)":""]},g.id))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Third-party service used to submit cards (e.g., PWCC, MySlabs)"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Submitted *"}),n.jsx("input",{type:"date",value:u.date_submitted,onChange:g=>m({...u,date_submitted:g.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submission #"}),n.jsx("input",{type:"text",value:u.submission_number,onChange:g=>m({...u,submission_number:g.target.value}),placeholder:"From company",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference #"}),n.jsx("input",{type:"text",value:u.reference_number,onChange:g=>m({...u,reference_number:g.target.value}),placeholder:"Your reference",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Cost"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:u.shipping_to_cost||"",onChange:g=>m({...u,shipping_to_cost:parseFloat(g.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tracking #"}),n.jsx("input",{type:"text",value:u.shipping_to_tracking,onChange:g=>m({...u,shipping_to_tracking:g.target.value}),placeholder:"Optional",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:u.insurance_cost||"",onChange:g=>m({...u,insurance_cost:parseFloat(g.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cards *"}),n.jsxs("button",{type:"button",onClick:()=>o(!0),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[n.jsx(xe,{size:16}),"Add from Inventory"]})]}),f.length===0?n.jsxs("div",{onClick:()=>o(!0),className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[n.jsx(_e,{className:"mx-auto text-gray-400 mb-2",size:32}),n.jsx("p",{className:"text-gray-500",children:"Click to add cards from your inventory"})]}):n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Card"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-28",children:"Declared Value"}),n.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Signed"}),n.jsx("th",{className:"px-3 py-2 w-10"})]})}),n.jsx("tbody",{className:"divide-y",children:f.map(g=>{var M,q,U,Y,L,P;return n.jsxs("tr",{children:[n.jsxs("td",{className:"px-3 py-2",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",(q=(M=g.inventory)==null?void 0:M.checklist)==null?void 0:q.card_number," - ",(Y=(U=g.inventory)==null?void 0:U.checklist)==null?void 0:Y.player_name_raw]}),n.jsx("div",{className:"text-xs text-gray-500",children:(P=(L=g.inventory)==null?void 0:L.checklist)==null?void 0:P.set_name})]}),n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:g.declared_value,onChange:z=>E(g.id,{declared_value:parseFloat(z.target.value)||0}),className:"w-full pl-6 pr-2 py-1 border rounded text-right"})]})}),n.jsx("td",{className:"px-3 py-2 text-center",children:n.jsx("input",{type:"checkbox",checked:g.was_signed,onChange:z=>E(g.id,{was_signed:z.target.checked}),className:"w-4 h-4 rounded text-blue-600"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("button",{type:"button",onClick:()=>I(g.id),className:"p-1 text-gray-400 hover:text-red-600",children:n.jsx(an,{size:16})})})]},g.id)})})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:u.notes,onChange:g=>m({...u,notes:g.target.value}),placeholder:"Optional notes...",rows:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Cards"}),n.jsx("div",{className:"font-bold text-gray-900",children:f.length})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Grading Fee"}),n.jsx("div",{className:"font-bold text-gray-900",children:Us(N)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Total Cost"}),n.jsx("div",{className:"font-bold text-blue-700",children:Us(N+u.shipping_to_cost+u.insurance_cost)})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[n.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:C.isPending,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:C.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tt,{size:18}),"Create Submission"]})})]})]})]})}),n.jsx(bj,{isOpen:c,onClose:()=>o(!1),onSelect:k,excludeIds:f.filter(g=>g.inventory).map(g=>g.inventory.id)})]}):null}function Nj({submission:e,isExpanded:t,onToggle:s}){var l,a;const r=Ad[e.status]||Ad.pending;return n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[n.jsxs("div",{onClick:s,className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{className:"p-1",children:t?n.jsx(ie,{size:20}):n.jsx(Bn,{size:20})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:e.company_name}),e.submission_number&&n.jsxs("span",{className:"text-sm text-gray-500",children:["#",e.submission_number]}),e.submitter_name&&n.jsxs("span",{className:"text-xs px-2 py-0.5 bg-gray-100 text-gray-600 rounded",children:["via ",e.submitter_name]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mt-1",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Xa,{size:14}),vj(e.date_submitted)]}),n.jsxs("span",{children:[((l=e.items)==null?void 0:l.length)||0," cards"]}),e.service_level_name&&n.jsx("span",{children:e.service_level_name})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.bg} ${r.text}`,children:e.status.replace("_"," ")}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Fees"}),n.jsx("div",{className:"font-semibold text-gray-900",children:Us(Number(e.grading_fee||0)+Number(e.shipping_to_cost||0)+Number(e.shipping_return_cost||0)+Number(e.insurance_cost||0))})]})]})]}),t&&n.jsx("div",{className:"border-t px-4 py-4 bg-gray-50",children:n.jsx("div",{className:"bg-white rounded-lg border overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Card #"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Player"}),n.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Declared"}),n.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Grade"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cert #"})]})}),n.jsx("tbody",{className:"divide-y",children:(a=e.items)==null?void 0:a.map(i=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-3 py-2 font-medium text-gray-900",children:i.card_number||"-"}),n.jsx("td",{className:"px-3 py-2 text-gray-600",children:i.player_name||"Unknown"}),n.jsx("td",{className:"px-3 py-2 text-center text-gray-600",children:Us(Number(i.declared_value)||0)}),n.jsx("td",{className:"px-3 py-2 text-center",children:i.grade_value!==null?n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium ${Number(i.grade_value)>=9?"bg-green-100 text-green-700":Number(i.grade_value)>=7?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:[n.jsx(vs,{size:12}),i.grade_value,i.auto_grade&&` / ${i.auto_grade}`]}):n.jsx("span",{className:"text-gray-400",children:"Pending"})}),n.jsx("td",{className:"px-3 py-2 text-right text-gray-600",children:i.cert_number||"-"})]},i.id))})]})})})]})}function wj(){var f;const[e,t]=y.useState(""),[s,r]=y.useState(""),[l,a]=y.useState(null),[i,c]=y.useState(!1),{data:o=[]}=H({queryKey:["grading-companies"],queryFn:()=>Ir.getCompanies()}),{data:u}=H({queryKey:["grading-stats"],queryFn:()=>Ir.getStats()}),{data:m}=H({queryKey:["pending-by-company"],queryFn:()=>Ir.getPendingByCompany()}),{data:h,isLoading:p}=H({queryKey:["grading-submissions",e,s],queryFn:()=>Ir.getSubmissions({company_id:e||void 0,status:s||void 0})});return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Card Grading"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Track PSA, BGS, SGC and other grading submissions"})]}),n.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(xe,{size:18}),"New Submission"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Cards Out"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(u==null?void 0:u.cards_out_for_grading)||0}),n.jsxs("p",{className:"text-xs text-gray-500",children:[(u==null?void 0:u.pending_submissions)||0," submissions"]})]}),n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pending Fees"}),n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:Us(Number(u==null?void 0:u.pending_fees)||0)})]}),n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Cards Graded"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:(u==null?void 0:u.total_graded)||0})]}),n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Gem Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[((f=u==null?void 0:u.gem_rate)==null?void 0:f.toFixed(1))||"-","%"]})]})]}),m&&m.length>0&&n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 mb-6",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Pending by Company"}),n.jsx("div",{className:"flex flex-wrap gap-3",children:m.map(b=>n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium text-gray-900",children:b.company_name}),n.jsxs("span",{className:"text-sm text-gray-500",children:[b.pending_count," cards"]})]},b.company_id))})]}),n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:e,onChange:b=>t(b.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Companies"}),o.map(b=>n.jsx("option",{value:b.id,children:b.name},b.id))]}),n.jsx(ie,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:s,onChange:b=>r(b.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"received",children:"Received"}),n.jsx("option",{value:"grading",children:"Grading"}),n.jsx("option",{value:"shipped_back",children:"Shipped Back"}),n.jsx("option",{value:"returned",children:"Returned"})]}),n.jsx(ie,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]})]}),p?n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((b,j)=>n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]},j))}):n.jsxs("div",{className:"space-y-4",children:[h==null?void 0:h.map(b=>n.jsx(Nj,{submission:b,isExpanded:l===b.id,onToggle:()=>a(l===b.id?null:b.id)},b.id)),(h==null?void 0:h.length)===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[n.jsx(vs,{className:"mx-auto text-gray-400 mb-3",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No submissions yet"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Create one to start tracking your grading submissions"}),n.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(xe,{size:18}),"New Submission"]})]})]}),n.jsx(jj,{isOpen:i,onClose:()=>c(!1),onSuccess:()=>{},companies:o})]})}function il(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function _j(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function $d(){return new Date().toISOString().split("T")[0]}const qd={pending:"bg-yellow-100 text-yellow-800",shipped:"bg-blue-100 text-blue-800",received:"bg-purple-100 text-purple-800",processing:"bg-orange-100 text-orange-800",shipped_back:"bg-indigo-100 text-indigo-800",returned:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800",authentic:"bg-green-100 text-green-800",not_authentic:"bg-red-100 text-red-800",inconclusive:"bg-yellow-100 text-yellow-800"},Yp={card:n.jsx(Za,{className:"h-4 w-4"}),memorabilia:n.jsx(ti,{className:"h-4 w-4"}),collectible:n.jsx(Up,{className:"h-4 w-4"})};function Sj({isOpen:e,onClose:t,onSelectCard:s,onSelectStandalone:r,excludeCardIds:l=[],excludeStandaloneIds:a=[]}){const[i,c]=y.useState(""),[o,u]=y.useState("cards"),{data:m,isLoading:h}=H({queryKey:["inventory-search-auth",i],queryFn:()=>W.inventory.getInventory({search:i||void 0,is_signed:!0,limit:50}),enabled:e&&o==="cards"}),{data:p,isLoading:f}=H({queryKey:["standalone-items-search-auth",i],queryFn:()=>W.standaloneItems.getStandaloneItems({search:i||void 0,limit:50}),enabled:e&&o==="items"}),b=(m==null?void 0:m.filter(w=>!l.includes(w.id)))||[],j=(p==null?void 0:p.filter(w=>!a.includes(w.id)))||[];return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Items for Authentication"}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(Be,{size:20})})]}),n.jsxs("div",{className:"p-4 border-b space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>u("cards"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm ${o==="cards"?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,children:[n.jsx(Za,{size:16}),"Cards"]}),n.jsxs("button",{onClick:()=>u("items"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm ${o==="items"?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,children:[n.jsx(ti,{size:16}),"Memorabilia / Collectibles"]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:o==="cards"?"Search signed cards...":"Search items...",value:i,onChange:w=>c(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o==="cards"?h?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):b.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No signed cards found"}):n.jsx("div",{className:"space-y-2",children:b.map(w=>{var d,x,v,N,C;return n.jsxs("button",{onClick:()=>{s(w),t()},className:"w-full text-left p-3 rounded-lg border hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs("span",{className:"font-medium text-gray-900",children:["#",(d=w.checklist)==null?void 0:d.card_number," - ",(x=w.checklist)==null?void 0:x.player_name_raw]}),n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:"SIGNED"})]})}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:((v=w.checklist)==null?void 0:v.set_name)||((C=(N=w.checklist)==null?void 0:N.product_line)==null?void 0:C.name)})]},w.id)})}):f?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):j.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No items found"}):n.jsx("div",{className:"space-y-2",children:j.map(w=>{var d,x;return n.jsxs("button",{onClick:()=>{r(w),t()},className:"w-full text-left p-3 rounded-lg border hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium text-gray-900",children:w.title}),n.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded ${((d=w.category)==null?void 0:d.slug)==="memorabilia"?"bg-yellow-100 text-yellow-700":"bg-purple-100 text-purple-700"}`,children:((x=w.category)==null?void 0:x.name)||w.item_type})]}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[w.sport,"  ",w.player_name||"Unknown signer"]})]},w.id)})})})]})}):null}function kj({isOpen:e,onClose:t,onSuccess:s,companies:r}){const l=nt(),[a,i]=y.useState(null),[c,o]=y.useState(!1),[u,m]=y.useState({company_id:"",service_level_id:"",date_submitted:$d(),submission_number:"",reference_number:"",shipping_to_cost:0,shipping_to_tracking:"",insurance_cost:0,notes:""}),[h,p]=y.useState(""),[f,b]=y.useState([]),{data:j}=H({queryKey:["submitters-auth"],queryFn:()=>os.getSubmitters({auth_only:!0}),enabled:e});y.useEffect(()=>{if(j&&j.length>0&&!h){const S=j.find(g=>g.is_default);S&&p(S.id)}},[j,h]);const w=r.filter(S=>S.service_type==="authentication"||S.service_type==="both"),d=w.find(S=>S.id===u.company_id),x=(d==null?void 0:d.service_levels)||[],v=be({mutationFn:S=>Vn.createSubmission(S),onSuccess:()=>{l.invalidateQueries({queryKey:["auth-stats"]}),l.invalidateQueries({queryKey:["auth-items"]}),s(),E()},onError:S=>{i(S.message)}}),N=S=>{b(g=>{var M,q,U;return[...g,{id:crypto.randomUUID(),item_type:"card",inventory:S,description:`${(M=S.checklist)==null?void 0:M.card_number} - ${(q=S.checklist)==null?void 0:q.player_name_raw}`,signer_name:((U=S.checklist)==null?void 0:U.player_name_raw)||"",declared_value:S.total_cost||0}]})},C=S=>{var M;const g=((M=S.category)==null?void 0:M.slug)==="memorabilia"?"memorabilia":"collectible";b(q=>[...q,{id:crypto.randomUUID(),item_type:g,standalone_item:S,description:S.title,signer_name:S.player_name||"",declared_value:0}])},k=S=>{b(g=>g.filter(M=>M.id!==S))},I=(S,g)=>{b(M=>M.map(q=>q.id===S?{...q,...g}:q))},E=()=>{m({company_id:"",service_level_id:"",date_submitted:$d(),submission_number:"",reference_number:"",shipping_to_cost:0,shipping_to_tracking:"",insurance_cost:0,notes:""}),p(""),b([]),i(null),t()},T=S=>{if(S.preventDefault(),i(null),!u.company_id){i("Please select an authentication company");return}if(f.length===0){i("Please add at least one item");return}const g={company_id:u.company_id,service_level_id:u.service_level_id||void 0,submitter_id:h||void 0,date_submitted:u.date_submitted,submission_number:u.submission_number||void 0,reference_number:u.reference_number||void 0,shipping_to_cost:u.shipping_to_cost,shipping_to_tracking:u.shipping_to_tracking||void 0,insurance_cost:u.insurance_cost,notes:u.notes||void 0,items:f.map(M=>{var q,U;return{item_type:M.item_type,inventory_id:(q=M.inventory)==null?void 0:q.id,standalone_item_id:(U=M.standalone_item)==null?void 0:U.id,description:M.description,signer_name:M.signer_name,declared_value:M.declared_value}})};v.mutate(g)};return e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Lt,{className:"text-green-600",size:20})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"New Authentication Submission"})]}),n.jsx("button",{onClick:E,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(Be,{size:20})})]}),n.jsxs("form",{onSubmit:T,className:"flex-1 overflow-y-auto",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[a&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[n.jsx(ys,{size:18}),n.jsx("span",{children:a})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company *"}),n.jsxs("select",{value:u.company_id,onChange:S=>m({...u,company_id:S.target.value,service_level_id:""}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0,children:[n.jsx("option",{value:"",children:"Select company..."}),w.map(S=>n.jsxs("option",{value:S.id,children:[S.name," (",S.code,")"]},S.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Level"}),n.jsxs("select",{value:u.service_level_id,onChange:S=>m({...u,service_level_id:S.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",disabled:!u.company_id,children:[n.jsx("option",{value:"",children:"Select level..."}),x.map(S=>n.jsxs("option",{value:S.id,children:[S.name," - ",il(S.base_fee)]},S.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submitted Through"}),n.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Direct submission..."}),j==null?void 0:j.map(S=>n.jsxs("option",{value:S.id,children:[S.name," ",S.is_default?"(Default)":""]},S.id))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Third-party service used to submit items (e.g., PWCC, MySlabs)"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Submitted *"}),n.jsx("input",{type:"date",value:u.date_submitted,onChange:S=>m({...u,date_submitted:S.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submission #"}),n.jsx("input",{type:"text",value:u.submission_number,onChange:S=>m({...u,submission_number:S.target.value}),placeholder:"From company",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference #"}),n.jsx("input",{type:"text",value:u.reference_number,onChange:S=>m({...u,reference_number:S.target.value}),placeholder:"Your reference",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Cost"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:u.shipping_to_cost||"",onChange:S=>m({...u,shipping_to_cost:parseFloat(S.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tracking #"}),n.jsx("input",{type:"text",value:u.shipping_to_tracking,onChange:S=>m({...u,shipping_to_tracking:S.target.value}),placeholder:"Optional",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:u.insurance_cost||"",onChange:S=>m({...u,insurance_cost:parseFloat(S.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Items *"}),n.jsxs("button",{type:"button",onClick:()=>o(!0),className:"flex items-center gap-1 text-sm text-green-600 hover:text-green-700",children:[n.jsx(xe,{size:16}),"Add Item"]})]}),f.length===0?n.jsxs("div",{onClick:()=>o(!0),className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-green-400 hover:bg-green-50 transition-colors",children:[n.jsx(Lt,{className:"mx-auto text-gray-400 mb-2",size:32}),n.jsx("p",{className:"text-gray-500",children:"Click to add items for authentication"})]}):n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase w-36",children:"Signer"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-28",children:"Value"}),n.jsx("th",{className:"px-3 py-2 w-10"})]})}),n.jsx("tbody",{className:"divide-y",children:f.map(S=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-3 py-2",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs ${S.item_type==="card"?"bg-blue-100 text-blue-700":S.item_type==="memorabilia"?"bg-yellow-100 text-yellow-700":"bg-purple-100 text-purple-700"}`,children:[Yp[S.item_type],S.item_type]})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("div",{className:"font-medium text-gray-900 text-sm",children:S.description})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"text",value:S.signer_name,onChange:g=>I(S.id,{signer_name:g.target.value}),placeholder:"Signer name",className:"w-full px-2 py-1 border rounded text-sm"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:S.declared_value,onChange:g=>I(S.id,{declared_value:parseFloat(g.target.value)||0}),className:"w-full pl-6 pr-2 py-1 border rounded text-right text-sm"})]})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("button",{type:"button",onClick:()=>k(S.id),className:"p-1 text-gray-400 hover:text-red-600",children:n.jsx(an,{size:16})})})]},S.id))})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:u.notes,onChange:S=>m({...u,notes:S.target.value}),placeholder:"Optional notes...",rows:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex gap-4 text-sm",children:[n.jsxs("span",{children:[n.jsx("strong",{children:f.filter(S=>S.item_type==="card").length})," cards"]}),n.jsxs("span",{children:[n.jsx("strong",{children:f.filter(S=>S.item_type==="memorabilia").length})," memorabilia"]}),n.jsxs("span",{children:[n.jsx("strong",{children:f.filter(S=>S.item_type==="collectible").length})," collectibles"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Declared Value"}),n.jsx("div",{className:"text-xl font-bold text-green-700",children:il(f.reduce((S,g)=>S+g.declared_value,0))})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[n.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:v.isPending,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:v.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tt,{size:18}),"Create Submission"]})})]})]})]})}),n.jsx(Sj,{isOpen:c,onClose:()=>o(!1),onSelectCard:N,onSelectStandalone:C,excludeCardIds:f.filter(S=>S.inventory).map(S=>S.inventory.id),excludeStandaloneIds:f.filter(S=>S.standalone_item).map(S=>S.standalone_item.id)})]}):null}function Cj({items:e,type:t}){return e.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No ",t," items found"]}):n.jsx("div",{className:"space-y-2",children:e.map(s=>n.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-full ${qd[s.status]}`,children:s.status==="authentic"?n.jsx(Rp,{className:"h-4 w-4"}):s.status==="pending"?n.jsx(jy,{className:"h-4 w-4"}):n.jsx(Lt,{className:"h-4 w-4"})}),n.jsxs("div",{children:[t==="card"?n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"font-medium text-gray-900",children:s.player_name||"Unknown Player"}),n.jsxs("p",{className:"text-sm text-gray-500",children:[s.card_number,"  ",s.product_line_name]})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"font-medium text-gray-900",children:s.item_name||s.description||"Unknown Item"}),n.jsx("p",{className:"text-sm text-gray-500",children:s.item_category||t})]}),s.signer_name&&n.jsxs("p",{className:"text-xs text-blue-600",children:["Signed by: ",s.signer_name]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs ${qd[s.status]}`,children:s.status.replace("_"," ")}),s.cert_number&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Cert: ",s.cert_number]}),s.sticker_number&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Sticker: ",s.sticker_number]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:il(s.declared_value)})]})]})},s.id))})}function Pj(){const[e,t]=y.useState("card"),[s,r]=y.useState(!1),{data:l}=H({queryKey:["auth-stats"],queryFn:()=>Vn.getStats()}),{data:a=[]}=H({queryKey:["auth-companies"],queryFn:()=>Vn.getCompanies()}),{data:i=[]}=H({queryKey:["auth-pending-by-company"],queryFn:()=>Vn.getPendingByCompany()}),{data:c=[]}=H({queryKey:["auth-items","cards"],queryFn:()=>Vn.getCardItems()}),{data:o=[]}=H({queryKey:["auth-items","memorabilia"],queryFn:()=>Vn.getMemorabiliaItems()}),{data:u=[]}=H({queryKey:["auth-items","collectibles"],queryFn:()=>Vn.getCollectibleItems()}),h={card:c,memorabilia:o,collectible:u}[e];return n.jsxs("div",{className:"p-8 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Authentication"}),n.jsx("p",{className:"text-gray-500",children:"PSA/DNA & JSA signature verification"})]}),n.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(xe,{className:"h-4 w-4"}),"New Submission"]})]}),l&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Out for Auth"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.items_out_for_auth})]}),n.jsx(_e,{className:"h-8 w-8 text-blue-500"})]})}),n.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pending Fees"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:il(l.pending_fees)})]}),n.jsx(Lt,{className:"h-8 w-8 text-green-500"})]})}),n.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Authenticated"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.total_authenticated})]}),n.jsx(Lt,{className:"h-8 w-8 text-purple-500"})]})}),n.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.pass_rate,"%"]})]}),n.jsx(Rp,{className:"h-8 w-8 text-green-500"})]})})]}),i.length>0&&n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pending by Company"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(p=>n.jsxs("div",{className:"p-4 border rounded-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:n.jsx(Lt,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:p.company_name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[p.pending_count," item",p.pending_count!==1?"s":""," pending"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-medium text-gray-900",children:il(p.pending_value)}),p.oldest_submission_date&&n.jsxs("p",{className:"text-xs text-gray-400",children:["Since ",_j(p.oldest_submission_date)]})]})]},p.company_id))})]}),n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl",children:[n.jsxs("div",{className:"border-b border-gray-100 p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items by Category"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>t("card"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e==="card"?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,children:[n.jsx(Za,{className:"h-4 w-4"}),"Cards (",c.length,")"]}),n.jsxs("button",{onClick:()=>t("memorabilia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e==="memorabilia"?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,children:[n.jsx(ti,{className:"h-4 w-4"}),"Memorabilia (",o.length,")"]}),n.jsxs("button",{onClick:()=>t("collectible"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e==="collectible"?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,children:[n.jsx(Up,{className:"h-4 w-4"}),"Collectibles (",u.length,")"]})]})]}),n.jsx("div",{className:"p-4",children:n.jsx(Cj,{items:h,type:e})})]}),l&&l.by_item_type&&n.jsx("div",{className:"grid grid-cols-3 gap-4",children:["card","memorabilia","collectible"].map(p=>n.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-3 rounded-full ${p==="card"?"bg-blue-100":p==="memorabilia"?"bg-yellow-100":"bg-purple-100"}`,children:Yp[p]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:[p,"s"]}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:l.by_item_type[p]||0}),n.jsx("p",{className:"text-xs text-gray-400",children:"authenticated"})]})]})},p))}),n.jsx(kj,{isOpen:s,onClose:()=>r(!1),onSuccess:()=>{},companies:a})]})}const ge=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),Ud=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A";function Ej({listing:e,isSelected:t,isExpanded:s,onToggleSelect:r,onToggleExpand:l}){const a=e.item_sales>0?(e.net_sales/e.item_sales*100).toFixed(1):"0.0";return n.jsxs("div",{className:`border rounded-lg mb-2 transition-colors ${t?"border-blue-300 bg-blue-50/30":"border-gray-200 bg-white"}`,children:[n.jsxs("div",{className:"flex items-center p-3 gap-3",children:[n.jsx("button",{onClick:r,className:"flex-shrink-0 p-1 hover:bg-gray-100 rounded",children:t?n.jsx(qs,{className:"text-blue-600",size:20}):n.jsx(ea,{className:"text-gray-400",size:20})}),n.jsx("button",{onClick:l,className:"flex-shrink-0 p-1 hover:bg-gray-100 rounded",children:s?n.jsx(ie,{className:"text-gray-600",size:18}):n.jsx(Bn,{className:"text-gray-600",size:18})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",title:e.listing_title,children:e.listing_title}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Item ID: ",e.ebay_item_id]})]}),n.jsxs("div",{className:"text-center px-3",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Qty"}),n.jsx("p",{className:"font-semibold text-gray-900",children:e.quantity_sold})]}),n.jsxs("div",{className:"text-right px-3",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Sales"}),n.jsx("p",{className:"font-semibold text-gray-900",children:ge(e.item_sales)})]}),n.jsxs("div",{className:"text-right px-3",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Fees"}),n.jsxs("p",{className:"font-semibold text-red-600",children:["-",ge(e.total_selling_costs)]})]}),n.jsxs("div",{className:"text-right px-3",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Net"}),n.jsx("p",{className:`font-semibold ${e.net_sales>=0?"text-green-600":"text-red-600"}`,children:ge(e.net_sales)})]}),n.jsxs("div",{className:"text-right px-3 w-20",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Margin"}),n.jsxs("p",{className:"font-semibold text-gray-700",children:[a,"%"]})]})]}),s&&n.jsx("div",{className:"border-t border-gray-100 p-4 bg-gray-50/50",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Revenue"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Item Sales"}),n.jsx("span",{className:"font-medium",children:ge(e.item_sales)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Shipping"}),n.jsx("span",{className:"font-medium",children:ge(e.shipping_collected)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Taxes (to you)"}),n.jsx("span",{className:"font-medium",children:ge(e.taxes_to_seller)})]}),n.jsxs("div",{className:"flex justify-between border-t pt-1 mt-1",children:[n.jsx("span",{className:"text-gray-700 font-medium",children:"Total"}),n.jsx("span",{className:"font-semibold",children:ge(e.total_sales)})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Fees"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Final Value"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",ge(e.final_value_fees)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Shipping Labels"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",ge(e.shipping_label_cost)]})]}),e.promoted_general_fees>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Promoted"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",ge(e.promoted_general_fees)]})]}),e.fee_credits>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Credits"}),n.jsxs("span",{className:"font-medium text-green-600",children:["+",ge(e.fee_credits)]})]}),n.jsxs("div",{className:"flex justify-between border-t pt-1 mt-1",children:[n.jsx("span",{className:"text-gray-700 font-medium",children:"Total Fees"}),n.jsxs("span",{className:"font-semibold text-red-600",children:["-",ge(e.total_selling_costs)]})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Sales By Channel"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Direct"}),n.jsx("span",{className:"font-medium",children:e.quantity_sold-e.quantity_via_promoted-e.quantity_via_best_offer-e.quantity_via_seller_offer})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Promoted"}),n.jsx("span",{className:"font-medium",children:e.quantity_via_promoted})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Best Offer"}),n.jsx("span",{className:"font-medium",children:e.quantity_via_best_offer})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Seller Offer"}),n.jsx("span",{className:"font-medium",children:e.quantity_via_seller_offer})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Averages"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Avg Sale Price"}),n.jsx("span",{className:"font-medium",children:ge(e.average_selling_price)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Avg Net/Sale"}),n.jsx("span",{className:"font-medium",children:ge(e.quantity_sold>0?e.net_sales/e.quantity_sold:0)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Fee %"}),n.jsxs("span",{className:"font-medium",children:[e.item_sales>0?(e.total_selling_costs/e.item_sales*100).toFixed(1):"0.0","%"]})]})]})]})]})})]})}function Ij(){const[e,t]=y.useState("upload"),[s,r]=y.useState(!1),[l,a]=y.useState(null),[i,c]=y.useState(!1),[o,u]=y.useState(null),[m,h]=y.useState({}),[p,f]=y.useState(new Set),[b,j]=y.useState(""),[w,d]=y.useState(null),x=y.useMemo(()=>o!=null&&o.listings?o.listings.filter((L,P)=>m[P]!==!1):[],[o,m]),v=y.useMemo(()=>({count:x.length,quantity:x.reduce((L,P)=>L+P.quantity_sold,0),itemSales:x.reduce((L,P)=>L+P.item_sales,0),netSales:x.reduce((L,P)=>L+P.net_sales,0)}),[x]),N=y.useMemo(()=>o!=null&&o.listings.length?o.listings.every((L,P)=>m[P]!==!1):!1,[o,m]),C=y.useMemo(()=>o!=null&&o.listings.length?o.listings.every((L,P)=>m[P]===!1):!0,[o,m]),k=y.useCallback(L=>{L.preventDefault(),L.stopPropagation(),L.type==="dragenter"||L.type==="dragover"?c(!0):L.type==="dragleave"&&c(!1)},[]),I=y.useCallback(L=>{L.preventDefault(),L.stopPropagation(),c(!1);const P=L.dataTransfer.files;P!=null&&P[0]&&T(P[0])},[]),E=y.useCallback(L=>{const P=L.target.files;P!=null&&P[0]&&T(P[0])},[]),T=async L=>{r(!0),a(null);try{const P=await Ed.uploadPreview(L);if(!P.success){a(P.message);return}u(P);const z={};P.listings.forEach((F,D)=>{z[D]=!0}),h(z),t("preview")}catch(P){a(P instanceof Error?P.message:"Failed to parse file")}finally{r(!1)}},S=y.useCallback(L=>{h(P=>({...P,[L]:P[L]===!1}))},[]),g=y.useCallback(L=>{f(P=>{const z=new Set(P);return z.has(L)?z.delete(L):z.add(L),z})},[]),M=y.useCallback(()=>{if(!(o!=null&&o.listings))return;const L={};o.listings.forEach((P,z)=>{L[z]=!0}),h(L)},[o]),q=y.useCallback(()=>{if(!(o!=null&&o.listings))return;const L={};o.listings.forEach((P,z)=>{L[z]=!1}),h(L)},[o]),U=async()=>{if(!(!o||x.length===0)){r(!0),a(null);try{const L=await Ed.importListings({report_start_date:o.report_start_date||new Date().toISOString().split("T")[0],report_end_date:o.report_end_date||new Date().toISOString().split("T")[0],listings:x.map(P=>({listing_title:P.listing_title,ebay_item_id:P.ebay_item_id,quantity_sold:P.quantity_sold,total_sales:P.total_sales,item_sales:P.item_sales,shipping_collected:P.shipping_collected,taxes_to_seller:P.taxes_to_seller,taxes_to_ebay:P.taxes_to_ebay,total_selling_costs:P.total_selling_costs,insertion_fees:P.insertion_fees,listing_upgrade_fees:P.listing_upgrade_fees,final_value_fees:P.final_value_fees,promoted_general_fees:P.promoted_general_fees,promoted_priority_fees:P.promoted_priority_fees,ads_express_fees:P.ads_express_fees,promoted_offsite_fees:P.promoted_offsite_fees,international_fees:P.international_fees,other_ebay_fees:P.other_ebay_fees,deposit_processing_fees:P.deposit_processing_fees,fee_credits:P.fee_credits,shipping_label_cost:P.shipping_label_cost,net_sales:P.net_sales,average_selling_price:P.average_selling_price,quantity_via_promoted:P.quantity_via_promoted,quantity_via_best_offer:P.quantity_via_best_offer,quantity_via_seller_offer:P.quantity_via_seller_offer})),notes:b||void 0});L.success?(d({count:L.imported_count,totalSales:L.total_item_sales,totalNet:L.total_net_sales,batchId:L.batch_id||""}),t("success")):a(L.message)}catch(L){a(L instanceof Error?L.message:"Import failed")}finally{r(!1)}}},Y=()=>{t("upload"),u(null),h({}),f(new Set),j(""),d(null),a(null)};return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"eBay Sales Import"}),n.jsx("p",{className:"text-gray-600",children:"Upload your eBay Listings & Sales Report to import sales data"})]}),n.jsx("div",{className:"flex items-center gap-4 mb-6",children:[{key:"upload",label:"1. Upload"},{key:"preview",label:"2. Review"},{key:"success",label:"3. Done"}].map((L,P)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${e===L.key?"bg-blue-600 text-white":P<["upload","preview","success"].indexOf(e)?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:P<["upload","preview","success"].indexOf(e)?n.jsx(tt,{size:16}):P+1}),n.jsx("span",{className:`ml-2 font-medium ${e===L.key?"text-blue-600":"text-gray-600"}`,children:L.label}),P<2&&n.jsx("div",{className:"w-12 h-0.5 mx-3 bg-gray-200"})]},L.key))}),l&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[n.jsx(gy,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-900",children:"Error"}),n.jsx("p",{className:"text-red-700",children:l})]}),n.jsx("button",{onClick:()=>a(null),className:"ml-auto text-red-600 hover:text-red-800",children:n.jsx(Be,{size:20})})]}),e==="upload"&&n.jsx("div",{className:`border-2 border-dashed rounded-xl p-12 text-center transition-colors ${i?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50 hover:border-gray-400"}`,onDragEnter:k,onDragLeave:k,onDragOver:k,onDrop:I,children:s?n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Parsing file..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ea,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop your eBay CSV here"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"or click to browse"}),n.jsxs("label",{className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 cursor-pointer transition-colors",children:[n.jsx(Yc,{size:20}),"Select File",n.jsx("input",{type:"file",accept:".csv",onChange:E,className:"hidden"})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-4",children:'Supports eBay "Listings & Sales Report" CSV format'})]})}),e==="preview"&&o&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Report Period"}),n.jsxs("p",{className:"text-gray-600",children:[Ud(o.report_start_date),"  ",Ud(o.report_end_date)]})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.total_rows}),n.jsx("p",{className:"text-sm text-gray-500",children:"Listings"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.total_quantity}),n.jsx("p",{className:"text-sm text-gray-500",children:"Items Sold"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ge(o.total_item_sales)}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Sales"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:ge(o.total_net_sales)}),n.jsx("p",{className:"text-sm text-gray-500",children:"Net Revenue"})]})]})]}),o.warnings.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Warnings:"}),n.jsx("ul",{className:"text-sm text-yellow-700 list-disc list-inside",children:o.warnings.map((L,P)=>n.jsx("li",{children:L},P))})]})]}),n.jsx("div",{className:"bg-white border rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:N?q:M,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-100 rounded hover:bg-gray-200",children:N?n.jsxs(n.Fragment,{children:[n.jsx(Py,{size:16}),"Deselect All"]}):C?n.jsxs(n.Fragment,{children:[n.jsx(qs,{size:16}),"Select All"]}):n.jsxs(n.Fragment,{children:[n.jsx(qs,{size:16}),"Select All"]})}),n.jsxs("span",{className:"text-sm text-gray-600",children:[v.count," of ",o.listings.length," selected"]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[n.jsx(_e,{size:16}),n.jsxs("span",{children:[v.quantity," items"]})]}),n.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[n.jsx(fr,{size:16}),n.jsxs("span",{children:[ge(v.itemSales)," sales"]})]}),n.jsxs("div",{className:"flex items-center gap-1 text-green-600 font-medium",children:[n.jsx(bs,{size:16}),n.jsxs("span",{children:[ge(v.netSales)," net"]})]})]})]})}),n.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Listings"}),n.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:o.listings.map((L,P)=>n.jsx(Ej,{listing:L,isSelected:m[P]!==!1,isExpanded:p.has(P),onToggleSelect:()=>S(P),onToggleExpand:()=>g(P)},L.row_index))})]}),n.jsx("div",{className:"bg-white border rounded-lg p-4",children:n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Import Notes (optional)"}),n.jsx("textarea",{value:b,onChange:L=>j(L.target.value),placeholder:"Add any notes about this import...",className:"mt-2 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:2})]})}),n.jsxs("div",{className:"flex items-center justify-between bg-white border rounded-lg p-4",children:[n.jsx("button",{onClick:Y,className:"px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:" Start Over"}),n.jsx("button",{onClick:U,disabled:s||v.count===0,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tt,{size:18}),"Import ",v.count," Listings"]})})]})]}),e==="success"&&w&&n.jsxs("div",{className:"bg-white border rounded-lg p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(tt,{className:"text-green-600",size:32})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Import Successful!"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Your eBay sales data has been imported to the database."}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 max-w-md mx-auto mb-8",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:w.count}),n.jsx("p",{className:"text-sm text-gray-500",children:"Listings"})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:ge(w.totalSales)}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Sales"})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-green-600",children:ge(w.totalNet)}),n.jsx("p",{className:"text-sm text-gray-500",children:"Net Revenue"})]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx("button",{onClick:Y,className:"px-6 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors",children:"Import Another"}),n.jsx("a",{href:"/sales",className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"View Sales "})]})]})]})}function Tj(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function zj({isOpen:e,onClose:t,item:s,categories:r}){const l=nt(),a=!!s,i=r.find(d=>d.slug==="memorabilia"),c=r.find(d=>d.slug==="collectibles"),[o,u]=y.useState({category_id:(s==null?void 0:s.category_id)||(i==null?void 0:i.id)||"",title:(s==null?void 0:s.title)||"",description:(s==null?void 0:s.description)||"",sport:(s==null?void 0:s.sport)||"Baseball",brand:(s==null?void 0:s.brand)||"",year:(s==null?void 0:s.year)||new Date().getFullYear(),player_name:(s==null?void 0:s.player_name)||"",team:(s==null?void 0:s.team)||"",is_authenticated:(s==null?void 0:s.is_authenticated)||!1,authenticator:(s==null?void 0:s.authenticator)||"",cert_number:(s==null?void 0:s.cert_number)||"",item_type:(s==null?void 0:s.item_type)||"",size:(s==null?void 0:s.size)||"",color:(s==null?void 0:s.color)||"",material:(s==null?void 0:s.material)||"",condition:(s==null?void 0:s.condition)||"Excellent",condition_notes:(s==null?void 0:s.condition_notes)||"",notes:(s==null?void 0:s.notes)||""}),[m,h]=y.useState(null),p=be({mutationFn:d=>W.standaloneItems.createStandaloneItem(d),onSuccess:()=>{l.invalidateQueries({queryKey:["standaloneItems"]}),t()},onError:d=>h(d.message)}),f=be({mutationFn:d=>W.standaloneItems.updateStandaloneItem(s.id,d),onSuccess:()=>{l.invalidateQueries({queryKey:["standaloneItems"]}),t()},onError:d=>h(d.message)}),b=d=>{if(d.preventDefault(),h(null),!o.title.trim()){h("Title is required");return}a?f.mutate(o):p.mutate(o)},j=r.find(d=>d.id===o.category_id),w=(j==null?void 0:j.slug)==="memorabilia"?Yb:Jb;return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(_e,{className:"text-purple-600",size:20})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Item":"Add New Item"})]}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(Be,{size:20})})]}),n.jsxs("form",{onSubmit:b,className:"flex-1 overflow-y-auto",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[m&&n.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:m}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),n.jsxs("select",{value:o.category_id,onChange:d=>u({...o,category_id:d.target.value,item_type:""}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0,children:[n.jsx("option",{value:"",children:"Select category..."}),i&&n.jsx("option",{value:i.id,children:"Memorabilia"}),c&&n.jsx("option",{value:c.id,children:"Collectibles"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sport *"}),n.jsx("select",{value:o.sport,onChange:d=>u({...o,sport:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0,children:Gp.map(d=>n.jsx("option",{value:d,children:d},d))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),n.jsx("input",{type:"text",value:o.title,onChange:d=>u({...o,title:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Derek Jeter Signed Official MLB Baseball",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Type"}),n.jsxs("select",{value:o.item_type||"",onChange:d=>u({...o,item_type:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"",children:"Select type..."}),w.map(d=>n.jsx("option",{value:d,children:d},d))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),n.jsx("input",{type:"number",value:o.year||"",onChange:d=>u({...o,year:d.target.value?parseInt(d.target.value):void 0}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",min:1900,max:2100})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Player/Person Name"}),n.jsx("input",{type:"text",value:o.player_name||"",onChange:d=>u({...o,player_name:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Derek Jeter"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),n.jsx("input",{type:"text",value:o.team||"",onChange:d=>u({...o,team:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., New York Yankees"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand/Manufacturer"}),n.jsx("input",{type:"text",value:o.brand||"",onChange:d=>u({...o,brand:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Rawlings, Fanatics, Action Racing"})]}),n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Lt,{size:18,className:"text-green-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Authentication"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:o.is_authenticated,onChange:d=>u({...o,is_authenticated:d.target.checked}),className:"w-4 h-4 text-purple-600 rounded focus:ring-purple-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:"This item is authenticated"})]}),o.is_authenticated&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Authenticator"}),n.jsxs("select",{value:o.authenticator||"",onChange:d=>u({...o,authenticator:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"",children:"Select..."}),Gb.map(d=>n.jsx("option",{value:d,children:d},d))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate #"}),n.jsx("input",{type:"text",value:o.cert_number||"",onChange:d=>u({...o,cert_number:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),n.jsx("input",{type:"text",value:o.size||"",onChange:d=>u({...o,size:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., XL, 8x10, 1/64"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),n.jsx("input",{type:"text",value:o.color||"",onChange:d=>u({...o,color:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., White, Navy Blue"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material"}),n.jsx("input",{type:"text",value:o.material||"",onChange:d=>u({...o,material:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Leather, Canvas"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),n.jsx("select",{value:o.condition,onChange:d=>u({...o,condition:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:Xb.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition Notes"}),n.jsx("input",{type:"text",value:o.condition_notes||"",onChange:d=>u({...o,condition_notes:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Any flaws or special notes..."})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:o.description||"",onChange:d=>u({...o,description:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:2,placeholder:"Additional details about the item..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:o.notes||"",onChange:d=>u({...o,notes:d.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:2,placeholder:"Internal notes..."})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t bg-gray-50",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:p.isPending||f.isPending,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:p.isPending||f.isPending?"Saving...":a?"Save Changes":"Add Item"})]})]})]})}):null}function Fj({item:e,onEdit:t,onDelete:s}){var r;return n.jsx("div",{className:"bg-white rounded-lg border shadow-sm hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e.title}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:((r=e.category)==null?void 0:r.name)||"Unknown"}),n.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:e.sport}),e.is_authenticated&&n.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded flex items-center gap-1",children:[n.jsx(Lt,{size:10}),e.authenticator||"Authenticated"]})]})]}),n.jsxs("div",{className:"flex gap-1 ml-2",children:[n.jsx("button",{onClick:t,className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",children:n.jsx(ei,{size:16})}),n.jsx("button",{onClick:s,className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:n.jsx(an,{size:16})})]})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[e.player_name&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Player:"})," ",n.jsx("span",{className:"text-gray-900",children:e.player_name})]}),e.team&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Team:"})," ",n.jsx("span",{className:"text-gray-900",children:e.team})]}),e.item_type&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Type:"})," ",n.jsx("span",{className:"text-gray-900",children:e.item_type})]}),e.year&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Year:"})," ",n.jsx("span",{className:"text-gray-900",children:e.year})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Condition:"})," ",n.jsx("span",{className:"text-gray-900",children:e.condition})]})]}),n.jsxs("div",{className:"mt-3 text-xs text-gray-400",children:["Added ",Tj(e.created_at)]})]})})}function Mj(){var k,I;const e=nt(),[t,s]=y.useState(!1),[r,l]=y.useState(null),[a,i]=y.useState(!1),[c,o]=y.useState(""),[u,m]=y.useState(""),[h,p]=y.useState(""),{data:f}=H({queryKey:["itemCategories"],queryFn:()=>W.standaloneItems.getItemCategories()}),{data:b,isLoading:j}=H({queryKey:["standaloneItems",c,u,h],queryFn:()=>W.standaloneItems.getStandaloneItems({category_id:c||void 0,sport:u||void 0,search:h||void 0,limit:100})}),{data:w}=H({queryKey:["standaloneItemStats"],queryFn:()=>W.standaloneItems.getStandaloneItemStats()}),d=be({mutationFn:E=>W.standaloneItems.deleteStandaloneItem(E),onSuccess:()=>{e.invalidateQueries({queryKey:["standaloneItems"]}),e.invalidateQueries({queryKey:["standaloneItemStats"]})}}),x=E=>{confirm(`Delete "${E.title}"?`)&&d.mutate(E.id)},v=E=>{l(E),s(!0)},N=()=>{s(!1),l(null)},C=(f==null?void 0:f.filter(E=>E.slug!=="cards"))||[];return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Memorabilia & Collectibles"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage non-card inventory items"})]}),n.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[n.jsx(xe,{size:18}),"Add Item"]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Items"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(w==null?void 0:w.total)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Memorabilia"}),n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((k=w==null?void 0:w.by_category)==null?void 0:k.Memorabilia)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Collectibles"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((I=w==null?void 0:w.by_category)==null?void 0:I.Collectibles)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Authenticated"}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:(w==null?void 0:w.authenticated)||0})]})]}),n.jsx("div",{className:"bg-white rounded-lg border p-4 mb-6",children:n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsx("div",{className:"flex-1 min-w-[200px] max-w-md",children:n.jsxs("div",{className:"relative",children:[n.jsx(sn,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search items...",value:h,onChange:E=>p(E.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})}),n.jsxs("select",{value:c,onChange:E=>o(E.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"",children:"All Categories"}),C.map(E=>n.jsx("option",{value:E.id,children:E.name},E.id))]}),n.jsxs("select",{value:u,onChange:E=>m(E.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"",children:"All Sports"}),Gp.map(E=>n.jsx("option",{value:E,children:E},E))]}),(c||u||h)&&n.jsx("button",{onClick:()=>{o(""),m(""),p("")},className:"px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Clear Filters"})]})}),j?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading items..."}):(b==null?void 0:b.length)===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(_e,{className:"mx-auto h-12 w-12 text-gray-300"}),n.jsx("p",{className:"mt-4 text-gray-500",children:"No items found"}),n.jsx("button",{onClick:()=>s(!0),className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Add Your First Item"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b==null?void 0:b.map(E=>n.jsx(Fj,{item:E,onEdit:()=>v(E),onDelete:()=>x(E)},E.id))}),n.jsx(zj,{isOpen:t,onClose:N,item:r,categories:C})]})}function Oj({isOpen:e,onClose:t,submitter:s}){const r=nt(),l=!!s,[a,i]=y.useState({name:"",code:"",website:"",contact_email:"",contact_phone:"",offers_grading:!0,offers_authentication:!0,is_active:!0,is_default:!1,notes:""}),[c,o]=y.useState(null);y.useEffect(()=>{e&&(i(s?{name:s.name,code:s.code||"",website:s.website||"",contact_email:s.contact_email||"",contact_phone:s.contact_phone||"",offers_grading:s.offers_grading,offers_authentication:s.offers_authentication,is_active:s.is_active,is_default:s.is_default,notes:s.notes||""}:{name:"",code:"",website:"",contact_email:"",contact_phone:"",offers_grading:!0,offers_authentication:!0,is_active:!0,is_default:!1,notes:""}),o(null))},[e,s]);const u=be({mutationFn:f=>os.createSubmitter(f),onSuccess:()=>{r.invalidateQueries({queryKey:["submitters"]}),t()},onError:f=>o(f.message)}),m=be({mutationFn:f=>os.updateSubmitter(s.id,f),onSuccess:()=>{r.invalidateQueries({queryKey:["submitters"]}),t()},onError:f=>o(f.message)}),h=u.isPending||m.isPending,p=()=>{if(!a.name.trim()){o("Name is required");return}l?m.mutate(a):u.mutate(a)};return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:n.jsx(Hc,{className:"text-indigo-600",size:20})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l?"Edit Submitter":"Add Submitter"})]}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(Be,{size:20})})]}),n.jsxs("form",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[c&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[n.jsx(ys,{size:18}),n.jsx("span",{children:c})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",value:a.name,onChange:f=>i({...a,name:f.target.value}),placeholder:"e.g., PWCC, MySlabs, KK Sports",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Code"}),n.jsx("input",{type:"text",value:a.code||"",onChange:f=>i({...a,code:f.target.value}),placeholder:"e.g., PWCC, MSL",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),n.jsx("input",{type:"url",value:a.website||"",onChange:f=>i({...a,website:f.target.value}),placeholder:"https://...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),n.jsx("input",{type:"email",value:a.contact_email||"",onChange:f=>i({...a,contact_email:f.target.value}),placeholder:"contact@example.com",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),n.jsx("input",{type:"tel",value:a.contact_phone||"",onChange:f=>i({...a,contact_phone:f.target.value}),placeholder:"(555) 123-4567",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"checkbox",checked:a.offers_grading,onChange:f=>i({...a,offers_grading:f.target.checked}),className:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{size:18,className:"text-blue-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Grading"})]})]}),n.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"checkbox",checked:a.offers_authentication,onChange:f=>i({...a,offers_authentication:f.target.checked}),className:"w-5 h-5 rounded text-green-600 focus:ring-green-500"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Lt,{size:18,className:"text-green-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Authentication"})]})]})]}),n.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"checkbox",checked:a.is_active,onChange:f=>i({...a,is_active:f.target.checked}),className:"w-5 h-5 rounded text-indigo-600 focus:ring-indigo-500"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Active"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Inactive submitters won't appear in dropdowns"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:a.notes||"",onChange:f=>i({...a,notes:f.target.value}),placeholder:"Any additional notes...",rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),n.jsx("button",{onClick:p,disabled:h,className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:h?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tt,{size:18}),l?"Save Changes":"Add Submitter"]})})]})]})}):null}function Rj({submitter:e,onEdit:t,onDelete:s,onSetDefault:r}){return n.jsxs("div",{className:`bg-white rounded-lg border shadow-sm p-4 ${e.is_active?"":"opacity-60"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),e.is_default&&n.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-amber-100 text-amber-700 text-xs rounded-full",children:[n.jsx(Qo,{size:12,fill:"currentColor"}),"Default"]}),!e.is_active&&n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:"Inactive"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[!e.is_default&&e.is_active&&n.jsx("button",{onClick:r,className:"p-1.5 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded",title:"Set as default",children:n.jsx(Qo,{size:16})}),n.jsx("button",{onClick:t,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",title:"Edit",children:n.jsx(Iy,{size:16})}),!e.is_default&&n.jsx("button",{onClick:s,className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:n.jsx(an,{size:16})})]})]}),e.code&&n.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Code: ",e.code]}),n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.offers_grading&&n.jsxs("span",{className:"flex items-center gap-1 text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:[n.jsx(vs,{size:12}),"Grading"]}),e.offers_authentication&&n.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600 bg-green-50 px-2 py-1 rounded",children:[n.jsx(Lt,{size:12}),"Authentication"]})]}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.website&&n.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-indigo-600",children:[n.jsx(Dp,{size:14}),e.website.replace(/^https?:\/\//,"")]}),e.contact_email&&n.jsxs("a",{href:`mailto:${e.contact_email}`,className:"flex items-center gap-2 hover:text-indigo-600",children:[n.jsx(Ap,{size:14}),e.contact_email]}),e.contact_phone&&n.jsxs("a",{href:`tel:${e.contact_phone}`,className:"flex items-center gap-2 hover:text-indigo-600",children:[n.jsx($p,{size:14}),e.contact_phone]})]})]})}function Lj(){const e=nt(),[t,s]=y.useState(!1),[r,l]=y.useState(null),[a,i]=y.useState(!1),{data:c,isLoading:o}=H({queryKey:["submitters",a],queryFn:()=>os.getSubmitters({active_only:!a})}),u=be({mutationFn:d=>os.deleteSubmitter(d),onSuccess:()=>e.invalidateQueries({queryKey:["submitters"]})}),m=be({mutationFn:d=>os.setDefaultSubmitter(d),onSuccess:()=>e.invalidateQueries({queryKey:["submitters"]})}),h=d=>{l(d),s(!0)},p=d=>{window.confirm(`Delete "${d.name}"? This cannot be undone.`)&&u.mutate(d.id)},f=d=>{m.mutate(d.id)},b=()=>{s(!1),l(null)},j=(c==null?void 0:c.filter(d=>d.is_active).length)||0,w=(c==null?void 0:c.length)||0;return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Submitters"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage third-party grading and authentication services"})]}),n.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(xe,{size:18}),"Add Submitter"]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Active Submitters"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:j})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Grading Services"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(c==null?void 0:c.filter(d=>d.offers_grading&&d.is_active).length)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Auth Services"}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:(c==null?void 0:c.filter(d=>d.offers_authentication&&d.is_active).length)||0})]})]}),n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a,onChange:d=>i(d.target.checked),className:"w-4 h-4 rounded text-indigo-600 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Show inactive submitters"})]}),a&&w>j&&n.jsxs("span",{className:"text-sm text-gray-500",children:["(",w-j," inactive)"]})]}),o?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):(c==null?void 0:c.length)===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[n.jsx(Hc,{className:"mx-auto text-gray-400 mb-3",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No submitters yet"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Add your first third-party submission service"}),n.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[n.jsx(xe,{size:18}),"Add Submitter"]})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c==null?void 0:c.map(d=>n.jsx(Rj,{submitter:d,onEdit:()=>h(d),onDelete:()=>p(d),onSetDefault:()=>f(d)},d.id))}),n.jsx(Oj,{isOpen:t,onClose:b,submitter:r})]})}const Dj=new ny({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}}),Aj=[{to:"/",icon:Sy,label:"Dashboard"},{to:"/product-lines",icon:_e,label:"Product Lines"},{to:"/checklists",icon:Ea,label:"Checklists"},{to:"/upload",icon:Yc,label:"Upload Checklist"},{to:"/inventory",icon:Op,label:"Inventory"},{to:"/memorabilia",icon:ti,label:"Memorabilia"},{to:"/consigners",icon:ni,label:"Consigners"},{to:"/consignments",icon:qp,label:"Consignments"},{to:"/grading",icon:vs,label:"Card Grading"},{to:"/authentication",icon:zy,label:"Authentication"},{to:"/submitters",icon:Hc,label:"Submitters"},{to:"/purchases",icon:Gc,label:"Purchases"},{to:"/sales",icon:fr,label:"Sales"},{to:"/sales/ebay-import",icon:Bp,label:"eBay Import"}];function He({children:e}){return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("aside",{className:"fixed inset-y-0 left-0 w-64 bg-slate-900 text-white flex flex-col",children:[n.jsxs("div",{className:"p-6",children:[n.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("span",{className:"text-2xl",children:""}),"Card Inventory"]}),n.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Management System"})]}),n.jsx("nav",{className:"mt-6 flex-1 overflow-y-auto",children:Aj.map(t=>n.jsxs(Ig,{to:t.to,className:({isActive:s})=>`flex items-center gap-3 px-6 py-3 text-sm transition-colors ${s?"bg-slate-800 text-white border-r-2 border-blue-500":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[n.jsx(t.icon,{size:18}),t.label]},t.to))}),n.jsx("div",{className:"border-t border-slate-800 p-4",children:n.jsx($y,{})})]}),n.jsx("main",{className:"ml-64 min-h-screen",children:e})]})}function $j(){return n.jsx(sy,{client:Dj,children:n.jsx(Dy,{children:n.jsx(kg,{children:n.jsxs(yg,{children:[n.jsx(Oe,{path:"/login",element:n.jsx(qy,{})}),n.jsx(Oe,{path:"/",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(Tb,{})})})}),n.jsx(Oe,{path:"/product-lines",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(zb,{})})})}),n.jsx(Oe,{path:"/checklists",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(Mb,{})})})}),n.jsx(Oe,{path:"/upload",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(Wb,{})})})}),n.jsx(Oe,{path:"/inventory",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(Rb,{})})})}),n.jsx(Oe,{path:"/memorabilia",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(Mj,{})})})}),n.jsx(Oe,{path:"/consigners",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(sj,{})})})}),n.jsx(Oe,{path:"/consignments",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(cj,{})})})}),n.jsx(Oe,{path:"/grading",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(wj,{})})})}),n.jsx(Oe,{path:"/authentication",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(Pj,{})})})}),n.jsx(Oe,{path:"/submitters",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(Lj,{})})})}),n.jsx(Oe,{path:"/purchases",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(Ub,{})})})}),n.jsx(Oe,{path:"/sales",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(Hb,{})})})}),n.jsx(Oe,{path:"/sales/ebay-import",element:n.jsx(Ve,{children:n.jsx(He,{children:n.jsx(Ij,{})})})})]})})})})}zi.createRoot(document.getElementById("root")).render(n.jsx(uh.StrictMode,{children:n.jsx($j,{})}));
