var Yc=e=>{throw TypeError(e)};var ei=(e,t,s)=>t.has(e)||Yc("Cannot "+s);var b=(e,t,s)=>(ei(e,t,"read from private field"),s?s.call(e):t.get(e)),U=(e,t,s)=>t.has(e)?Yc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),D=(e,t,s,r)=>(ei(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),V=(e,t,s)=>(ei(e,t,"access private method"),s);var yl=(e,t,s,r)=>({set _(l){D(e,t,l,s)},get _(){return b(e,t,r)}});function Gp(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(r,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=s(l);fetch(l.href,a)}})();function Yp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jd={exports:{}},Ta={},Xd={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=Symbol.for("react.element"),Jp=Symbol.for("react.portal"),Xp=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),tf=Symbol.for("react.provider"),nf=Symbol.for("react.context"),sf=Symbol.for("react.forward_ref"),rf=Symbol.for("react.suspense"),lf=Symbol.for("react.memo"),af=Symbol.for("react.lazy"),Jc=Symbol.iterator;function of(e){return e===null||typeof e!="object"?null:(e=Jc&&e[Jc]||e["@@iterator"],typeof e=="function"?e:null)}var Zd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eh=Object.assign,th={};function ar(e,t,s){this.props=e,this.context=t,this.refs=th,this.updater=s||Zd}ar.prototype.isReactComponent={};ar.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ar.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nh(){}nh.prototype=ar.prototype;function qo(e,t,s){this.props=e,this.context=t,this.refs=th,this.updater=s||Zd}var Bo=qo.prototype=new nh;Bo.constructor=qo;eh(Bo,ar.prototype);Bo.isPureReactComponent=!0;var Xc=Array.isArray,sh=Object.prototype.hasOwnProperty,Qo={current:null},rh={key:!0,ref:!0,__self:!0,__source:!0};function lh(e,t,s){var r,l={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)sh.call(t,r)&&!rh.hasOwnProperty(r)&&(l[r]=t[r]);var u=arguments.length-2;if(u===1)l.children=s;else if(1<u){for(var o=Array(u),c=0;c<u;c++)o[c]=arguments[c+2];l.children=o}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)l[r]===void 0&&(l[r]=u[r]);return{$$typeof:hl,type:e,key:a,ref:i,props:l,_owner:Qo.current}}function cf(e,t){return{$$typeof:hl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ko(e){return typeof e=="object"&&e!==null&&e.$$typeof===hl}function uf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Zc=/\/+/g;function ti(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uf(""+e.key):t.toString(36)}function $l(e,t,s,r,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case hl:case Jp:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+ti(i,0):r,Xc(l)?(s="",e!=null&&(s=e.replace(Zc,"$&/")+"/"),$l(l,t,s,"",function(c){return c})):l!=null&&(Ko(l)&&(l=cf(l,s+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Zc,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",Xc(e))for(var u=0;u<e.length;u++){a=e[u];var o=r+ti(a,u);i+=$l(a,t,s,o,l)}else if(o=of(e),typeof o=="function")for(e=o.call(e),u=0;!(a=e.next()).done;)a=a.value,o=r+ti(a,u++),i+=$l(a,t,s,o,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function vl(e,t,s){if(e==null)return e;var r=[],l=0;return $l(e,r,"","",function(a){return t.call(s,a,l++)}),r}function df(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qe={current:null},Ul={transition:null},hf={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:Ul,ReactCurrentOwner:Qo};function ah(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:vl,forEach:function(e,t,s){vl(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return vl(e,function(){t++}),t},toArray:function(e){return vl(e,function(t){return t})||[]},only:function(e){if(!Ko(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=ar;G.Fragment=Xp;G.Profiler=ef;G.PureComponent=qo;G.StrictMode=Zp;G.Suspense=rf;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hf;G.act=ah;G.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=eh({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Qo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(o in t)sh.call(t,o)&&!rh.hasOwnProperty(o)&&(r[o]=t[o]===void 0&&u!==void 0?u[o]:t[o])}var o=arguments.length-2;if(o===1)r.children=s;else if(1<o){u=Array(o);for(var c=0;c<o;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:hl,type:e.type,key:l,ref:a,props:r,_owner:i}};G.createContext=function(e){return e={$$typeof:nf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tf,_context:e},e.Consumer=e};G.createElement=lh;G.createFactory=function(e){var t=lh.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:sf,render:e}};G.isValidElement=Ko;G.lazy=function(e){return{$$typeof:af,_payload:{_status:-1,_result:e},_init:df}};G.memo=function(e,t){return{$$typeof:lf,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Ul.transition;Ul.transition={};try{e()}finally{Ul.transition=t}};G.unstable_act=ah;G.useCallback=function(e,t){return qe.current.useCallback(e,t)};G.useContext=function(e){return qe.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return qe.current.useDeferredValue(e)};G.useEffect=function(e,t){return qe.current.useEffect(e,t)};G.useId=function(){return qe.current.useId()};G.useImperativeHandle=function(e,t,s){return qe.current.useImperativeHandle(e,t,s)};G.useInsertionEffect=function(e,t){return qe.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return qe.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return qe.current.useMemo(e,t)};G.useReducer=function(e,t,s){return qe.current.useReducer(e,t,s)};G.useRef=function(e){return qe.current.useRef(e)};G.useState=function(e){return qe.current.useState(e)};G.useSyncExternalStore=function(e,t,s){return qe.current.useSyncExternalStore(e,t,s)};G.useTransition=function(){return qe.current.useTransition()};G.version="18.3.1";Xd.exports=G;var y=Xd.exports;const ih=Yp(y),mf=Gp({__proto__:null,default:ih},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=y,ff=Symbol.for("react.element"),xf=Symbol.for("react.fragment"),gf=Object.prototype.hasOwnProperty,yf=pf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vf={key:!0,ref:!0,__self:!0,__source:!0};function oh(e,t,s){var r,l={},a=null,i=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)gf.call(t,r)&&!vf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:ff,type:e,key:a,ref:i,props:l,_owner:yf.current}}Ta.Fragment=xf;Ta.jsx=oh;Ta.jsxs=oh;Jd.exports=Ta;var n=Jd.exports,Pi={},ch={exports:{}},it={},uh={exports:{}},dh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,T){var L=O.length;O.push(T);e:for(;0<L;){var Q=L-1>>>1,X=O[Q];if(0<l(X,T))O[Q]=T,O[L]=X,L=Q;else break e}}function s(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var T=O[0],L=O.pop();if(L!==T){O[0]=L;e:for(var Q=0,X=O.length,ye=X>>>1;Q<ye;){var nt=2*(Q+1)-1,re=O[nt],yt=nt+1,Pt=O[yt];if(0>l(re,L))yt<X&&0>l(Pt,re)?(O[Q]=Pt,O[yt]=L,Q=yt):(O[Q]=re,O[nt]=L,Q=nt);else if(yt<X&&0>l(Pt,L))O[Q]=Pt,O[yt]=L,Q=yt;else break e}}return T}function l(O,T){var L=O.sortIndex-T.sortIndex;return L!==0?L:O.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,u=i.now();e.unstable_now=function(){return i.now()-u}}var o=[],c=[],p=1,d=null,m=3,f=!1,v=!1,N=!1,w=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var T=s(c);T!==null;){if(T.callback===null)r(c);else if(T.startTime<=O)r(c),T.sortIndex=T.expirationTime,t(o,T);else break;T=s(c)}}function j(O){if(N=!1,g(O),!v)if(s(o)!==null)v=!0,A(P);else{var T=s(c);T!==null&&R(j,T.startTime-O)}}function P(O,T){v=!1,N&&(N=!1,h(S),S=-1),f=!0;var L=m;try{for(g(T),d=s(o);d!==null&&(!(d.expirationTime>T)||O&&!_());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,m=d.priorityLevel;var X=Q(d.expirationTime<=T);T=e.unstable_now(),typeof X=="function"?d.callback=X:d===s(o)&&r(o),g(T)}else r(o);d=s(o)}if(d!==null)var ye=!0;else{var nt=s(c);nt!==null&&R(j,nt.startTime-T),ye=!1}return ye}finally{d=null,m=L,f=!1}}var k=!1,I=null,S=-1,E=5,C=-1;function _(){return!(e.unstable_now()-C<E)}function M(){if(I!==null){var O=e.unstable_now();C=O;var T=!0;try{T=I(!0,O)}finally{T?q():(k=!1,I=null)}}else k=!1}var q;if(typeof x=="function")q=function(){x(M)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Re=K.port2;K.port1.onmessage=M,q=function(){Re.postMessage(null)}}else q=function(){w(M,0)};function A(O){I=O,k||(k=!0,q())}function R(O,T){S=w(function(){O(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,A(P))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(o)},e.unstable_next=function(O){switch(m){case 1:case 2:case 3:var T=3;break;default:T=m}var L=m;m=T;try{return O()}finally{m=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,T){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var L=m;m=O;try{return T()}finally{m=L}},e.unstable_scheduleCallback=function(O,T,L){var Q=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Q+L:Q):L=Q,O){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=L+X,O={id:p++,callback:T,priorityLevel:O,startTime:L,expirationTime:X,sortIndex:-1},L>Q?(O.sortIndex=L,t(c,O),s(o)===null&&O===s(c)&&(N?(h(S),S=-1):N=!0,R(j,L-Q))):(O.sortIndex=X,t(o,O),v||f||(v=!0,A(P))),O},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(O){var T=m;return function(){var L=m;m=T;try{return O.apply(this,arguments)}finally{m=L}}}})(dh);uh.exports=dh;var jf=uh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf=y,at=jf;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hh=new Set,Ar={};function ps(e,t){Xs(e,t),Xs(e+"Capture",t)}function Xs(e,t){for(Ar[e]=t,e=0;e<t.length;e++)hh.add(t[e])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ei=Object.prototype.hasOwnProperty,Nf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eu={},tu={};function wf(e){return Ei.call(tu,e)?!0:Ei.call(eu,e)?!1:Nf.test(e)?tu[e]=!0:(eu[e]=!0,!1)}function _f(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sf(e,t,s,r){if(t===null||typeof t>"u"||_f(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,s,r,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vo=/[\-:]([a-z])/g;function Ho(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vo,Ho);Ee[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vo,Ho);Ee[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vo,Ho);Ee[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wo(e,t,s,r){var l=Ee.hasOwnProperty(t)?Ee[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sf(t,s,l,r)&&(s=null),r||l===null?wf(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):l.mustUseProperty?e[l.propertyName]=s===null?l.type===3?!1:"":s:(t=l.attributeName,r=l.attributeNamespace,s===null?e.removeAttribute(t):(l=l.type,s=l===3||l===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var nn=bf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jl=Symbol.for("react.element"),js=Symbol.for("react.portal"),bs=Symbol.for("react.fragment"),Go=Symbol.for("react.strict_mode"),Ii=Symbol.for("react.profiler"),mh=Symbol.for("react.provider"),ph=Symbol.for("react.context"),Yo=Symbol.for("react.forward_ref"),Ti=Symbol.for("react.suspense"),zi=Symbol.for("react.suspense_list"),Jo=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),fh=Symbol.for("react.offscreen"),nu=Symbol.iterator;function fr(e){return e===null||typeof e!="object"?null:(e=nu&&e[nu]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,ni;function wr(e){if(ni===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);ni=t&&t[1]||""}return`
`+ni+e}var si=!1;function ri(e,t){if(!e||si)return"";si=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),a=r.stack.split(`
`),i=l.length-1,u=a.length-1;1<=i&&0<=u&&l[i]!==a[u];)u--;for(;1<=i&&0<=u;i--,u--)if(l[i]!==a[u]){if(i!==1||u!==1)do if(i--,u--,0>u||l[i]!==a[u]){var o=`
`+l[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=u);break}}}finally{si=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?wr(e):""}function Cf(e){switch(e.tag){case 5:return wr(e.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 2:case 15:return e=ri(e.type,!1),e;case 11:return e=ri(e.type.render,!1),e;case 1:return e=ri(e.type,!0),e;default:return""}}function Fi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bs:return"Fragment";case js:return"Portal";case Ii:return"Profiler";case Go:return"StrictMode";case Ti:return"Suspense";case zi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ph:return(e.displayName||"Context")+".Consumer";case mh:return(e._context.displayName||"Context")+".Provider";case Yo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jo:return t=e.displayName||null,t!==null?t:Fi(e.type)||"Memo";case on:t=e._payload,e=e._init;try{return Fi(e(t))}catch{}}return null}function kf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fi(t);case 8:return t===Go?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pf(e){var t=xh(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bl(e){e._valueTracker||(e._valueTracker=Pf(e))}function gh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=xh(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mi(e,t){var s=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function su(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=Mn(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yh(e,t){t=t.checked,t!=null&&Wo(e,"checked",t,!1)}function Oi(e,t){yh(e,t);var s=Mn(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ri(e,t.type,s):t.hasOwnProperty("defaultValue")&&Ri(e,t.type,Mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ru(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ri(e,t,s){(t!=="number"||ea(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var _r=Array.isArray;function zs(e,t,s,r){if(e=e.options,t){t={};for(var l=0;l<s.length;l++)t["$"+s[l]]=!0;for(s=0;s<e.length;s++)l=t.hasOwnProperty("$"+e[s].value),e[s].selected!==l&&(e[s].selected=l),l&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Mn(s),t=null,l=0;l<e.length;l++){if(e[l].value===s){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Li(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lu(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(F(92));if(_r(s)){if(1<s.length)throw Error(F(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Mn(s)}}function vh(e,t){var s=Mn(t.value),r=Mn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function au(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Di(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nl,bh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nl=Nl||document.createElement("div"),Nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $r(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ef=["Webkit","ms","Moz","O"];Object.keys(Ir).forEach(function(e){Ef.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ir[t]=Ir[e]})});function Nh(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Ir.hasOwnProperty(e)&&Ir[e]?(""+t).trim():t+"px"}function wh(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,l=Nh(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,l):e[s]=l}}var If=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ai(e,t){if(t){if(If[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function $i(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Xo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qi=null,Fs=null,Ms=null;function iu(e){if(e=fl(e)){if(typeof qi!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Ra(t),qi(e.stateNode,e.type,t))}}function _h(e){Fs?Ms?Ms.push(e):Ms=[e]:Fs=e}function Sh(){if(Fs){var e=Fs,t=Ms;if(Ms=Fs=null,iu(e),t)for(e=0;e<t.length;e++)iu(t[e])}}function Ch(e,t){return e(t)}function kh(){}var li=!1;function Ph(e,t,s){if(li)return e(t,s);li=!0;try{return Ch(e,t,s)}finally{li=!1,(Fs!==null||Ms!==null)&&(kh(),Sh())}}function Ur(e,t){var s=e.stateNode;if(s===null)return null;var r=Ra(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(F(231,t,typeof s));return s}var Bi=!1;if(Jt)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Bi=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Bi=!1}function Tf(e,t,s,r,l,a,i,u,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(p){this.onError(p)}}var Tr=!1,ta=null,na=!1,Qi=null,zf={onError:function(e){Tr=!0,ta=e}};function Ff(e,t,s,r,l,a,i,u,o){Tr=!1,ta=null,Tf.apply(zf,arguments)}function Mf(e,t,s,r,l,a,i,u,o){if(Ff.apply(this,arguments),Tr){if(Tr){var c=ta;Tr=!1,ta=null}else throw Error(F(198));na||(na=!0,Qi=c)}}function fs(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Eh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ou(e){if(fs(e)!==e)throw Error(F(188))}function Of(e){var t=e.alternate;if(!t){if(t=fs(e),t===null)throw Error(F(188));return t!==e?null:e}for(var s=e,r=t;;){var l=s.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){s=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===s)return ou(l),e;if(a===r)return ou(l),t;a=a.sibling}throw Error(F(188))}if(s.return!==r.return)s=l,r=a;else{for(var i=!1,u=l.child;u;){if(u===s){i=!0,s=l,r=a;break}if(u===r){i=!0,r=l,s=a;break}u=u.sibling}if(!i){for(u=a.child;u;){if(u===s){i=!0,s=a,r=l;break}if(u===r){i=!0,r=a,s=l;break}u=u.sibling}if(!i)throw Error(F(189))}}if(s.alternate!==r)throw Error(F(190))}if(s.tag!==3)throw Error(F(188));return s.stateNode.current===s?e:t}function Ih(e){return e=Of(e),e!==null?Th(e):null}function Th(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Th(e);if(t!==null)return t;e=e.sibling}return null}var zh=at.unstable_scheduleCallback,cu=at.unstable_cancelCallback,Rf=at.unstable_shouldYield,Lf=at.unstable_requestPaint,he=at.unstable_now,Df=at.unstable_getCurrentPriorityLevel,Zo=at.unstable_ImmediatePriority,Fh=at.unstable_UserBlockingPriority,sa=at.unstable_NormalPriority,Af=at.unstable_LowPriority,Mh=at.unstable_IdlePriority,za=null,Ot=null;function $f(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(za,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Bf,Uf=Math.log,qf=Math.LN2;function Bf(e){return e>>>=0,e===0?32:31-(Uf(e)/qf|0)|0}var wl=64,_l=4194304;function Sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ra(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=s&268435455;if(i!==0){var u=i&~l;u!==0?r=Sr(u):(a&=i,a!==0&&(r=Sr(a)))}else i=s&~l,i!==0?r=Sr(i):a!==0&&(r=Sr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-St(t),l=1<<s,r|=e[s],t&=~l;return r}function Qf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kf(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-St(a),u=1<<i,o=l[i];o===-1?(!(u&s)||u&r)&&(l[i]=Qf(u,t)):o<=t&&(e.expiredLanes|=u),a&=~u}}function Ki(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oh(){var e=wl;return wl<<=1,!(wl&4194240)&&(wl=64),e}function ai(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ml(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=s}function Vf(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var l=31-St(s),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,s&=~a}}function ec(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-St(s),l=1<<r;l&t|e[r]&t&&(e[r]|=t),s&=~l}}var ee=0;function Rh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lh,tc,Dh,Ah,$h,Vi=!1,Sl=[],_n=null,Sn=null,Cn=null,qr=new Map,Br=new Map,un=[],Hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(t.pointerId)}}function gr(e,t,s,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=fl(t),t!==null&&tc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Wf(e,t,s,r,l){switch(t){case"focusin":return _n=gr(_n,e,t,s,r,l),!0;case"dragenter":return Sn=gr(Sn,e,t,s,r,l),!0;case"mouseover":return Cn=gr(Cn,e,t,s,r,l),!0;case"pointerover":var a=l.pointerId;return qr.set(a,gr(qr.get(a)||null,e,t,s,r,l)),!0;case"gotpointercapture":return a=l.pointerId,Br.set(a,gr(Br.get(a)||null,e,t,s,r,l)),!0}return!1}function Uh(e){var t=Kn(e.target);if(t!==null){var s=fs(t);if(s!==null){if(t=s.tag,t===13){if(t=Eh(s),t!==null){e.blockedOn=t,$h(e.priority,function(){Dh(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Hi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Ui=r,s.target.dispatchEvent(r),Ui=null}else return t=fl(s),t!==null&&tc(t),e.blockedOn=s,!1;t.shift()}return!0}function du(e,t,s){ql(e)&&s.delete(t)}function Gf(){Vi=!1,_n!==null&&ql(_n)&&(_n=null),Sn!==null&&ql(Sn)&&(Sn=null),Cn!==null&&ql(Cn)&&(Cn=null),qr.forEach(du),Br.forEach(du)}function yr(e,t){e.blockedOn===t&&(e.blockedOn=null,Vi||(Vi=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Gf)))}function Qr(e){function t(l){return yr(l,e)}if(0<Sl.length){yr(Sl[0],e);for(var s=1;s<Sl.length;s++){var r=Sl[s];r.blockedOn===e&&(r.blockedOn=null)}}for(_n!==null&&yr(_n,e),Sn!==null&&yr(Sn,e),Cn!==null&&yr(Cn,e),qr.forEach(t),Br.forEach(t),s=0;s<un.length;s++)r=un[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(s=un[0],s.blockedOn===null);)Uh(s),s.blockedOn===null&&un.shift()}var Os=nn.ReactCurrentBatchConfig,la=!0;function Yf(e,t,s,r){var l=ee,a=Os.transition;Os.transition=null;try{ee=1,nc(e,t,s,r)}finally{ee=l,Os.transition=a}}function Jf(e,t,s,r){var l=ee,a=Os.transition;Os.transition=null;try{ee=4,nc(e,t,s,r)}finally{ee=l,Os.transition=a}}function nc(e,t,s,r){if(la){var l=Hi(e,t,s,r);if(l===null)xi(e,t,r,aa,s),uu(e,r);else if(Wf(l,e,t,s,r))r.stopPropagation();else if(uu(e,r),t&4&&-1<Hf.indexOf(e)){for(;l!==null;){var a=fl(l);if(a!==null&&Lh(a),a=Hi(e,t,s,r),a===null&&xi(e,t,r,aa,s),a===l)break;l=a}l!==null&&r.stopPropagation()}else xi(e,t,r,null,s)}}var aa=null;function Hi(e,t,s,r){if(aa=null,e=Xo(r),e=Kn(e),e!==null)if(t=fs(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Eh(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return aa=e,null}function qh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Df()){case Zo:return 1;case Fh:return 4;case sa:case Af:return 16;case Mh:return 536870912;default:return 16}default:return 16}}var bn=null,sc=null,Bl=null;function Bh(){if(Bl)return Bl;var e,t=sc,s=t.length,r,l="value"in bn?bn.value:bn.textContent,a=l.length;for(e=0;e<s&&t[e]===l[e];e++);var i=s-e;for(r=1;r<=i&&t[s-r]===l[a-r];r++);return Bl=l.slice(e,1<r?1-r:void 0)}function Ql(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cl(){return!0}function hu(){return!1}function ot(e){function t(s,r,l,a,i){this._reactName=s,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(s=e[u],this[u]=s?s(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cl:hu,this.isPropagationStopped=hu,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),t}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=ot(ir),pl=ce({},ir,{view:0,detail:0}),Xf=ot(pl),ii,oi,vr,Fa=ce({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(ii=e.screenX-vr.screenX,oi=e.screenY-vr.screenY):oi=ii=0,vr=e),ii)},movementY:function(e){return"movementY"in e?e.movementY:oi}}),mu=ot(Fa),Zf=ce({},Fa,{dataTransfer:0}),ex=ot(Zf),tx=ce({},pl,{relatedTarget:0}),ci=ot(tx),nx=ce({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),sx=ot(nx),rx=ce({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lx=ot(rx),ax=ce({},ir,{data:0}),pu=ot(ax),ix={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ux(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cx[e])?!!t[e]:!1}function lc(){return ux}var dx=ce({},pl,{key:function(e){if(e.key){var t=ix[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ql(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ox[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(e){return e.type==="keypress"?Ql(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ql(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hx=ot(dx),mx=ce({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=ot(mx),px=ce({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),fx=ot(px),xx=ce({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),gx=ot(xx),yx=ce({},Fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vx=ot(yx),jx=[9,13,27,32],ac=Jt&&"CompositionEvent"in window,zr=null;Jt&&"documentMode"in document&&(zr=document.documentMode);var bx=Jt&&"TextEvent"in window&&!zr,Qh=Jt&&(!ac||zr&&8<zr&&11>=zr),xu=" ",gu=!1;function Kh(e,t){switch(e){case"keyup":return jx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ns=!1;function Nx(e,t){switch(e){case"compositionend":return Vh(t);case"keypress":return t.which!==32?null:(gu=!0,xu);case"textInput":return e=t.data,e===xu&&gu?null:e;default:return null}}function wx(e,t){if(Ns)return e==="compositionend"||!ac&&Kh(e,t)?(e=Bh(),Bl=sc=bn=null,Ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qh&&t.locale!=="ko"?null:t.data;default:return null}}var _x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_x[e.type]:t==="textarea"}function Hh(e,t,s,r){_h(r),t=ia(t,"onChange"),0<t.length&&(s=new rc("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Fr=null,Kr=null;function Sx(e){rm(e,0)}function Ma(e){var t=Ss(e);if(gh(t))return e}function Cx(e,t){if(e==="change")return t}var Wh=!1;if(Jt){var ui;if(Jt){var di="oninput"in document;if(!di){var vu=document.createElement("div");vu.setAttribute("oninput","return;"),di=typeof vu.oninput=="function"}ui=di}else ui=!1;Wh=ui&&(!document.documentMode||9<document.documentMode)}function ju(){Fr&&(Fr.detachEvent("onpropertychange",Gh),Kr=Fr=null)}function Gh(e){if(e.propertyName==="value"&&Ma(Kr)){var t=[];Hh(t,Kr,e,Xo(e)),Ph(Sx,t)}}function kx(e,t,s){e==="focusin"?(ju(),Fr=t,Kr=s,Fr.attachEvent("onpropertychange",Gh)):e==="focusout"&&ju()}function Px(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ma(Kr)}function Ex(e,t){if(e==="click")return Ma(t)}function Ix(e,t){if(e==="input"||e==="change")return Ma(t)}function Tx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Tx;function Vr(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var l=s[r];if(!Ei.call(t,l)||!kt(e[l],t[l]))return!1}return!0}function bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nu(e,t){var s=bu(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=bu(s)}}function Yh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jh(){for(var e=window,t=ea();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=ea(e.document)}return t}function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zx(e){var t=Jh(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Yh(s.ownerDocument.documentElement,s)){if(r!==null&&ic(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=s.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=Nu(s,a);var i=Nu(s,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fx=Jt&&"documentMode"in document&&11>=document.documentMode,ws=null,Wi=null,Mr=null,Gi=!1;function wu(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Gi||ws==null||ws!==ea(r)||(r=ws,"selectionStart"in r&&ic(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mr&&Vr(Mr,r)||(Mr=r,r=ia(Wi,"onSelect"),0<r.length&&(t=new rc("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=ws)))}function kl(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var _s={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionend:kl("Transition","TransitionEnd")},hi={},Xh={};Jt&&(Xh=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Oa(e){if(hi[e])return hi[e];if(!_s[e])return e;var t=_s[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Xh)return hi[e]=t[s];return e}var Zh=Oa("animationend"),em=Oa("animationiteration"),tm=Oa("animationstart"),nm=Oa("transitionend"),sm=new Map,_u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){sm.set(e,t),ps(t,[e])}for(var mi=0;mi<_u.length;mi++){var pi=_u[mi],Mx=pi.toLowerCase(),Ox=pi[0].toUpperCase()+pi.slice(1);Rn(Mx,"on"+Ox)}Rn(Zh,"onAnimationEnd");Rn(em,"onAnimationIteration");Rn(tm,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(nm,"onTransitionEnd");Xs("onMouseEnter",["mouseout","mouseover"]);Xs("onMouseLeave",["mouseout","mouseover"]);Xs("onPointerEnter",["pointerout","pointerover"]);Xs("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Su(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,Mf(r,t,void 0,e),e.currentTarget=null}function rm(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var u=r[i],o=u.instance,c=u.currentTarget;if(u=u.listener,o!==a&&l.isPropagationStopped())break e;Su(l,u,c),a=o}else for(i=0;i<r.length;i++){if(u=r[i],o=u.instance,c=u.currentTarget,u=u.listener,o!==a&&l.isPropagationStopped())break e;Su(l,u,c),a=o}}}if(na)throw e=Qi,na=!1,Qi=null,e}function ne(e,t){var s=t[eo];s===void 0&&(s=t[eo]=new Set);var r=e+"__bubble";s.has(r)||(lm(t,e,2,!1),s.add(r))}function fi(e,t,s){var r=0;t&&(r|=4),lm(s,e,r,t)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Pl]){e[Pl]=!0,hh.forEach(function(s){s!=="selectionchange"&&(Rx.has(s)||fi(s,!1,e),fi(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pl]||(t[Pl]=!0,fi("selectionchange",!1,t))}}function lm(e,t,s,r){switch(qh(t)){case 1:var l=Yf;break;case 4:l=Jf;break;default:l=nc}s=l.bind(null,t,s,e),l=void 0,!Bi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,s,{capture:!0,passive:l}):e.addEventListener(t,s,!0):l!==void 0?e.addEventListener(t,s,{passive:l}):e.addEventListener(t,s,!1)}function xi(e,t,s,r,l){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var u=r.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;i=i.return}for(;u!==null;){if(i=Kn(u),i===null)return;if(o=i.tag,o===5||o===6){r=a=i;continue e}u=u.parentNode}}r=r.return}Ph(function(){var c=a,p=Xo(s),d=[];e:{var m=sm.get(e);if(m!==void 0){var f=rc,v=e;switch(e){case"keypress":if(Ql(s)===0)break e;case"keydown":case"keyup":f=hx;break;case"focusin":v="focus",f=ci;break;case"focusout":v="blur",f=ci;break;case"beforeblur":case"afterblur":f=ci;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ex;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=fx;break;case Zh:case em:case tm:f=sx;break;case nm:f=gx;break;case"scroll":f=Xf;break;case"wheel":f=vx;break;case"copy":case"cut":case"paste":f=lx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=fu}var N=(t&4)!==0,w=!N&&e==="scroll",h=N?m!==null?m+"Capture":null:m;N=[];for(var x=c,g;x!==null;){g=x;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,h!==null&&(j=Ur(x,h),j!=null&&N.push(Wr(x,j,g)))),w)break;x=x.return}0<N.length&&(m=new f(m,v,null,s,p),d.push({event:m,listeners:N}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&s!==Ui&&(v=s.relatedTarget||s.fromElement)&&(Kn(v)||v[Xt]))break e;if((f||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,f?(v=s.relatedTarget||s.toElement,f=c,v=v?Kn(v):null,v!==null&&(w=fs(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=c),f!==v)){if(N=mu,j="onMouseLeave",h="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(N=fu,j="onPointerLeave",h="onPointerEnter",x="pointer"),w=f==null?m:Ss(f),g=v==null?m:Ss(v),m=new N(j,x+"leave",f,s,p),m.target=w,m.relatedTarget=g,j=null,Kn(p)===c&&(N=new N(h,x+"enter",v,s,p),N.target=g,N.relatedTarget=w,j=N),w=j,f&&v)t:{for(N=f,h=v,x=0,g=N;g;g=ys(g))x++;for(g=0,j=h;j;j=ys(j))g++;for(;0<x-g;)N=ys(N),x--;for(;0<g-x;)h=ys(h),g--;for(;x--;){if(N===h||h!==null&&N===h.alternate)break t;N=ys(N),h=ys(h)}N=null}else N=null;f!==null&&Cu(d,m,f,N,!1),v!==null&&w!==null&&Cu(d,w,v,N,!0)}}e:{if(m=c?Ss(c):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var P=Cx;else if(yu(m))if(Wh)P=Ix;else{P=Px;var k=kx}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=Ex);if(P&&(P=P(e,c))){Hh(d,P,s,p);break e}k&&k(e,m,c),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&Ri(m,"number",m.value)}switch(k=c?Ss(c):window,e){case"focusin":(yu(k)||k.contentEditable==="true")&&(ws=k,Wi=c,Mr=null);break;case"focusout":Mr=Wi=ws=null;break;case"mousedown":Gi=!0;break;case"contextmenu":case"mouseup":case"dragend":Gi=!1,wu(d,s,p);break;case"selectionchange":if(Fx)break;case"keydown":case"keyup":wu(d,s,p)}var I;if(ac)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ns?Kh(e,s)&&(S="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(S="onCompositionStart");S&&(Qh&&s.locale!=="ko"&&(Ns||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ns&&(I=Bh()):(bn=p,sc="value"in bn?bn.value:bn.textContent,Ns=!0)),k=ia(c,S),0<k.length&&(S=new pu(S,e,null,s,p),d.push({event:S,listeners:k}),I?S.data=I:(I=Vh(s),I!==null&&(S.data=I)))),(I=bx?Nx(e,s):wx(e,s))&&(c=ia(c,"onBeforeInput"),0<c.length&&(p=new pu("onBeforeInput","beforeinput",null,s,p),d.push({event:p,listeners:c}),p.data=I))}rm(d,t)})}function Wr(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ia(e,t){for(var s=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Ur(e,s),a!=null&&r.unshift(Wr(e,a,l)),a=Ur(e,t),a!=null&&r.push(Wr(e,a,l))),e=e.return}return r}function ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cu(e,t,s,r,l){for(var a=t._reactName,i=[];s!==null&&s!==r;){var u=s,o=u.alternate,c=u.stateNode;if(o!==null&&o===r)break;u.tag===5&&c!==null&&(u=c,l?(o=Ur(s,a),o!=null&&i.unshift(Wr(s,o,u))):l||(o=Ur(s,a),o!=null&&i.push(Wr(s,o,u)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var Lx=/\r\n?/g,Dx=/\u0000|\uFFFD/g;function ku(e){return(typeof e=="string"?e:""+e).replace(Lx,`
`).replace(Dx,"")}function El(e,t,s){if(t=ku(t),ku(e)!==t&&s)throw Error(F(425))}function oa(){}var Yi=null,Ji=null;function Xi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zi=typeof setTimeout=="function"?setTimeout:void 0,Ax=typeof clearTimeout=="function"?clearTimeout:void 0,Pu=typeof Promise=="function"?Promise:void 0,$x=typeof queueMicrotask=="function"?queueMicrotask:typeof Pu<"u"?function(e){return Pu.resolve(null).then(e).catch(Ux)}:Zi;function Ux(e){setTimeout(function(){throw e})}function gi(e,t){var s=t,r=0;do{var l=s.nextSibling;if(e.removeChild(s),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(r===0){e.removeChild(l),Qr(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=l}while(s);Qr(t)}function kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var or=Math.random().toString(36).slice(2),Mt="__reactFiber$"+or,Gr="__reactProps$"+or,Xt="__reactContainer$"+or,eo="__reactEvents$"+or,qx="__reactListeners$"+or,Bx="__reactHandles$"+or;function Kn(e){var t=e[Mt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Xt]||s[Mt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Eu(e);e!==null;){if(s=e[Mt])return s;e=Eu(e)}return t}e=s,s=e.parentNode}return null}function fl(e){return e=e[Mt]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Ra(e){return e[Gr]||null}var to=[],Cs=-1;function Ln(e){return{current:e}}function se(e){0>Cs||(e.current=to[Cs],to[Cs]=null,Cs--)}function te(e,t){Cs++,to[Cs]=e.current,e.current=t}var On={},Oe=Ln(On),Ye=Ln(!1),is=On;function Zs(e,t){var s=e.type.contextTypes;if(!s)return On;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in s)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Je(e){return e=e.childContextTypes,e!=null}function ca(){se(Ye),se(Oe)}function Iu(e,t,s){if(Oe.current!==On)throw Error(F(168));te(Oe,t),te(Ye,s)}function am(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(F(108,kf(e)||"Unknown",l));return ce({},s,r)}function ua(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||On,is=Oe.current,te(Oe,e),te(Ye,Ye.current),!0}function Tu(e,t,s){var r=e.stateNode;if(!r)throw Error(F(169));s?(e=am(e,t,is),r.__reactInternalMemoizedMergedChildContext=e,se(Ye),se(Oe),te(Oe,e)):se(Ye),te(Ye,s)}var Ut=null,La=!1,yi=!1;function im(e){Ut===null?Ut=[e]:Ut.push(e)}function Qx(e){La=!0,im(e)}function Dn(){if(!yi&&Ut!==null){yi=!0;var e=0,t=ee;try{var s=Ut;for(ee=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}Ut=null,La=!1}catch(l){throw Ut!==null&&(Ut=Ut.slice(e+1)),zh(Zo,Dn),l}finally{ee=t,yi=!1}}return null}var ks=[],Ps=0,da=null,ha=0,dt=[],ht=0,os=null,Ht=1,Wt="";function qn(e,t){ks[Ps++]=ha,ks[Ps++]=da,da=e,ha=t}function om(e,t,s){dt[ht++]=Ht,dt[ht++]=Wt,dt[ht++]=os,os=e;var r=Ht;e=Wt;var l=32-St(r)-1;r&=~(1<<l),s+=1;var a=32-St(t)+l;if(30<a){var i=l-l%5;a=(r&(1<<i)-1).toString(32),r>>=i,l-=i,Ht=1<<32-St(t)+l|s<<l|r,Wt=a+e}else Ht=1<<a|s<<l|r,Wt=e}function oc(e){e.return!==null&&(qn(e,1),om(e,1,0))}function cc(e){for(;e===da;)da=ks[--Ps],ks[Ps]=null,ha=ks[--Ps],ks[Ps]=null;for(;e===os;)os=dt[--ht],dt[ht]=null,Wt=dt[--ht],dt[ht]=null,Ht=dt[--ht],dt[ht]=null}var lt=null,rt=null,le=!1,_t=null;function cm(e,t){var s=pt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function zu(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,rt=kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=os!==null?{id:Ht,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=pt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,lt=e,rt=null,!0):!1;default:return!1}}function no(e){return(e.mode&1)!==0&&(e.flags&128)===0}function so(e){if(le){var t=rt;if(t){var s=t;if(!zu(e,t)){if(no(e))throw Error(F(418));t=kn(s.nextSibling);var r=lt;t&&zu(e,t)?cm(r,s):(e.flags=e.flags&-4097|2,le=!1,lt=e)}}else{if(no(e))throw Error(F(418));e.flags=e.flags&-4097|2,le=!1,lt=e}}}function Fu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Il(e){if(e!==lt)return!1;if(!le)return Fu(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xi(e.type,e.memoizedProps)),t&&(t=rt)){if(no(e))throw um(),Error(F(418));for(;t;)cm(e,t),t=kn(t.nextSibling)}if(Fu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){rt=kn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=lt?kn(e.stateNode.nextSibling):null;return!0}function um(){for(var e=rt;e;)e=kn(e.nextSibling)}function er(){rt=lt=null,le=!1}function uc(e){_t===null?_t=[e]:_t.push(e)}var Kx=nn.ReactCurrentBatchConfig;function jr(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(F(309));var r=s.stateNode}if(!r)throw Error(F(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var u=l.refs;i===null?delete u[a]:u[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!s._owner)throw Error(F(290,e))}return e}function Tl(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mu(e){var t=e._init;return t(e._payload)}function dm(e){function t(h,x){if(e){var g=h.deletions;g===null?(h.deletions=[x],h.flags|=16):g.push(x)}}function s(h,x){if(!e)return null;for(;x!==null;)t(h,x),x=x.sibling;return null}function r(h,x){for(h=new Map;x!==null;)x.key!==null?h.set(x.key,x):h.set(x.index,x),x=x.sibling;return h}function l(h,x){return h=Tn(h,x),h.index=0,h.sibling=null,h}function a(h,x,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<x?(h.flags|=2,x):g):(h.flags|=2,x)):(h.flags|=1048576,x)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function u(h,x,g,j){return x===null||x.tag!==6?(x=Si(g,h.mode,j),x.return=h,x):(x=l(x,g),x.return=h,x)}function o(h,x,g,j){var P=g.type;return P===bs?p(h,x,g.props.children,j,g.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===on&&Mu(P)===x.type)?(j=l(x,g.props),j.ref=jr(h,x,g),j.return=h,j):(j=Jl(g.type,g.key,g.props,null,h.mode,j),j.ref=jr(h,x,g),j.return=h,j)}function c(h,x,g,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==g.containerInfo||x.stateNode.implementation!==g.implementation?(x=Ci(g,h.mode,j),x.return=h,x):(x=l(x,g.children||[]),x.return=h,x)}function p(h,x,g,j,P){return x===null||x.tag!==7?(x=ls(g,h.mode,j,P),x.return=h,x):(x=l(x,g),x.return=h,x)}function d(h,x,g){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Si(""+x,h.mode,g),x.return=h,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jl:return g=Jl(x.type,x.key,x.props,null,h.mode,g),g.ref=jr(h,null,x),g.return=h,g;case js:return x=Ci(x,h.mode,g),x.return=h,x;case on:var j=x._init;return d(h,j(x._payload),g)}if(_r(x)||fr(x))return x=ls(x,h.mode,g,null),x.return=h,x;Tl(h,x)}return null}function m(h,x,g,j){var P=x!==null?x.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return P!==null?null:u(h,x,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case jl:return g.key===P?o(h,x,g,j):null;case js:return g.key===P?c(h,x,g,j):null;case on:return P=g._init,m(h,x,P(g._payload),j)}if(_r(g)||fr(g))return P!==null?null:p(h,x,g,j,null);Tl(h,g)}return null}function f(h,x,g,j,P){if(typeof j=="string"&&j!==""||typeof j=="number")return h=h.get(g)||null,u(x,h,""+j,P);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case jl:return h=h.get(j.key===null?g:j.key)||null,o(x,h,j,P);case js:return h=h.get(j.key===null?g:j.key)||null,c(x,h,j,P);case on:var k=j._init;return f(h,x,g,k(j._payload),P)}if(_r(j)||fr(j))return h=h.get(g)||null,p(x,h,j,P,null);Tl(x,j)}return null}function v(h,x,g,j){for(var P=null,k=null,I=x,S=x=0,E=null;I!==null&&S<g.length;S++){I.index>S?(E=I,I=null):E=I.sibling;var C=m(h,I,g[S],j);if(C===null){I===null&&(I=E);break}e&&I&&C.alternate===null&&t(h,I),x=a(C,x,S),k===null?P=C:k.sibling=C,k=C,I=E}if(S===g.length)return s(h,I),le&&qn(h,S),P;if(I===null){for(;S<g.length;S++)I=d(h,g[S],j),I!==null&&(x=a(I,x,S),k===null?P=I:k.sibling=I,k=I);return le&&qn(h,S),P}for(I=r(h,I);S<g.length;S++)E=f(I,h,S,g[S],j),E!==null&&(e&&E.alternate!==null&&I.delete(E.key===null?S:E.key),x=a(E,x,S),k===null?P=E:k.sibling=E,k=E);return e&&I.forEach(function(_){return t(h,_)}),le&&qn(h,S),P}function N(h,x,g,j){var P=fr(g);if(typeof P!="function")throw Error(F(150));if(g=P.call(g),g==null)throw Error(F(151));for(var k=P=null,I=x,S=x=0,E=null,C=g.next();I!==null&&!C.done;S++,C=g.next()){I.index>S?(E=I,I=null):E=I.sibling;var _=m(h,I,C.value,j);if(_===null){I===null&&(I=E);break}e&&I&&_.alternate===null&&t(h,I),x=a(_,x,S),k===null?P=_:k.sibling=_,k=_,I=E}if(C.done)return s(h,I),le&&qn(h,S),P;if(I===null){for(;!C.done;S++,C=g.next())C=d(h,C.value,j),C!==null&&(x=a(C,x,S),k===null?P=C:k.sibling=C,k=C);return le&&qn(h,S),P}for(I=r(h,I);!C.done;S++,C=g.next())C=f(I,h,S,C.value,j),C!==null&&(e&&C.alternate!==null&&I.delete(C.key===null?S:C.key),x=a(C,x,S),k===null?P=C:k.sibling=C,k=C);return e&&I.forEach(function(M){return t(h,M)}),le&&qn(h,S),P}function w(h,x,g,j){if(typeof g=="object"&&g!==null&&g.type===bs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case jl:e:{for(var P=g.key,k=x;k!==null;){if(k.key===P){if(P=g.type,P===bs){if(k.tag===7){s(h,k.sibling),x=l(k,g.props.children),x.return=h,h=x;break e}}else if(k.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===on&&Mu(P)===k.type){s(h,k.sibling),x=l(k,g.props),x.ref=jr(h,k,g),x.return=h,h=x;break e}s(h,k);break}else t(h,k);k=k.sibling}g.type===bs?(x=ls(g.props.children,h.mode,j,g.key),x.return=h,h=x):(j=Jl(g.type,g.key,g.props,null,h.mode,j),j.ref=jr(h,x,g),j.return=h,h=j)}return i(h);case js:e:{for(k=g.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===g.containerInfo&&x.stateNode.implementation===g.implementation){s(h,x.sibling),x=l(x,g.children||[]),x.return=h,h=x;break e}else{s(h,x);break}else t(h,x);x=x.sibling}x=Ci(g,h.mode,j),x.return=h,h=x}return i(h);case on:return k=g._init,w(h,x,k(g._payload),j)}if(_r(g))return v(h,x,g,j);if(fr(g))return N(h,x,g,j);Tl(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,x!==null&&x.tag===6?(s(h,x.sibling),x=l(x,g),x.return=h,h=x):(s(h,x),x=Si(g,h.mode,j),x.return=h,h=x),i(h)):s(h,x)}return w}var tr=dm(!0),hm=dm(!1),ma=Ln(null),pa=null,Es=null,dc=null;function hc(){dc=Es=pa=null}function mc(e){var t=ma.current;se(ma),e._currentValue=t}function ro(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Rs(e,t){pa=e,dc=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(dc!==e)if(e={context:e,memoizedValue:t,next:null},Es===null){if(pa===null)throw Error(F(308));Es=e,pa.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Vn=null;function pc(e){Vn===null?Vn=[e]:Vn.push(e)}function mm(e,t,s,r){var l=t.interleaved;return l===null?(s.next=s,pc(t)):(s.next=l.next,l.next=s),t.interleaved=s,Zt(e,r)}function Zt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var cn=!1;function fc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Zt(e,s)}return l=r.interleaved,l===null?(t.next=t,pc(r)):(t.next=l.next,l.next=t),r.interleaved=t,Zt(e,s)}function Kl(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,ec(e,s)}}function Ou(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var l=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?l=a=i:a=a.next=i,s=s.next}while(s!==null);a===null?l=a=t:a=a.next=t}else l=a=t;s={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function fa(e,t,s,r){var l=e.updateQueue;cn=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var o=u,c=o.next;o.next=null,i===null?a=c:i.next=c,i=o;var p=e.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==i&&(u===null?p.firstBaseUpdate=c:u.next=c,p.lastBaseUpdate=o))}if(a!==null){var d=l.baseState;i=0,p=c=o=null,u=a;do{var m=u.lane,f=u.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:f,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,N=u;switch(m=t,f=s,N.tag){case 1:if(v=N.payload,typeof v=="function"){d=v.call(f,d,m);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=N.payload,m=typeof v=="function"?v.call(f,d,m):v,m==null)break e;d=ce({},d,m);break e;case 2:cn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,m=l.effects,m===null?l.effects=[u]:m.push(u))}else f={eventTime:f,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(c=p=f,o=d):p=p.next=f,i|=m;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;m=u,u=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);if(p===null&&(o=d),l.baseState=o,l.firstBaseUpdate=c,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);us|=i,e.lanes=i,e.memoizedState=d}}function Ru(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=s,typeof l!="function")throw Error(F(191,l));l.call(r)}}}var xl={},Rt=Ln(xl),Yr=Ln(xl),Jr=Ln(xl);function Hn(e){if(e===xl)throw Error(F(174));return e}function xc(e,t){switch(te(Jr,t),te(Yr,e),te(Rt,xl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Di(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Di(t,e)}se(Rt),te(Rt,t)}function nr(){se(Rt),se(Yr),se(Jr)}function fm(e){Hn(Jr.current);var t=Hn(Rt.current),s=Di(t,e.type);t!==s&&(te(Yr,e),te(Rt,s))}function gc(e){Yr.current===e&&(se(Rt),se(Yr))}var ae=Ln(0);function xa(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vi=[];function yc(){for(var e=0;e<vi.length;e++)vi[e]._workInProgressVersionPrimary=null;vi.length=0}var Vl=nn.ReactCurrentDispatcher,ji=nn.ReactCurrentBatchConfig,cs=0,ie=null,ve=null,we=null,ga=!1,Or=!1,Xr=0,Vx=0;function Te(){throw Error(F(321))}function vc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!kt(e[s],t[s]))return!1;return!0}function jc(e,t,s,r,l,a){if(cs=a,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vl.current=e===null||e.memoizedState===null?Yx:Jx,e=s(r,l),Or){a=0;do{if(Or=!1,Xr=0,25<=a)throw Error(F(301));a+=1,we=ve=null,t.updateQueue=null,Vl.current=Xx,e=s(r,l)}while(Or)}if(Vl.current=ya,t=ve!==null&&ve.next!==null,cs=0,we=ve=ie=null,ga=!1,t)throw Error(F(300));return e}function bc(){var e=Xr!==0;return Xr=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?ie.memoizedState=we=e:we=we.next=e,we}function gt(){if(ve===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=we===null?ie.memoizedState:we.next;if(t!==null)we=t,ve=e;else{if(e===null)throw Error(F(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},we===null?ie.memoizedState=we=e:we=we.next=e}return we}function Zr(e,t){return typeof t=="function"?t(e):t}function bi(e){var t=gt(),s=t.queue;if(s===null)throw Error(F(311));s.lastRenderedReducer=e;var r=ve,l=r.baseQueue,a=s.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,s.pending=null}if(l!==null){a=l.next,r=r.baseState;var u=i=null,o=null,c=a;do{var p=c.lane;if((cs&p)===p)o!==null&&(o=o.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};o===null?(u=o=d,i=r):o=o.next=d,ie.lanes|=p,us|=p}c=c.next}while(c!==null&&c!==a);o===null?i=r:o.next=u,kt(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=o,s.lastRenderedState=r}if(e=s.interleaved,e!==null){l=e;do a=l.lane,ie.lanes|=a,us|=a,l=l.next;while(l!==e)}else l===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Ni(e){var t=gt(),s=t.queue;if(s===null)throw Error(F(311));s.lastRenderedReducer=e;var r=s.dispatch,l=s.pending,a=t.memoizedState;if(l!==null){s.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);kt(a,t.memoizedState)||(Ge=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,r]}function xm(){}function gm(e,t){var s=ie,r=gt(),l=t(),a=!kt(r.memoizedState,l);if(a&&(r.memoizedState=l,Ge=!0),r=r.queue,Nc(jm.bind(null,s,r,e),[e]),r.getSnapshot!==t||a||we!==null&&we.memoizedState.tag&1){if(s.flags|=2048,el(9,vm.bind(null,s,r,l,t),void 0,null),Se===null)throw Error(F(349));cs&30||ym(s,t,l)}return l}function ym(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function vm(e,t,s,r){t.value=s,t.getSnapshot=r,bm(t)&&Nm(e)}function jm(e,t,s){return s(function(){bm(t)&&Nm(e)})}function bm(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!kt(e,s)}catch{return!0}}function Nm(e){var t=Zt(e,1);t!==null&&Ct(t,e,1,-1)}function Lu(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:e},t.queue=e,e=e.dispatch=Gx.bind(null,ie,e),[t.memoizedState,e]}function el(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function wm(){return gt().memoizedState}function Hl(e,t,s,r){var l=It();ie.flags|=e,l.memoizedState=el(1|t,s,void 0,r===void 0?null:r)}function Da(e,t,s,r){var l=gt();r=r===void 0?null:r;var a=void 0;if(ve!==null){var i=ve.memoizedState;if(a=i.destroy,r!==null&&vc(r,i.deps)){l.memoizedState=el(t,s,a,r);return}}ie.flags|=e,l.memoizedState=el(1|t,s,a,r)}function Du(e,t){return Hl(8390656,8,e,t)}function Nc(e,t){return Da(2048,8,e,t)}function _m(e,t){return Da(4,2,e,t)}function Sm(e,t){return Da(4,4,e,t)}function Cm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function km(e,t,s){return s=s!=null?s.concat([e]):null,Da(4,4,Cm.bind(null,t,e),s)}function wc(){}function Pm(e,t){var s=gt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&vc(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Em(e,t){var s=gt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&vc(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Im(e,t,s){return cs&21?(kt(s,t)||(s=Oh(),ie.lanes|=s,us|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=s)}function Hx(e,t){var s=ee;ee=s!==0&&4>s?s:4,e(!0);var r=ji.transition;ji.transition={};try{e(!1),t()}finally{ee=s,ji.transition=r}}function Tm(){return gt().memoizedState}function Wx(e,t,s){var r=In(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},zm(e))Fm(t,s);else if(s=mm(e,t,s,r),s!==null){var l=Ue();Ct(s,e,r,l),Mm(s,t,r)}}function Gx(e,t,s){var r=In(e),l={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(zm(e))Fm(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,u=a(i,s);if(l.hasEagerState=!0,l.eagerState=u,kt(u,i)){var o=t.interleaved;o===null?(l.next=l,pc(t)):(l.next=o.next,o.next=l),t.interleaved=l;return}}catch{}finally{}s=mm(e,t,l,r),s!==null&&(l=Ue(),Ct(s,e,r,l),Mm(s,t,r))}}function zm(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function Fm(e,t){Or=ga=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Mm(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,ec(e,s)}}var ya={readContext:xt,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},Yx={readContext:xt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:Du,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Hl(4194308,4,Cm.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hl(4,2,e,t)},useMemo:function(e,t){var s=It();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=It();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wx.bind(null,ie,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:Lu,useDebugValue:wc,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=Lu(!1),t=e[0];return e=Hx.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=ie,l=It();if(le){if(s===void 0)throw Error(F(407));s=s()}else{if(s=t(),Se===null)throw Error(F(349));cs&30||ym(r,t,s)}l.memoizedState=s;var a={value:s,getSnapshot:t};return l.queue=a,Du(jm.bind(null,r,a,e),[e]),r.flags|=2048,el(9,vm.bind(null,r,a,s,t),void 0,null),s},useId:function(){var e=It(),t=Se.identifierPrefix;if(le){var s=Wt,r=Ht;s=(r&~(1<<32-St(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=Xr++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Vx++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jx={readContext:xt,useCallback:Pm,useContext:xt,useEffect:Nc,useImperativeHandle:km,useInsertionEffect:_m,useLayoutEffect:Sm,useMemo:Em,useReducer:bi,useRef:wm,useState:function(){return bi(Zr)},useDebugValue:wc,useDeferredValue:function(e){var t=gt();return Im(t,ve.memoizedState,e)},useTransition:function(){var e=bi(Zr)[0],t=gt().memoizedState;return[e,t]},useMutableSource:xm,useSyncExternalStore:gm,useId:Tm,unstable_isNewReconciler:!1},Xx={readContext:xt,useCallback:Pm,useContext:xt,useEffect:Nc,useImperativeHandle:km,useInsertionEffect:_m,useLayoutEffect:Sm,useMemo:Em,useReducer:Ni,useRef:wm,useState:function(){return Ni(Zr)},useDebugValue:wc,useDeferredValue:function(e){var t=gt();return ve===null?t.memoizedState=e:Im(t,ve.memoizedState,e)},useTransition:function(){var e=Ni(Zr)[0],t=gt().memoizedState;return[e,t]},useMutableSource:xm,useSyncExternalStore:gm,useId:Tm,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function lo(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:ce({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Aa={isMounted:function(e){return(e=e._reactInternals)?fs(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Ue(),l=In(e),a=Gt(r,l);a.payload=t,s!=null&&(a.callback=s),t=Pn(e,a,l),t!==null&&(Ct(t,e,l,r),Kl(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Ue(),l=In(e),a=Gt(r,l);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=Pn(e,a,l),t!==null&&(Ct(t,e,l,r),Kl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ue(),r=In(e),l=Gt(s,r);l.tag=2,t!=null&&(l.callback=t),t=Pn(e,l,r),t!==null&&(Ct(t,e,r,s),Kl(t,e,r))}};function Au(e,t,s,r,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!Vr(s,r)||!Vr(l,a):!0}function Om(e,t,s){var r=!1,l=On,a=t.contextType;return typeof a=="object"&&a!==null?a=xt(a):(l=Je(t)?is:Oe.current,r=t.contextTypes,a=(r=r!=null)?Zs(e,l):On),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Aa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function $u(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Aa.enqueueReplaceState(t,t.state,null)}function ao(e,t,s,r){var l=e.stateNode;l.props=s,l.state=e.memoizedState,l.refs={},fc(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=xt(a):(a=Je(t)?is:Oe.current,l.context=Zs(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(lo(e,t,a,s),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Aa.enqueueReplaceState(l,l.state,null),fa(e,s,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function sr(e,t){try{var s="",r=t;do s+=Cf(r),r=r.return;while(r);var l=s}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function wi(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function io(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Zx=typeof WeakMap=="function"?WeakMap:Map;function Rm(e,t,s){s=Gt(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){ja||(ja=!0,yo=r),io(e,t)},s}function Lm(e,t,s){s=Gt(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;s.payload=function(){return r(l)},s.callback=function(){io(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){io(e,t),typeof r!="function"&&(En===null?En=new Set([this]):En.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function Uu(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new Zx;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(s)||(l.add(s),e=m0.bind(null,e,t,s),t.then(e,e))}function qu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bu(e,t,s,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Gt(-1,1),t.tag=2,Pn(s,t,1))),s.lanes|=1),e)}var e0=nn.ReactCurrentOwner,Ge=!1;function Ae(e,t,s,r){t.child=e===null?hm(t,null,s,r):tr(t,e.child,s,r)}function Qu(e,t,s,r,l){s=s.render;var a=t.ref;return Rs(t,l),r=jc(e,t,s,r,a,l),s=bc(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,en(e,t,l)):(le&&s&&oc(t),t.flags|=1,Ae(e,t,r,l),t.child)}function Ku(e,t,s,r,l){if(e===null){var a=s.type;return typeof a=="function"&&!Tc(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,Dm(e,t,a,r,l)):(e=Jl(s.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(s=s.compare,s=s!==null?s:Vr,s(i,r)&&e.ref===t.ref)return en(e,t,l)}return t.flags|=1,e=Tn(a,r),e.ref=t.ref,e.return=t,t.child=e}function Dm(e,t,s,r,l){if(e!==null){var a=e.memoizedProps;if(Vr(a,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=a,(e.lanes&l)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,en(e,t,l)}return oo(e,t,s,r,l)}function Am(e,t,s){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Ts,st),st|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(Ts,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,te(Ts,st),st|=r}else a!==null?(r=a.baseLanes|s,t.memoizedState=null):r=s,te(Ts,st),st|=r;return Ae(e,t,l,s),t.child}function $m(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function oo(e,t,s,r,l){var a=Je(s)?is:Oe.current;return a=Zs(t,a),Rs(t,l),s=jc(e,t,s,r,a,l),r=bc(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,en(e,t,l)):(le&&r&&oc(t),t.flags|=1,Ae(e,t,s,l),t.child)}function Vu(e,t,s,r,l){if(Je(s)){var a=!0;ua(t)}else a=!1;if(Rs(t,l),t.stateNode===null)Wl(e,t),Om(t,s,r),ao(t,s,r,l),r=!0;else if(e===null){var i=t.stateNode,u=t.memoizedProps;i.props=u;var o=i.context,c=s.contextType;typeof c=="object"&&c!==null?c=xt(c):(c=Je(s)?is:Oe.current,c=Zs(t,c));var p=s.getDerivedStateFromProps,d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==r||o!==c)&&$u(t,i,r,c),cn=!1;var m=t.memoizedState;i.state=m,fa(t,r,i,l),o=t.memoizedState,u!==r||m!==o||Ye.current||cn?(typeof p=="function"&&(lo(t,s,p,r),o=t.memoizedState),(u=cn||Au(t,s,u,r,m,o,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),i.props=r,i.state=o,i.context=c,r=u):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,pm(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:jt(t.type,u),i.props=c,d=t.pendingProps,m=i.context,o=s.contextType,typeof o=="object"&&o!==null?o=xt(o):(o=Je(s)?is:Oe.current,o=Zs(t,o));var f=s.getDerivedStateFromProps;(p=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==d||m!==o)&&$u(t,i,r,o),cn=!1,m=t.memoizedState,i.state=m,fa(t,r,i,l);var v=t.memoizedState;u!==d||m!==v||Ye.current||cn?(typeof f=="function"&&(lo(t,s,f,r),v=t.memoizedState),(c=cn||Au(t,s,c,r,m,v,o)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=o,r=c):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return co(e,t,s,r,a,l)}function co(e,t,s,r,l,a){$m(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Tu(t,s,!1),en(e,t,a);r=t.stateNode,e0.current=t;var u=i&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=tr(t,e.child,null,a),t.child=tr(t,null,u,a)):Ae(e,t,u,a),t.memoizedState=r.state,l&&Tu(t,s,!0),t.child}function Um(e){var t=e.stateNode;t.pendingContext?Iu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Iu(e,t.context,!1),xc(e,t.containerInfo)}function Hu(e,t,s,r,l){return er(),uc(l),t.flags|=256,Ae(e,t,s,r),t.child}var uo={dehydrated:null,treeContext:null,retryLane:0};function ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function qm(e,t,s){var r=t.pendingProps,l=ae.current,a=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(l&2)!==0),u?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),te(ae,l&1),e===null)return so(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=qa(i,r,0,null),e=ls(e,r,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ho(s),t.memoizedState=uo,e):_c(t,i));if(l=e.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return t0(e,t,i,r,u,l,s);if(a){a=r.fallback,i=t.mode,l=e.child,u=l.sibling;var o={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=o,t.deletions=null):(r=Tn(l,o),r.subtreeFlags=l.subtreeFlags&14680064),u!==null?a=Tn(u,a):(a=ls(a,i,s,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?ho(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~s,t.memoizedState=uo,r}return a=e.child,e=a.sibling,r=Tn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function _c(e,t){return t=qa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zl(e,t,s,r){return r!==null&&uc(r),tr(t,e.child,null,s),e=_c(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function t0(e,t,s,r,l,a,i){if(s)return t.flags&256?(t.flags&=-257,r=wi(Error(F(422))),zl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=qa({mode:"visible",children:r.children},l,0,null),a=ls(a,l,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&tr(t,e.child,null,i),t.child.memoizedState=ho(i),t.memoizedState=uo,a);if(!(t.mode&1))return zl(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;return r=u,a=Error(F(419)),r=wi(a,r,void 0),zl(e,t,i,r)}if(u=(i&e.childLanes)!==0,Ge||u){if(r=Se,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Zt(e,l),Ct(r,e,l,-1))}return Ic(),r=wi(Error(F(421))),zl(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=p0.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,rt=kn(l.nextSibling),lt=t,le=!0,_t=null,e!==null&&(dt[ht++]=Ht,dt[ht++]=Wt,dt[ht++]=os,Ht=e.id,Wt=e.overflow,os=t),t=_c(t,r.children),t.flags|=4096,t)}function Wu(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ro(e.return,t,s)}function _i(e,t,s,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=l)}function Bm(e,t,s){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(Ae(e,t,r.children,s),r=ae.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wu(e,s,t);else if(e.tag===19)Wu(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(ae,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(s=t.child,l=null;s!==null;)e=s.alternate,e!==null&&xa(e)===null&&(l=s),s=s.sibling;s=l,s===null?(l=t.child,t.child=null):(l=s.sibling,s.sibling=null),_i(t,!1,l,s,a);break;case"backwards":for(s=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&xa(e)===null){t.child=l;break}e=l.sibling,l.sibling=s,s=l,l=e}_i(t,!0,s,null,a);break;case"together":_i(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function en(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),us|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,s=Tn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Tn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function n0(e,t,s){switch(t.tag){case 3:Um(t),er();break;case 5:fm(t);break;case 1:Je(t.type)&&ua(t);break;case 4:xc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;te(ma,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(te(ae,ae.current&1),t.flags|=128,null):s&t.child.childLanes?qm(e,t,s):(te(ae,ae.current&1),e=en(e,t,s),e!==null?e.sibling:null);te(ae,ae.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return Bm(e,t,s);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),te(ae,ae.current),r)break;return null;case 22:case 23:return t.lanes=0,Am(e,t,s)}return en(e,t,s)}var Qm,mo,Km,Vm;Qm=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};mo=function(){};Km=function(e,t,s,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Hn(Rt.current);var a=null;switch(s){case"input":l=Mi(e,l),r=Mi(e,r),a=[];break;case"select":l=ce({},l,{value:void 0}),r=ce({},r,{value:void 0}),a=[];break;case"textarea":l=Li(e,l),r=Li(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=oa)}Ai(s,r);var i;s=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var u=l[c];for(i in u)u.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ar.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var o=r[c];if(u=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&o!==u&&(o!=null||u!=null))if(c==="style")if(u){for(i in u)!u.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in o)o.hasOwnProperty(i)&&u[i]!==o[i]&&(s||(s={}),s[i]=o[i])}else s||(a||(a=[]),a.push(c,s)),s=o;else c==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,u=u?u.__html:void 0,o!=null&&u!==o&&(a=a||[]).push(c,o)):c==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(c,""+o):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ar.hasOwnProperty(c)?(o!=null&&c==="onScroll"&&ne("scroll",e),a||u===o||(a=[])):(a=a||[]).push(c,o))}s&&(a=a||[]).push("style",s);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};Vm=function(e,t,s,r){s!==r&&(t.flags|=4)};function br(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var l=e.child;l!==null;)s|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)s|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function s0(e,t,s){var r=t.pendingProps;switch(cc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Je(t.type)&&ca(),ze(t),null;case 3:return r=t.stateNode,nr(),se(Ye),se(Oe),yc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Il(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(bo(_t),_t=null))),mo(e,t),ze(t),null;case 5:gc(t);var l=Hn(Jr.current);if(s=t.type,e!==null&&t.stateNode!=null)Km(e,t,s,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return ze(t),null}if(e=Hn(Rt.current),Il(t)){r=t.stateNode,s=t.type;var a=t.memoizedProps;switch(r[Mt]=t,r[Gr]=a,e=(t.mode&1)!==0,s){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(l=0;l<Cr.length;l++)ne(Cr[l],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":su(r,a),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ne("invalid",r);break;case"textarea":lu(r,a),ne("invalid",r)}Ai(s,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="children"?typeof u=="string"?r.textContent!==u&&(a.suppressHydrationWarning!==!0&&El(r.textContent,u,e),l=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&El(r.textContent,u,e),l=["children",""+u]):Ar.hasOwnProperty(i)&&u!=null&&i==="onScroll"&&ne("scroll",r)}switch(s){case"input":bl(r),ru(r,a,!0);break;case"textarea":bl(r),au(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=oa)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jh(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(s,{is:r.is}):(e=i.createElement(s),s==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,s),e[Mt]=t,e[Gr]=r,Qm(e,t,!1,!1),t.stateNode=e;e:{switch(i=$i(s,r),s){case"dialog":ne("cancel",e),ne("close",e),l=r;break;case"iframe":case"object":case"embed":ne("load",e),l=r;break;case"video":case"audio":for(l=0;l<Cr.length;l++)ne(Cr[l],e);l=r;break;case"source":ne("error",e),l=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),l=r;break;case"details":ne("toggle",e),l=r;break;case"input":su(e,r),l=Mi(e,r),ne("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ce({},r,{value:void 0}),ne("invalid",e);break;case"textarea":lu(e,r),l=Li(e,r),ne("invalid",e);break;default:l=r}Ai(s,l),u=l;for(a in u)if(u.hasOwnProperty(a)){var o=u[a];a==="style"?wh(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&bh(e,o)):a==="children"?typeof o=="string"?(s!=="textarea"||o!=="")&&$r(e,o):typeof o=="number"&&$r(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ar.hasOwnProperty(a)?o!=null&&a==="onScroll"&&ne("scroll",e):o!=null&&Wo(e,a,o,i))}switch(s){case"input":bl(e),ru(e,r,!1);break;case"textarea":bl(e),au(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?zs(e,!!r.multiple,a,!1):r.defaultValue!=null&&zs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=oa)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Vm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(s=Hn(Jr.current),Hn(Rt.current),Il(t)){if(r=t.stateNode,s=t.memoizedProps,r[Mt]=t,(a=r.nodeValue!==s)&&(e=lt,e!==null))switch(e.tag){case 3:El(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&El(r.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Mt]=t,t.stateNode=r}return ze(t),null;case 13:if(se(ae),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&rt!==null&&t.mode&1&&!(t.flags&128))um(),er(),t.flags|=98560,a=!1;else if(a=Il(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[Mt]=t}else er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),a=!1}else _t!==null&&(bo(_t),_t=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?be===0&&(be=3):Ic())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return nr(),mo(e,t),e===null&&Hr(t.stateNode.containerInfo),ze(t),null;case 10:return mc(t.type._context),ze(t),null;case 17:return Je(t.type)&&ca(),ze(t),null;case 19:if(se(ae),a=t.memoizedState,a===null)return ze(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)br(a,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=xa(e),i!==null){for(t.flags|=128,br(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)a=s,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return te(ae,ae.current&1|2),t.child}e=e.sibling}a.tail!==null&&he()>rr&&(t.flags|=128,r=!0,br(a,!1),t.lanes=4194304)}else{if(!r)if(e=xa(i),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),br(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!le)return ze(t),null}else 2*he()-a.renderingStartTime>rr&&s!==1073741824&&(t.flags|=128,r=!0,br(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(s=a.last,s!==null?s.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=he(),t.sibling=null,s=ae.current,te(ae,r?s&1|2:s&1),t):(ze(t),null);case 22:case 23:return Ec(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?st&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function r0(e,t){switch(cc(t),t.tag){case 1:return Je(t.type)&&ca(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nr(),se(Ye),se(Oe),yc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gc(t),null;case 13:if(se(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ae),null;case 4:return nr(),null;case 10:return mc(t.type._context),null;case 22:case 23:return Ec(),null;case 24:return null;default:return null}}var Fl=!1,Me=!1,l0=typeof WeakSet=="function"?WeakSet:Set,$=null;function Is(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){de(e,t,r)}else s.current=null}function po(e,t,s){try{s()}catch(r){de(e,t,r)}}var Gu=!1;function a0(e,t){if(Yi=la,e=Jh(),ic(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var i=0,u=-1,o=-1,c=0,p=0,d=e,m=null;t:for(;;){for(var f;d!==s||l!==0&&d.nodeType!==3||(u=i+l),d!==a||r!==0&&d.nodeType!==3||(o=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(f=d.firstChild)!==null;)m=d,d=f;for(;;){if(d===e)break t;if(m===s&&++c===l&&(u=i),m===a&&++p===r&&(o=i),(f=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=f}s=u===-1||o===-1?null:{start:u,end:o}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ji={focusedElem:e,selectionRange:s},la=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var N=v.memoizedProps,w=v.memoizedState,h=t.stateNode,x=h.getSnapshotBeforeUpdate(t.elementType===t.type?N:jt(t.type,N),w);h.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(j){de(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return v=Gu,Gu=!1,v}function Rr(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&po(t,s,a)}l=l.next}while(l!==r)}}function $a(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function fo(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Hm(e){var t=e.alternate;t!==null&&(e.alternate=null,Hm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[Gr],delete t[eo],delete t[qx],delete t[Bx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wm(e){return e.tag===5||e.tag===3||e.tag===4}function Yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xo(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=oa));else if(r!==4&&(e=e.child,e!==null))for(xo(e,t,s),e=e.sibling;e!==null;)xo(e,t,s),e=e.sibling}function go(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(go(e,t,s),e=e.sibling;e!==null;)go(e,t,s),e=e.sibling}var ke=null,wt=!1;function ln(e,t,s){for(s=s.child;s!==null;)Gm(e,t,s),s=s.sibling}function Gm(e,t,s){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(za,s)}catch{}switch(s.tag){case 5:Me||Is(s,t);case 6:var r=ke,l=wt;ke=null,ln(e,t,s),ke=r,wt=l,ke!==null&&(wt?(e=ke,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ke.removeChild(s.stateNode));break;case 18:ke!==null&&(wt?(e=ke,s=s.stateNode,e.nodeType===8?gi(e.parentNode,s):e.nodeType===1&&gi(e,s),Qr(e)):gi(ke,s.stateNode));break;case 4:r=ke,l=wt,ke=s.stateNode.containerInfo,wt=!0,ln(e,t,s),ke=r,wt=l;break;case 0:case 11:case 14:case 15:if(!Me&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&po(s,t,i),l=l.next}while(l!==r)}ln(e,t,s);break;case 1:if(!Me&&(Is(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(u){de(s,t,u)}ln(e,t,s);break;case 21:ln(e,t,s);break;case 22:s.mode&1?(Me=(r=Me)||s.memoizedState!==null,ln(e,t,s),Me=r):ln(e,t,s);break;default:ln(e,t,s)}}function Ju(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new l0),t.forEach(function(r){var l=f0.bind(null,e,r);s.has(r)||(s.add(r),r.then(l,l))})}}function vt(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];try{var a=e,i=t,u=i;e:for(;u!==null;){switch(u.tag){case 5:ke=u.stateNode,wt=!1;break e;case 3:ke=u.stateNode.containerInfo,wt=!0;break e;case 4:ke=u.stateNode.containerInfo,wt=!0;break e}u=u.return}if(ke===null)throw Error(F(160));Gm(a,i,l),ke=null,wt=!1;var o=l.alternate;o!==null&&(o.return=null),l.return=null}catch(c){de(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ym(t,e),t=t.sibling}function Ym(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Et(e),r&4){try{Rr(3,e,e.return),$a(3,e)}catch(N){de(e,e.return,N)}try{Rr(5,e,e.return)}catch(N){de(e,e.return,N)}}break;case 1:vt(t,e),Et(e),r&512&&s!==null&&Is(s,s.return);break;case 5:if(vt(t,e),Et(e),r&512&&s!==null&&Is(s,s.return),e.flags&32){var l=e.stateNode;try{$r(l,"")}catch(N){de(e,e.return,N)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=s!==null?s.memoizedProps:a,u=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&yh(l,a),$i(u,i);var c=$i(u,a);for(i=0;i<o.length;i+=2){var p=o[i],d=o[i+1];p==="style"?wh(l,d):p==="dangerouslySetInnerHTML"?bh(l,d):p==="children"?$r(l,d):Wo(l,p,d,c)}switch(u){case"input":Oi(l,a);break;case"textarea":vh(l,a);break;case"select":var m=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?zs(l,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?zs(l,!!a.multiple,a.defaultValue,!0):zs(l,!!a.multiple,a.multiple?[]:"",!1))}l[Gr]=a}catch(N){de(e,e.return,N)}}break;case 6:if(vt(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(F(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(N){de(e,e.return,N)}}break;case 3:if(vt(t,e),Et(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Qr(t.containerInfo)}catch(N){de(e,e.return,N)}break;case 4:vt(t,e),Et(e);break;case 13:vt(t,e),Et(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(kc=he())),r&4&&Ju(e);break;case 22:if(p=s!==null&&s.memoizedState!==null,e.mode&1?(Me=(c=Me)||p,vt(t,e),Me=c):vt(t,e),Et(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for($=e,p=e.child;p!==null;){for(d=$=p;$!==null;){switch(m=$,f=m.child,m.tag){case 0:case 11:case 14:case 15:Rr(4,m,m.return);break;case 1:Is(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,s=m.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(N){de(r,s,N)}}break;case 5:Is(m,m.return);break;case 22:if(m.memoizedState!==null){Zu(d);continue}}f!==null?(f.return=m,$=f):Zu(d)}p=p.sibling}e:for(p=null,d=e;;){if(d.tag===5){if(p===null){p=d;try{l=d.stateNode,c?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=d.stateNode,o=d.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,u.style.display=Nh("display",i))}catch(N){de(e,e.return,N)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(N){de(e,e.return,N)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vt(t,e),Et(e),r&4&&Ju(e);break;case 21:break;default:vt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Wm(s)){var r=s;break e}s=s.return}throw Error(F(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&($r(l,""),r.flags&=-33);var a=Yu(e);go(e,a,l);break;case 3:case 4:var i=r.stateNode.containerInfo,u=Yu(e);xo(e,u,i);break;default:throw Error(F(161))}}catch(o){de(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function i0(e,t,s){$=e,Jm(e)}function Jm(e,t,s){for(var r=(e.mode&1)!==0;$!==null;){var l=$,a=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||Fl;if(!i){var u=l.alternate,o=u!==null&&u.memoizedState!==null||Me;u=Fl;var c=Me;if(Fl=i,(Me=o)&&!c)for($=l;$!==null;)i=$,o=i.child,i.tag===22&&i.memoizedState!==null?ed(l):o!==null?(o.return=i,$=o):ed(l);for(;a!==null;)$=a,Jm(a),a=a.sibling;$=l,Fl=u,Me=c}Xu(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,$=a):Xu(e)}}function Xu(e){for(;$!==null;){var t=$;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||$a(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Me)if(s===null)r.componentDidMount();else{var l=t.elementType===t.type?s.memoizedProps:jt(t.type,s.memoizedProps);r.componentDidUpdate(l,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ru(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Ru(t,i,s)}break;case 5:var u=t.stateNode;if(s===null&&t.flags&4){s=u;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break;case"img":o.src&&(s.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&Qr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Me||t.flags&512&&fo(t)}catch(m){de(t,t.return,m)}}if(t===e){$=null;break}if(s=t.sibling,s!==null){s.return=t.return,$=s;break}$=t.return}}function Zu(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var s=t.sibling;if(s!==null){s.return=t.return,$=s;break}$=t.return}}function ed(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{$a(4,t)}catch(o){de(t,s,o)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(o){de(t,l,o)}}var a=t.return;try{fo(t)}catch(o){de(t,a,o)}break;case 5:var i=t.return;try{fo(t)}catch(o){de(t,i,o)}}}catch(o){de(t,t.return,o)}if(t===e){$=null;break}var u=t.sibling;if(u!==null){u.return=t.return,$=u;break}$=t.return}}var o0=Math.ceil,va=nn.ReactCurrentDispatcher,Sc=nn.ReactCurrentOwner,ft=nn.ReactCurrentBatchConfig,J=0,Se=null,xe=null,Pe=0,st=0,Ts=Ln(0),be=0,tl=null,us=0,Ua=0,Cc=0,Lr=null,We=null,kc=0,rr=1/0,$t=null,ja=!1,yo=null,En=null,Ml=!1,Nn=null,ba=0,Dr=0,vo=null,Gl=-1,Yl=0;function Ue(){return J&6?he():Gl!==-1?Gl:Gl=he()}function In(e){return e.mode&1?J&2&&Pe!==0?Pe&-Pe:Kx.transition!==null?(Yl===0&&(Yl=Oh()),Yl):(e=ee,e!==0||(e=window.event,e=e===void 0?16:qh(e.type)),e):1}function Ct(e,t,s,r){if(50<Dr)throw Dr=0,vo=null,Error(F(185));ml(e,s,r),(!(J&2)||e!==Se)&&(e===Se&&(!(J&2)&&(Ua|=s),be===4&&dn(e,Pe)),Xe(e,r),s===1&&J===0&&!(t.mode&1)&&(rr=he()+500,La&&Dn()))}function Xe(e,t){var s=e.callbackNode;Kf(e,t);var r=ra(e,e===Se?Pe:0);if(r===0)s!==null&&cu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&cu(s),t===1)e.tag===0?Qx(td.bind(null,e)):im(td.bind(null,e)),$x(function(){!(J&6)&&Dn()}),s=null;else{switch(Rh(r)){case 1:s=Zo;break;case 4:s=Fh;break;case 16:s=sa;break;case 536870912:s=Mh;break;default:s=sa}s=lp(s,Xm.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Xm(e,t){if(Gl=-1,Yl=0,J&6)throw Error(F(327));var s=e.callbackNode;if(Ls()&&e.callbackNode!==s)return null;var r=ra(e,e===Se?Pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Na(e,r);else{t=r;var l=J;J|=2;var a=ep();(Se!==e||Pe!==t)&&($t=null,rr=he()+500,rs(e,t));do try{d0();break}catch(u){Zm(e,u)}while(!0);hc(),va.current=a,J=l,xe!==null?t=0:(Se=null,Pe=0,t=be)}if(t!==0){if(t===2&&(l=Ki(e),l!==0&&(r=l,t=jo(e,l))),t===1)throw s=tl,rs(e,0),dn(e,r),Xe(e,he()),s;if(t===6)dn(e,r);else{if(l=e.current.alternate,!(r&30)&&!c0(l)&&(t=Na(e,r),t===2&&(a=Ki(e),a!==0&&(r=a,t=jo(e,a))),t===1))throw s=tl,rs(e,0),dn(e,r),Xe(e,he()),s;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Bn(e,We,$t);break;case 3:if(dn(e,r),(r&130023424)===r&&(t=kc+500-he(),10<t)){if(ra(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ue(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Zi(Bn.bind(null,e,We,$t),t);break}Bn(e,We,$t);break;case 4:if(dn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-St(r);a=1<<i,i=t[i],i>l&&(l=i),r&=~a}if(r=l,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*o0(r/1960))-r,10<r){e.timeoutHandle=Zi(Bn.bind(null,e,We,$t),r);break}Bn(e,We,$t);break;case 5:Bn(e,We,$t);break;default:throw Error(F(329))}}}return Xe(e,he()),e.callbackNode===s?Xm.bind(null,e):null}function jo(e,t){var s=Lr;return e.current.memoizedState.isDehydrated&&(rs(e,t).flags|=256),e=Na(e,t),e!==2&&(t=We,We=s,t!==null&&bo(t)),e}function bo(e){We===null?We=e:We.push.apply(We,e)}function c0(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var l=s[r],a=l.getSnapshot;l=l.value;try{if(!kt(a(),l))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~Cc,t&=~Ua,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-St(t),r=1<<s;e[s]=-1,t&=~r}}function td(e){if(J&6)throw Error(F(327));Ls();var t=ra(e,0);if(!(t&1))return Xe(e,he()),null;var s=Na(e,t);if(e.tag!==0&&s===2){var r=Ki(e);r!==0&&(t=r,s=jo(e,r))}if(s===1)throw s=tl,rs(e,0),dn(e,t),Xe(e,he()),s;if(s===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,We,$t),Xe(e,he()),null}function Pc(e,t){var s=J;J|=1;try{return e(t)}finally{J=s,J===0&&(rr=he()+500,La&&Dn())}}function ds(e){Nn!==null&&Nn.tag===0&&!(J&6)&&Ls();var t=J;J|=1;var s=ft.transition,r=ee;try{if(ft.transition=null,ee=1,e)return e()}finally{ee=r,ft.transition=s,J=t,!(J&6)&&Dn()}}function Ec(){st=Ts.current,se(Ts)}function rs(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Ax(s)),xe!==null)for(s=xe.return;s!==null;){var r=s;switch(cc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ca();break;case 3:nr(),se(Ye),se(Oe),yc();break;case 5:gc(r);break;case 4:nr();break;case 13:se(ae);break;case 19:se(ae);break;case 10:mc(r.type._context);break;case 22:case 23:Ec()}s=s.return}if(Se=e,xe=e=Tn(e.current,null),Pe=st=t,be=0,tl=null,Cc=Ua=us=0,We=Lr=null,Vn!==null){for(t=0;t<Vn.length;t++)if(s=Vn[t],r=s.interleaved,r!==null){s.interleaved=null;var l=r.next,a=s.pending;if(a!==null){var i=a.next;a.next=l,r.next=i}s.pending=r}Vn=null}return e}function Zm(e,t){do{var s=xe;try{if(hc(),Vl.current=ya,ga){for(var r=ie.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}ga=!1}if(cs=0,we=ve=ie=null,Or=!1,Xr=0,Sc.current=null,s===null||s.return===null){be=1,tl=t,xe=null;break}e:{var a=e,i=s.return,u=s,o=t;if(t=Pe,u.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=o,p=u,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var f=qu(i);if(f!==null){f.flags&=-257,Bu(f,i,u,a,t),f.mode&1&&Uu(a,c,t),t=f,o=c;var v=t.updateQueue;if(v===null){var N=new Set;N.add(o),t.updateQueue=N}else v.add(o);break e}else{if(!(t&1)){Uu(a,c,t),Ic();break e}o=Error(F(426))}}else if(le&&u.mode&1){var w=qu(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Bu(w,i,u,a,t),uc(sr(o,u));break e}}a=o=sr(o,u),be!==4&&(be=2),Lr===null?Lr=[a]:Lr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=Rm(a,o,t);Ou(a,h);break e;case 1:u=o;var x=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(En===null||!En.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Lm(a,u,t);Ou(a,j);break e}}a=a.return}while(a!==null)}np(s)}catch(P){t=P,xe===s&&s!==null&&(xe=s=s.return);continue}break}while(!0)}function ep(){var e=va.current;return va.current=ya,e===null?ya:e}function Ic(){(be===0||be===3||be===2)&&(be=4),Se===null||!(us&268435455)&&!(Ua&268435455)||dn(Se,Pe)}function Na(e,t){var s=J;J|=2;var r=ep();(Se!==e||Pe!==t)&&($t=null,rs(e,t));do try{u0();break}catch(l){Zm(e,l)}while(!0);if(hc(),J=s,va.current=r,xe!==null)throw Error(F(261));return Se=null,Pe=0,be}function u0(){for(;xe!==null;)tp(xe)}function d0(){for(;xe!==null&&!Rf();)tp(xe)}function tp(e){var t=rp(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?np(e):xe=t,Sc.current=null}function np(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=r0(s,t),s!==null){s.flags&=32767,xe=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,xe=null;return}}else if(s=s0(s,t,st),s!==null){xe=s;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);be===0&&(be=5)}function Bn(e,t,s){var r=ee,l=ft.transition;try{ft.transition=null,ee=1,h0(e,t,s,r)}finally{ft.transition=l,ee=r}return null}function h0(e,t,s,r){do Ls();while(Nn!==null);if(J&6)throw Error(F(327));s=e.finishedWork;var l=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(Vf(e,a),e===Se&&(xe=Se=null,Pe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ml||(Ml=!0,lp(sa,function(){return Ls(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=ft.transition,ft.transition=null;var i=ee;ee=1;var u=J;J|=4,Sc.current=null,a0(e,s),Ym(s,e),zx(Ji),la=!!Yi,Ji=Yi=null,e.current=s,i0(s),Lf(),J=u,ee=i,ft.transition=a}else e.current=s;if(Ml&&(Ml=!1,Nn=e,ba=l),a=e.pendingLanes,a===0&&(En=null),$f(s.stateNode),Xe(e,he()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)l=t[s],r(l.value,{componentStack:l.stack,digest:l.digest});if(ja)throw ja=!1,e=yo,yo=null,e;return ba&1&&e.tag!==0&&Ls(),a=e.pendingLanes,a&1?e===vo?Dr++:(Dr=0,vo=e):Dr=0,Dn(),null}function Ls(){if(Nn!==null){var e=Rh(ba),t=ft.transition,s=ee;try{if(ft.transition=null,ee=16>e?16:e,Nn===null)var r=!1;else{if(e=Nn,Nn=null,ba=0,J&6)throw Error(F(331));var l=J;for(J|=4,$=e.current;$!==null;){var a=$,i=a.child;if($.flags&16){var u=a.deletions;if(u!==null){for(var o=0;o<u.length;o++){var c=u[o];for($=c;$!==null;){var p=$;switch(p.tag){case 0:case 11:case 15:Rr(8,p,a)}var d=p.child;if(d!==null)d.return=p,$=d;else for(;$!==null;){p=$;var m=p.sibling,f=p.return;if(Hm(p),p===c){$=null;break}if(m!==null){m.return=f,$=m;break}$=f}}}var v=a.alternate;if(v!==null){var N=v.child;if(N!==null){v.child=null;do{var w=N.sibling;N.sibling=null,N=w}while(N!==null)}}$=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,$=i;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Rr(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,$=h;break e}$=a.return}}var x=e.current;for($=x;$!==null;){i=$;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,$=g;else e:for(i=x;$!==null;){if(u=$,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:$a(9,u)}}catch(P){de(u,u.return,P)}if(u===i){$=null;break e}var j=u.sibling;if(j!==null){j.return=u.return,$=j;break e}$=u.return}}if(J=l,Dn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(za,e)}catch{}r=!0}return r}finally{ee=s,ft.transition=t}}return!1}function nd(e,t,s){t=sr(s,t),t=Rm(e,t,1),e=Pn(e,t,1),t=Ue(),e!==null&&(ml(e,1,t),Xe(e,t))}function de(e,t,s){if(e.tag===3)nd(e,e,s);else for(;t!==null;){if(t.tag===3){nd(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(En===null||!En.has(r))){e=sr(s,e),e=Lm(t,e,1),t=Pn(t,e,1),e=Ue(),t!==null&&(ml(t,1,e),Xe(t,e));break}}t=t.return}}function m0(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&s,Se===e&&(Pe&s)===s&&(be===4||be===3&&(Pe&130023424)===Pe&&500>he()-kc?rs(e,0):Cc|=s),Xe(e,t)}function sp(e,t){t===0&&(e.mode&1?(t=_l,_l<<=1,!(_l&130023424)&&(_l=4194304)):t=1);var s=Ue();e=Zt(e,t),e!==null&&(ml(e,t,s),Xe(e,s))}function p0(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),sp(e,s)}function f0(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(s=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),sp(e,s)}var rp;rp=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Ge=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Ge=!1,n0(e,t,s);Ge=!!(e.flags&131072)}else Ge=!1,le&&t.flags&1048576&&om(t,ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wl(e,t),e=t.pendingProps;var l=Zs(t,Oe.current);Rs(t,s),l=jc(null,t,r,e,l,s);var a=bc();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(r)?(a=!0,ua(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,fc(t),l.updater=Aa,t.stateNode=l,l._reactInternals=t,ao(t,r,e,s),t=co(null,t,r,!0,a,s)):(t.tag=0,le&&a&&oc(t),Ae(null,t,l,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Wl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=g0(r),e=jt(r,e),l){case 0:t=oo(null,t,r,e,s);break e;case 1:t=Vu(null,t,r,e,s);break e;case 11:t=Qu(null,t,r,e,s);break e;case 14:t=Ku(null,t,r,jt(r.type,e),s);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:jt(r,l),oo(e,t,r,l,s);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:jt(r,l),Vu(e,t,r,l,s);case 3:e:{if(Um(t),e===null)throw Error(F(387));r=t.pendingProps,a=t.memoizedState,l=a.element,pm(e,t),fa(t,r,null,s);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=sr(Error(F(423)),t),t=Hu(e,t,r,s,l);break e}else if(r!==l){l=sr(Error(F(424)),t),t=Hu(e,t,r,s,l);break e}else for(rt=kn(t.stateNode.containerInfo.firstChild),lt=t,le=!0,_t=null,s=hm(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(er(),r===l){t=en(e,t,s);break e}Ae(e,t,r,s)}t=t.child}return t;case 5:return fm(t),e===null&&so(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,Xi(r,l)?i=null:a!==null&&Xi(r,a)&&(t.flags|=32),$m(e,t),Ae(e,t,i,s),t.child;case 6:return e===null&&so(t),null;case 13:return qm(e,t,s);case 4:return xc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=tr(t,null,r,s):Ae(e,t,r,s),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:jt(r,l),Qu(e,t,r,l,s);case 7:return Ae(e,t,t.pendingProps,s),t.child;case 8:return Ae(e,t,t.pendingProps.children,s),t.child;case 12:return Ae(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,te(ma,r._currentValue),r._currentValue=i,a!==null)if(kt(a.value,i)){if(a.children===l.children&&!Ye.current){t=en(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){i=a.child;for(var o=u.firstContext;o!==null;){if(o.context===r){if(a.tag===1){o=Gt(-1,s&-s),o.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?o.next=o:(o.next=p.next,p.next=o),c.pending=o}}a.lanes|=s,o=a.alternate,o!==null&&(o.lanes|=s),ro(a.return,s,t),u.lanes|=s;break}o=o.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(F(341));i.lanes|=s,u=i.alternate,u!==null&&(u.lanes|=s),ro(i,s,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ae(e,t,l.children,s),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Rs(t,s),l=xt(l),r=r(l),t.flags|=1,Ae(e,t,r,s),t.child;case 14:return r=t.type,l=jt(r,t.pendingProps),l=jt(r.type,l),Ku(e,t,r,l,s);case 15:return Dm(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:jt(r,l),Wl(e,t),t.tag=1,Je(r)?(e=!0,ua(t)):e=!1,Rs(t,s),Om(t,r,l),ao(t,r,l,s),co(null,t,r,!0,e,s);case 19:return Bm(e,t,s);case 22:return Am(e,t,s)}throw Error(F(156,t.tag))};function lp(e,t){return zh(e,t)}function x0(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,s,r){return new x0(e,t,s,r)}function Tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function g0(e){if(typeof e=="function")return Tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yo)return 11;if(e===Jo)return 14}return 2}function Tn(e,t){var s=e.alternate;return s===null?(s=pt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Jl(e,t,s,r,l,a){var i=2;if(r=e,typeof e=="function")Tc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case bs:return ls(s.children,l,a,t);case Go:i=8,l|=8;break;case Ii:return e=pt(12,s,t,l|2),e.elementType=Ii,e.lanes=a,e;case Ti:return e=pt(13,s,t,l),e.elementType=Ti,e.lanes=a,e;case zi:return e=pt(19,s,t,l),e.elementType=zi,e.lanes=a,e;case fh:return qa(s,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mh:i=10;break e;case ph:i=9;break e;case Yo:i=11;break e;case Jo:i=14;break e;case on:i=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=pt(i,s,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function ls(e,t,s,r){return e=pt(7,e,r,t),e.lanes=s,e}function qa(e,t,s,r){return e=pt(22,e,r,t),e.elementType=fh,e.lanes=s,e.stateNode={isHidden:!1},e}function Si(e,t,s){return e=pt(6,e,null,t),e.lanes=s,e}function Ci(e,t,s){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function y0(e,t,s,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ai(0),this.expirationTimes=ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function zc(e,t,s,r,l,a,i,u,o){return e=new y0(e,t,s,u,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=pt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},fc(a),e}function v0(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function ap(e){if(!e)return On;e=e._reactInternals;e:{if(fs(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var s=e.type;if(Je(s))return am(e,s,t)}return t}function ip(e,t,s,r,l,a,i,u,o){return e=zc(s,r,!0,e,l,a,i,u,o),e.context=ap(null),s=e.current,r=Ue(),l=In(s),a=Gt(r,l),a.callback=t??null,Pn(s,a,l),e.current.lanes=l,ml(e,l,r),Xe(e,r),e}function Ba(e,t,s,r){var l=t.current,a=Ue(),i=In(l);return s=ap(s),t.context===null?t.context=s:t.pendingContext=s,t=Gt(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pn(l,t,i),e!==null&&(Ct(e,l,i,a),Kl(e,l,i)),i}function wa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Fc(e,t){sd(e,t),(e=e.alternate)&&sd(e,t)}function j0(){return null}var op=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mc(e){this._internalRoot=e}Qa.prototype.render=Mc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Ba(e,t,null,null)};Qa.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ds(function(){Ba(null,e,null,null)}),t[Xt]=null}};function Qa(e){this._internalRoot=e}Qa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ah();e={blockedOn:null,target:e,priority:t};for(var s=0;s<un.length&&t!==0&&t<un[s].priority;s++);un.splice(s,0,e),s===0&&Uh(e)}};function Oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rd(){}function b0(e,t,s,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var c=wa(i);a.call(c)}}var i=ip(t,r,e,0,null,!1,!1,"",rd);return e._reactRootContainer=i,e[Xt]=i.current,Hr(e.nodeType===8?e.parentNode:e),ds(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var u=r;r=function(){var c=wa(o);u.call(c)}}var o=zc(e,0,!1,null,null,!1,!1,"",rd);return e._reactRootContainer=o,e[Xt]=o.current,Hr(e.nodeType===8?e.parentNode:e),ds(function(){Ba(t,o,s,r)}),o}function Va(e,t,s,r,l){var a=s._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var u=l;l=function(){var o=wa(i);u.call(o)}}Ba(t,i,e,l)}else i=b0(s,t,e,l,r);return wa(i)}Lh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Sr(t.pendingLanes);s!==0&&(ec(t,s|1),Xe(t,he()),!(J&6)&&(rr=he()+500,Dn()))}break;case 13:ds(function(){var r=Zt(e,1);if(r!==null){var l=Ue();Ct(r,e,1,l)}}),Fc(e,1)}};tc=function(e){if(e.tag===13){var t=Zt(e,134217728);if(t!==null){var s=Ue();Ct(t,e,134217728,s)}Fc(e,134217728)}};Dh=function(e){if(e.tag===13){var t=In(e),s=Zt(e,t);if(s!==null){var r=Ue();Ct(s,e,t,r)}Fc(e,t)}};Ah=function(){return ee};$h=function(e,t){var s=ee;try{return ee=e,t()}finally{ee=s}};qi=function(e,t,s){switch(t){case"input":if(Oi(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var l=Ra(r);if(!l)throw Error(F(90));gh(r),Oi(r,l)}}}break;case"textarea":vh(e,s);break;case"select":t=s.value,t!=null&&zs(e,!!s.multiple,t,!1)}};Ch=Pc;kh=ds;var N0={usingClientEntryPoint:!1,Events:[fl,Ss,Ra,_h,Sh,Pc]},Nr={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w0={bundleType:Nr.bundleType,version:Nr.version,rendererPackageName:Nr.rendererPackageName,rendererConfig:Nr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ih(e),e===null?null:e.stateNode},findFiberByHostInstance:Nr.findFiberByHostInstance||j0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{za=Ol.inject(w0),Ot=Ol}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N0;it.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oc(t))throw Error(F(200));return v0(e,t,null,s)};it.createRoot=function(e,t){if(!Oc(e))throw Error(F(299));var s=!1,r="",l=op;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=zc(e,1,!1,null,null,s,!1,r,l),e[Xt]=t.current,Hr(e.nodeType===8?e.parentNode:e),new Mc(t)};it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Ih(t),e=e===null?null:e.stateNode,e};it.flushSync=function(e){return ds(e)};it.hydrate=function(e,t,s){if(!Ka(t))throw Error(F(200));return Va(null,e,t,!0,s)};it.hydrateRoot=function(e,t,s){if(!Oc(e))throw Error(F(405));var r=s!=null&&s.hydratedSources||null,l=!1,a="",i=op;if(s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=ip(t,null,e,1,s??null,l,!1,a,i),e[Xt]=t.current,Hr(e),r)for(e=0;e<r.length;e++)s=r[e],l=s._getVersion,l=l(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,l]:t.mutableSourceEagerHydrationData.push(s,l);return new Qa(t)};it.render=function(e,t,s){if(!Ka(t))throw Error(F(200));return Va(null,e,t,!1,s)};it.unmountComponentAtNode=function(e){if(!Ka(e))throw Error(F(40));return e._reactRootContainer?(ds(function(){Va(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};it.unstable_batchedUpdates=Pc;it.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Ka(s))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Va(e,t,s,!1,r)};it.version="18.3.1-next-f1338f8080-20240426";function cp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cp)}catch(e){console.error(e)}}cp(),ch.exports=it;var _0=ch.exports,ld=_0;Pi.createRoot=ld.createRoot,Pi.hydrateRoot=ld.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},nl.apply(this,arguments)}var wn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wn||(wn={}));const ad="popstate";function S0(e){e===void 0&&(e={});function t(r,l){let{pathname:a,search:i,hash:u}=r.location;return No("",{pathname:a,search:i,hash:u},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(r,l){return typeof l=="string"?l:_a(l)}return k0(t,s,null,e)}function oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function C0(){return Math.random().toString(36).substr(2,8)}function id(e,t){return{usr:e.state,key:e.key,idx:t}}function No(e,t,s,r){return s===void 0&&(s=null),nl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cr(t):t,{state:s,key:t&&t.key||r||C0()})}function _a(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function cr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function k0(e,t,s,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:a=!1}=r,i=l.history,u=wn.Pop,o=null,c=p();c==null&&(c=0,i.replaceState(nl({},i.state,{idx:c}),""));function p(){return(i.state||{idx:null}).idx}function d(){u=wn.Pop;let w=p(),h=w==null?null:w-c;c=w,o&&o({action:u,location:N.location,delta:h})}function m(w,h){u=wn.Push;let x=No(N.location,w,h);c=p()+1;let g=id(x,c),j=N.createHref(x);try{i.pushState(g,"",j)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;l.location.assign(j)}a&&o&&o({action:u,location:N.location,delta:1})}function f(w,h){u=wn.Replace;let x=No(N.location,w,h);c=p();let g=id(x,c),j=N.createHref(x);i.replaceState(g,"",j),a&&o&&o({action:u,location:N.location,delta:0})}function v(w){let h=l.location.origin!=="null"?l.location.origin:l.location.href,x=typeof w=="string"?w:_a(w);return x=x.replace(/ $/,"%20"),oe(h,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,h)}let N={get action(){return u},get location(){return e(l,i)},listen(w){if(o)throw new Error("A history only accepts one active listener");return l.addEventListener(ad,d),o=w,()=>{l.removeEventListener(ad,d),o=null}},createHref(w){return t(l,w)},createURL:v,encodeLocation(w){let h=v(w);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:m,replace:f,go(w){return i.go(w)}};return N}var od;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(od||(od={}));function P0(e,t,s){return s===void 0&&(s="/"),E0(e,t,s)}function E0(e,t,s,r){let l=typeof t=="string"?cr(t):t,a=lr(l.pathname||"/",s);if(a==null)return null;let i=up(e);I0(i);let u=null;for(let o=0;u==null&&o<i.length;++o){let c=U0(a);u=A0(i[o],c)}return u}function up(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let l=(a,i,u)=>{let o={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};o.relativePath.startsWith("/")&&(oe(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let c=zn([r,o.relativePath]),p=s.concat(o);a.children&&a.children.length>0&&(oe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),up(a.children,t,p,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:L0(c,a.index),routesMeta:p})};return e.forEach((a,i)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))l(a,i);else for(let o of dp(a.path))l(a,i,o)}),t}function dp(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,l=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return l?[a,""]:[a];let i=dp(r.join("/")),u=[];return u.push(...i.map(o=>o===""?a:[a,o].join("/"))),l&&u.push(...i),u.map(o=>e.startsWith("/")&&o===""?"/":o)}function I0(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:D0(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const T0=/^:[\w-]+$/,z0=3,F0=2,M0=1,O0=10,R0=-2,cd=e=>e==="*";function L0(e,t){let s=e.split("/"),r=s.length;return s.some(cd)&&(r+=R0),t&&(r+=F0),s.filter(l=>!cd(l)).reduce((l,a)=>l+(T0.test(a)?z0:a===""?M0:O0),r)}function D0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function A0(e,t,s){let{routesMeta:r}=e,l={},a="/",i=[];for(let u=0;u<r.length;++u){let o=r[u],c=u===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",d=wo({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},p),m=o.route;if(!d)return null;Object.assign(l,d.params),i.push({params:l,pathname:zn([a,d.pathname]),pathnameBase:V0(zn([a,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(a=zn([a,d.pathnameBase]))}return i}function wo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=$0(e.path,e.caseSensitive,e.end),l=t.match(s);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),u=l.slice(1);return{params:r.reduce((c,p,d)=>{let{paramName:m,isOptional:f}=p;if(m==="*"){let N=u[d]||"";i=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const v=u[d];return f&&!v?c[m]=void 0:c[m]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:i,pattern:e}}function $0(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Rc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,u,o)=>(r.push({paramName:u,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function U0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}const q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B0=e=>q0.test(e);function Q0(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:l=""}=typeof e=="string"?cr(e):e,a;if(s)if(B0(s))a=s;else{if(s.includes("//")){let i=s;s=s.replace(/\/\/+/g,"/"),Rc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+s))}s.startsWith("/")?a=ud(s.substring(1),"/"):a=ud(s,t)}else a=t;return{pathname:a,search:H0(r),hash:W0(l)}}function ud(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function ki(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K0(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Lc(e,t){let s=K0(e);return t?s.map((r,l)=>l===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Dc(e,t,s,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=cr(e):(l=nl({},e),oe(!l.pathname||!l.pathname.includes("?"),ki("?","pathname","search",l)),oe(!l.pathname||!l.pathname.includes("#"),ki("#","pathname","hash",l)),oe(!l.search||!l.search.includes("#"),ki("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,u;if(i==null)u=s;else{let d=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),d-=1;l.pathname=m.join("/")}u=d>=0?t[d]:"/"}let o=Q0(l,u),c=i&&i!=="/"&&i.endsWith("/"),p=(a||i===".")&&s.endsWith("/");return!o.pathname.endsWith("/")&&(c||p)&&(o.pathname+="/"),o}const zn=e=>e.join("/").replace(/\/\/+/g,"/"),V0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,W0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function G0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hp=["post","put","patch","delete"];new Set(hp);const Y0=["get",...hp];new Set(Y0);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},sl.apply(this,arguments)}const Ha=y.createContext(null),mp=y.createContext(null),sn=y.createContext(null),Wa=y.createContext(null),An=y.createContext({outlet:null,matches:[],isDataRoute:!1}),pp=y.createContext(null);function J0(e,t){let{relative:s}=t===void 0?{}:t;ur()||oe(!1);let{basename:r,navigator:l}=y.useContext(sn),{hash:a,pathname:i,search:u}=Ya(e,{relative:s}),o=i;return r!=="/"&&(o=i==="/"?r:zn([r,i])),l.createHref({pathname:o,search:u,hash:a})}function ur(){return y.useContext(Wa)!=null}function $n(){return ur()||oe(!1),y.useContext(Wa).location}function fp(e){y.useContext(sn).static||y.useLayoutEffect(e)}function Ga(){let{isDataRoute:e}=y.useContext(An);return e?ug():X0()}function X0(){ur()||oe(!1);let e=y.useContext(Ha),{basename:t,future:s,navigator:r}=y.useContext(sn),{matches:l}=y.useContext(An),{pathname:a}=$n(),i=JSON.stringify(Lc(l,s.v7_relativeSplatPath)),u=y.useRef(!1);return fp(()=>{u.current=!0}),y.useCallback(function(c,p){if(p===void 0&&(p={}),!u.current)return;if(typeof c=="number"){r.go(c);return}let d=Dc(c,JSON.parse(i),a,p.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:zn([t,d.pathname])),(p.replace?r.replace:r.push)(d,p.state,p)},[t,r,i,a,e])}function Ya(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=y.useContext(sn),{matches:l}=y.useContext(An),{pathname:a}=$n(),i=JSON.stringify(Lc(l,r.v7_relativeSplatPath));return y.useMemo(()=>Dc(e,JSON.parse(i),a,s==="path"),[e,i,a,s])}function Z0(e,t){return eg(e,t)}function eg(e,t,s,r){ur()||oe(!1);let{navigator:l}=y.useContext(sn),{matches:a}=y.useContext(An),i=a[a.length-1],u=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let c=$n(),p;if(t){var d;let w=typeof t=="string"?cr(t):t;o==="/"||(d=w.pathname)!=null&&d.startsWith(o)||oe(!1),p=w}else p=c;let m=p.pathname||"/",f=m;if(o!=="/"){let w=o.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=P0(e,{pathname:f}),N=lg(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:zn([o,l.encodeLocation?l.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?o:zn([o,l.encodeLocation?l.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,s,r);return t&&N?y.createElement(Wa.Provider,{value:{location:sl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:wn.Pop}},N):N}function tg(){let e=cg(),t=G0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),s?y.createElement("pre",{style:l},s):null,null)}const ng=y.createElement(tg,null);class sg extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?y.createElement(An.Provider,{value:this.props.routeContext},y.createElement(pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rg(e){let{routeContext:t,match:s,children:r}=e,l=y.useContext(Ha);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),y.createElement(An.Provider,{value:t},r)}function lg(e,t,s,r){var l;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,u=(l=s)==null?void 0:l.errors;if(u!=null){let p=i.findIndex(d=>d.route.id&&(u==null?void 0:u[d.route.id])!==void 0);p>=0||oe(!1),i=i.slice(0,Math.min(i.length,p+1))}let o=!1,c=-1;if(s&&r&&r.v7_partialHydration)for(let p=0;p<i.length;p++){let d=i[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=p),d.route.id){let{loaderData:m,errors:f}=s,v=d.route.loader&&m[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||v){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((p,d,m)=>{let f,v=!1,N=null,w=null;s&&(f=u&&d.route.id?u[d.route.id]:void 0,N=d.route.errorElement||ng,o&&(c<0&&m===0?(dg("route-fallback"),v=!0,w=null):c===m&&(v=!0,w=d.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,m+1)),x=()=>{let g;return f?g=N:v?g=w:d.route.Component?g=y.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=p,y.createElement(rg,{match:d,routeContext:{outlet:p,matches:h,isDataRoute:s!=null},children:g})};return s&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?y.createElement(sg,{location:s.location,revalidation:s.revalidation,component:N,error:f,children:x(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):x()},null)}var xp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xp||{}),gp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gp||{});function ag(e){let t=y.useContext(Ha);return t||oe(!1),t}function ig(e){let t=y.useContext(mp);return t||oe(!1),t}function og(e){let t=y.useContext(An);return t||oe(!1),t}function yp(e){let t=og(),s=t.matches[t.matches.length-1];return s.route.id||oe(!1),s.route.id}function cg(){var e;let t=y.useContext(pp),s=ig(),r=yp();return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function ug(){let{router:e}=ag(xp.UseNavigateStable),t=yp(gp.UseNavigateStable),s=y.useRef(!1);return fp(()=>{s.current=!0}),y.useCallback(function(l,a){a===void 0&&(a={}),s.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,sl({fromRouteId:t},a)))},[e,t])}const dd={};function dg(e,t,s){dd[e]||(dd[e]=!0)}function hg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mg(e){let{to:t,replace:s,state:r,relative:l}=e;ur()||oe(!1);let{future:a,static:i}=y.useContext(sn),{matches:u}=y.useContext(An),{pathname:o}=$n(),c=Ga(),p=Dc(t,Lc(u,a.v7_relativeSplatPath),o,l==="path"),d=JSON.stringify(p);return y.useEffect(()=>c(JSON.parse(d),{replace:s,state:r,relative:l}),[c,d,l,s,r]),null}function Fe(e){oe(!1)}function pg(e){let{basename:t="/",children:s=null,location:r,navigationType:l=wn.Pop,navigator:a,static:i=!1,future:u}=e;ur()&&oe(!1);let o=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:o,navigator:a,static:i,future:sl({v7_relativeSplatPath:!1},u)}),[o,u,a,i]);typeof r=="string"&&(r=cr(r));let{pathname:p="/",search:d="",hash:m="",state:f=null,key:v="default"}=r,N=y.useMemo(()=>{let w=lr(p,o);return w==null?null:{location:{pathname:w,search:d,hash:m,state:f,key:v},navigationType:l}},[o,p,d,m,f,v,l]);return N==null?null:y.createElement(sn.Provider,{value:c},y.createElement(Wa.Provider,{children:s,value:N}))}function fg(e){let{children:t,location:s}=e;return Z0(_o(t),s)}new Promise(()=>{});function _o(e,t){t===void 0&&(t=[]);let s=[];return y.Children.forEach(e,(r,l)=>{if(!y.isValidElement(r))return;let a=[...t,l];if(r.type===y.Fragment){s.push.apply(s,_o(r.props.children,a));return}r.type!==Fe&&oe(!1),!r.props.index||!r.props.children||oe(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=_o(r.props.children,a)),s.push(i)}),s}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Sa.apply(this,arguments)}function vp(e,t){if(e==null)return{};var s={},r=Object.keys(e),l,a;for(a=0;a<r.length;a++)l=r[a],!(t.indexOf(l)>=0)&&(s[l]=e[l]);return s}function xg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gg(e,t){return e.button===0&&(!t||t==="_self")&&!xg(e)}const yg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vg=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],jg="6";try{window.__reactRouterVersion=jg}catch{}const bg=y.createContext({isTransitioning:!1}),Ng="startTransition",hd=mf[Ng];function wg(e){let{basename:t,children:s,future:r,window:l}=e,a=y.useRef();a.current==null&&(a.current=S0({window:l,v5Compat:!0}));let i=a.current,[u,o]=y.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},p=y.useCallback(d=>{c&&hd?hd(()=>o(d)):o(d)},[o,c]);return y.useLayoutEffect(()=>i.listen(p),[i,p]),y.useEffect(()=>hg(r),[r]),y.createElement(pg,{basename:t,children:s,location:u.location,navigationType:u.action,navigator:i,future:r})}const _g=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cg=y.forwardRef(function(t,s){let{onClick:r,relative:l,reloadDocument:a,replace:i,state:u,target:o,to:c,preventScrollReset:p,viewTransition:d}=t,m=vp(t,yg),{basename:f}=y.useContext(sn),v,N=!1;if(typeof c=="string"&&Sg.test(c)&&(v=c,_g))try{let g=new URL(window.location.href),j=c.startsWith("//")?new URL(g.protocol+c):new URL(c),P=lr(j.pathname,f);j.origin===g.origin&&P!=null?c=P+j.search+j.hash:N=!0}catch{}let w=J0(c,{relative:l}),h=Eg(c,{replace:i,state:u,target:o,preventScrollReset:p,relative:l,viewTransition:d});function x(g){r&&r(g),g.defaultPrevented||h(g)}return y.createElement("a",Sa({},m,{href:v||w,onClick:N||a?r:x,ref:s,target:o}))}),kg=y.forwardRef(function(t,s){let{"aria-current":r="page",caseSensitive:l=!1,className:a="",end:i=!1,style:u,to:o,viewTransition:c,children:p}=t,d=vp(t,vg),m=Ya(o,{relative:d.relative}),f=$n(),v=y.useContext(mp),{navigator:N,basename:w}=y.useContext(sn),h=v!=null&&Ig(m)&&c===!0,x=N.encodeLocation?N.encodeLocation(m).pathname:m.pathname,g=f.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;l||(g=g.toLowerCase(),j=j?j.toLowerCase():null,x=x.toLowerCase()),j&&w&&(j=lr(j,w)||j);const P=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let k=g===x||!i&&g.startsWith(x)&&g.charAt(P)==="/",I=j!=null&&(j===x||!i&&j.startsWith(x)&&j.charAt(x.length)==="/"),S={isActive:k,isPending:I,isTransitioning:h},E=k?r:void 0,C;typeof a=="function"?C=a(S):C=[a,k?"active":null,I?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let _=typeof u=="function"?u(S):u;return y.createElement(Cg,Sa({},d,{"aria-current":E,className:C,ref:s,style:_,to:o,viewTransition:c}),typeof p=="function"?p(S):p)});var So;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(So||(So={}));var md;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(md||(md={}));function Pg(e){let t=y.useContext(Ha);return t||oe(!1),t}function Eg(e,t){let{target:s,replace:r,state:l,preventScrollReset:a,relative:i,viewTransition:u}=t===void 0?{}:t,o=Ga(),c=$n(),p=Ya(e,{relative:i});return y.useCallback(d=>{if(gg(d,s)){d.preventDefault();let m=r!==void 0?r:_a(c)===_a(p);o(e,{replace:m,state:l,preventScrollReset:a,relative:i,viewTransition:u})}},[c,o,p,r,l,s,e,a,i,u])}function Ig(e,t){t===void 0&&(t={});let s=y.useContext(bg);s==null&&oe(!1);let{basename:r}=Pg(So.useViewTransitionState),l=Ya(e,{relative:t.relative});if(!s.isTransitioning)return!1;let a=lr(s.currentLocation.pathname,r)||s.currentLocation.pathname,i=lr(s.nextLocation.pathname,r)||s.nextLocation.pathname;return wo(l.pathname,i)!=null||wo(l.pathname,a)!=null}var dr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tg={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},hn,Uo,$d,zg=($d=class{constructor(){U(this,hn,Tg);U(this,Uo,!1)}setTimeoutProvider(e){D(this,hn,e)}setTimeout(e,t){return b(this,hn).setTimeout(e,t)}clearTimeout(e){b(this,hn).clearTimeout(e)}setInterval(e,t){return b(this,hn).setInterval(e,t)}clearInterval(e){b(this,hn).clearInterval(e)}},hn=new WeakMap,Uo=new WeakMap,$d),Wn=new zg;function Fg(e){setTimeout(e,0)}var hs=typeof window>"u"||"Deno"in globalThis;function $e(){}function Mg(e,t){return typeof e=="function"?e(t):e}function Co(e){return typeof e=="number"&&e>=0&&e!==1/0}function jp(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fn(e,t){return typeof e=="function"?e(t):e}function ut(e,t){return typeof e=="function"?e(t):e}function pd(e,t){const{type:s="all",exact:r,fetchStatus:l,predicate:a,queryKey:i,stale:u}=e;if(i){if(r){if(t.queryHash!==Ac(i,t.options))return!1}else if(!rl(t.queryKey,i))return!1}if(s!=="all"){const o=t.isActive();if(s==="active"&&!o||s==="inactive"&&o)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||l&&l!==t.state.fetchStatus||a&&!a(t))}function fd(e,t){const{exact:s,status:r,predicate:l,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(ms(t.options.mutationKey)!==ms(a))return!1}else if(!rl(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||l&&!l(t))}function Ac(e,t){return((t==null?void 0:t.queryKeyHashFn)||ms)(e)}function ms(e){return JSON.stringify(e,(t,s)=>ko(s)?Object.keys(s).sort().reduce((r,l)=>(r[l]=s[l],r),{}):s)}function rl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>rl(e[s],t[s])):!1}var Og=Object.prototype.hasOwnProperty;function bp(e,t){if(e===t)return e;const s=xd(e)&&xd(t);if(!s&&!(ko(e)&&ko(t)))return t;const l=(s?e:Object.keys(e)).length,a=s?t:Object.keys(t),i=a.length,u=s?new Array(i):{};let o=0;for(let c=0;c<i;c++){const p=s?c:a[c],d=e[p],m=t[p];if(d===m){u[p]=d,(s?c<l:Og.call(e,p))&&o++;continue}if(d===null||m===null||typeof d!="object"||typeof m!="object"){u[p]=m;continue}const f=bp(d,m);u[p]=f,f===d&&o++}return l===i&&o===l?e:u}function Ca(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function xd(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ko(e){if(!gd(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!gd(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function gd(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rg(e){return new Promise(t=>{Wn.setTimeout(t,e)})}function Po(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?bp(e,t):t}function Lg(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function Dg(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var $c=Symbol();function Np(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$c?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function wp(e,t){return typeof e=="function"?e(...t):!!e}var Gn,mn,$s,Ud,Ag=(Ud=class extends dr{constructor(){super();U(this,Gn);U(this,mn);U(this,$s);D(this,$s,t=>{if(!hs&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){b(this,mn)||this.setEventListener(b(this,$s))}onUnsubscribe(){var t;this.hasListeners()||((t=b(this,mn))==null||t.call(this),D(this,mn,void 0))}setEventListener(t){var s;D(this,$s,t),(s=b(this,mn))==null||s.call(this),D(this,mn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){b(this,Gn)!==t&&(D(this,Gn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof b(this,Gn)=="boolean"?b(this,Gn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gn=new WeakMap,mn=new WeakMap,$s=new WeakMap,Ud),Uc=new Ag;function Eo(){let e,t;const s=new Promise((l,a)=>{e=l,t=a});s.status="pending",s.catch(()=>{});function r(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{r({status:"fulfilled",value:l}),e(l)},s.reject=l=>{r({status:"rejected",reason:l}),t(l)},s}var $g=Fg;function Ug(){let e=[],t=0,s=u=>{u()},r=u=>{u()},l=$g;const a=u=>{t?e.push(u):l(()=>{s(u)})},i=()=>{const u=e;e=[],u.length&&l(()=>{r(()=>{u.forEach(o=>{s(o)})})})};return{batch:u=>{let o;t++;try{o=u()}finally{t--,t||i()}return o},batchCalls:u=>(...o)=>{a(()=>{u(...o)})},schedule:a,setNotifyFunction:u=>{s=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{l=u}}}var je=Ug(),Us,pn,qs,qd,qg=(qd=class extends dr{constructor(){super();U(this,Us,!0);U(this,pn);U(this,qs);D(this,qs,t=>{if(!hs&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){b(this,pn)||this.setEventListener(b(this,qs))}onUnsubscribe(){var t;this.hasListeners()||((t=b(this,pn))==null||t.call(this),D(this,pn,void 0))}setEventListener(t){var s;D(this,qs,t),(s=b(this,pn))==null||s.call(this),D(this,pn,t(this.setOnline.bind(this)))}setOnline(t){b(this,Us)!==t&&(D(this,Us,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return b(this,Us)}},Us=new WeakMap,pn=new WeakMap,qs=new WeakMap,qd),ka=new qg;function Bg(e){return Math.min(1e3*2**e,3e4)}function _p(e){return(e??"online")==="online"?ka.isOnline():!0}var Io=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Sp(e){let t=!1,s=0,r;const l=Eo(),a=()=>l.status!=="pending",i=N=>{var w;if(!a()){const h=new Io(N);m(h),(w=e.onCancel)==null||w.call(e,h)}},u=()=>{t=!0},o=()=>{t=!1},c=()=>Uc.isFocused()&&(e.networkMode==="always"||ka.isOnline())&&e.canRun(),p=()=>_p(e.networkMode)&&e.canRun(),d=N=>{a()||(r==null||r(),l.resolve(N))},m=N=>{a()||(r==null||r(),l.reject(N))},f=()=>new Promise(N=>{var w;r=h=>{(a()||c())&&N(h)},(w=e.onPause)==null||w.call(e)}).then(()=>{var N;r=void 0,a()||(N=e.onContinue)==null||N.call(e)}),v=()=>{if(a())return;let N;const w=s===0?e.initialPromise:void 0;try{N=w??e.fn()}catch(h){N=Promise.reject(h)}Promise.resolve(N).then(d).catch(h=>{var k;if(a())return;const x=e.retry??(hs?0:3),g=e.retryDelay??Bg,j=typeof g=="function"?g(s,h):g,P=x===!0||typeof x=="number"&&s<x||typeof x=="function"&&x(s,h);if(t||!P){m(h);return}s++,(k=e.onFail)==null||k.call(e,s,h),Rg(j).then(()=>c()?void 0:f()).then(()=>{t?m(h):v()})})};return{promise:l,status:()=>l.status,cancel:i,continue:()=>(r==null||r(),l),cancelRetry:u,continueRetry:o,canStart:p,start:()=>(p()?v():f().then(v),l)}}var Yn,Bd,Cp=(Bd=class{constructor(){U(this,Yn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Co(this.gcTime)&&D(this,Yn,Wn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hs?1/0:5*60*1e3))}clearGcTimeout(){b(this,Yn)&&(Wn.clearTimeout(b(this,Yn)),D(this,Yn,void 0))}},Yn=new WeakMap,Bd),Jn,Bs,ct,Xn,Ne,il,Zn,bt,At,Qd,Qg=(Qd=class extends Cp{constructor(t){super();U(this,bt);U(this,Jn);U(this,Bs);U(this,ct);U(this,Xn);U(this,Ne);U(this,il);U(this,Zn);D(this,Zn,!1),D(this,il,t.defaultOptions),this.setOptions(t.options),this.observers=[],D(this,Xn,t.client),D(this,ct,b(this,Xn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,D(this,Jn,vd(this.options)),this.state=t.state??b(this,Jn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=b(this,Ne))==null?void 0:t.promise}setOptions(t){if(this.options={...b(this,il),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=vd(this.options);s.data!==void 0&&(this.setState(yd(s.data,s.dataUpdatedAt)),D(this,Jn,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&b(this,ct).remove(this)}setData(t,s){const r=Po(this.state.data,t,this.options);return V(this,bt,At).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){V(this,bt,At).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,l;const s=(r=b(this,Ne))==null?void 0:r.promise;return(l=b(this,Ne))==null||l.cancel(t),s?s.then($e).catch($e):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(b(this,Jn))}isActive(){return this.observers.some(t=>ut(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$c||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Fn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!jp(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=b(this,Ne))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=b(this,Ne))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),b(this,ct).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(b(this,Ne)&&(b(this,Zn)?b(this,Ne).cancel({revert:!0}):b(this,Ne).cancelRetry()),this.scheduleGc()),b(this,ct).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||V(this,bt,At).call(this,{type:"invalidate"})}async fetch(t,s){var o,c,p,d,m,f,v,N,w,h,x,g;if(this.state.fetchStatus!=="idle"&&((o=b(this,Ne))==null?void 0:o.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(b(this,Ne))return b(this,Ne).continueRetry(),b(this,Ne).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(P=>P.options.queryFn);j&&this.setOptions(j.options)}const r=new AbortController,l=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(D(this,Zn,!0),r.signal)})},a=()=>{const j=Np(this.options,s),k=(()=>{const I={client:b(this,Xn),queryKey:this.queryKey,meta:this.meta};return l(I),I})();return D(this,Zn,!1),this.options.persister?this.options.persister(j,k,this):j(k)},u=(()=>{const j={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:b(this,Xn),state:this.state,fetchFn:a};return l(j),j})();(c=this.options.behavior)==null||c.onFetch(u,this),D(this,Bs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&V(this,bt,At).call(this,{type:"fetch",meta:(d=u.fetchOptions)==null?void 0:d.meta}),D(this,Ne,Sp({initialPromise:s==null?void 0:s.initialPromise,fn:u.fetchFn,onCancel:j=>{j instanceof Io&&j.revert&&this.setState({...b(this,Bs),fetchStatus:"idle"}),r.abort()},onFail:(j,P)=>{V(this,bt,At).call(this,{type:"failed",failureCount:j,error:P})},onPause:()=>{V(this,bt,At).call(this,{type:"pause"})},onContinue:()=>{V(this,bt,At).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const j=await b(this,Ne).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(f=(m=b(this,ct).config).onSuccess)==null||f.call(m,j,this),(N=(v=b(this,ct).config).onSettled)==null||N.call(v,j,this.state.error,this),j}catch(j){if(j instanceof Io){if(j.silent)return b(this,Ne).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw V(this,bt,At).call(this,{type:"error",error:j}),(h=(w=b(this,ct).config).onError)==null||h.call(w,j,this),(g=(x=b(this,ct).config).onSettled)==null||g.call(x,this.state.data,j,this),j}finally{this.scheduleGc()}}},Jn=new WeakMap,Bs=new WeakMap,ct=new WeakMap,Xn=new WeakMap,Ne=new WeakMap,il=new WeakMap,Zn=new WeakMap,bt=new WeakSet,At=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...kp(r.data,this.options),fetchMeta:t.meta??null};case"success":const l={...r,...yd(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return D(this,Bs,t.manual?l:void 0),l;case"error":const a=t.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),je.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),b(this,ct).notify({query:this,type:"updated",action:t})})},Qd);function kp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_p(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function yd(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function vd(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Ve,Y,ol,Le,es,Qs,Bt,fn,cl,Ks,Vs,ts,ns,xn,Hs,Z,kr,To,zo,Fo,Mo,Oo,Ro,Lo,Pp,Kd,Kg=(Kd=class extends dr{constructor(t,s){super();U(this,Z);U(this,Ve);U(this,Y);U(this,ol);U(this,Le);U(this,es);U(this,Qs);U(this,Bt);U(this,fn);U(this,cl);U(this,Ks);U(this,Vs);U(this,ts);U(this,ns);U(this,xn);U(this,Hs,new Set);this.options=s,D(this,Ve,t),D(this,fn,null),D(this,Bt,Eo()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(b(this,Y).addObserver(this),jd(b(this,Y),this.options)?V(this,Z,kr).call(this):this.updateResult(),V(this,Z,Mo).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Do(b(this,Y),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Do(b(this,Y),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,V(this,Z,Oo).call(this),V(this,Z,Ro).call(this),b(this,Y).removeObserver(this)}setOptions(t){const s=this.options,r=b(this,Y);if(this.options=b(this,Ve).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ut(this.options.enabled,b(this,Y))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");V(this,Z,Lo).call(this),b(this,Y).setOptions(this.options),s._defaulted&&!Ca(this.options,s)&&b(this,Ve).getQueryCache().notify({type:"observerOptionsUpdated",query:b(this,Y),observer:this});const l=this.hasListeners();l&&bd(b(this,Y),r,this.options,s)&&V(this,Z,kr).call(this),this.updateResult(),l&&(b(this,Y)!==r||ut(this.options.enabled,b(this,Y))!==ut(s.enabled,b(this,Y))||Fn(this.options.staleTime,b(this,Y))!==Fn(s.staleTime,b(this,Y)))&&V(this,Z,To).call(this);const a=V(this,Z,zo).call(this);l&&(b(this,Y)!==r||ut(this.options.enabled,b(this,Y))!==ut(s.enabled,b(this,Y))||a!==b(this,xn))&&V(this,Z,Fo).call(this,a)}getOptimisticResult(t){const s=b(this,Ve).getQueryCache().build(b(this,Ve),t),r=this.createResult(s,t);return Hg(this,r)&&(D(this,Le,r),D(this,Qs,this.options),D(this,es,b(this,Y).state)),r}getCurrentResult(){return b(this,Le)}trackResult(t,s){return new Proxy(t,{get:(r,l)=>(this.trackProp(l),s==null||s(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&b(this,Bt).status==="pending"&&b(this,Bt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,l))})}trackProp(t){b(this,Hs).add(t)}getCurrentQuery(){return b(this,Y)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=b(this,Ve).defaultQueryOptions(t),r=b(this,Ve).getQueryCache().build(b(this,Ve),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return V(this,Z,kr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),b(this,Le)))}createResult(t,s){var E;const r=b(this,Y),l=this.options,a=b(this,Le),i=b(this,es),u=b(this,Qs),c=t!==r?t.state:b(this,ol),{state:p}=t;let d={...p},m=!1,f;if(s._optimisticResults){const C=this.hasListeners(),_=!C&&jd(t,s),M=C&&bd(t,r,s,l);(_||M)&&(d={...d,...kp(p.data,t.options)}),s._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:N,status:w}=d;f=d.data;let h=!1;if(s.placeholderData!==void 0&&f===void 0&&w==="pending"){let C;a!=null&&a.isPlaceholderData&&s.placeholderData===(u==null?void 0:u.placeholderData)?(C=a.data,h=!0):C=typeof s.placeholderData=="function"?s.placeholderData((E=b(this,Vs))==null?void 0:E.state.data,b(this,Vs)):s.placeholderData,C!==void 0&&(w="success",f=Po(a==null?void 0:a.data,C,s),m=!0)}if(s.select&&f!==void 0&&!h)if(a&&f===(i==null?void 0:i.data)&&s.select===b(this,cl))f=b(this,Ks);else try{D(this,cl,s.select),f=s.select(f),f=Po(a==null?void 0:a.data,f,s),D(this,Ks,f),D(this,fn,null)}catch(C){D(this,fn,C)}b(this,fn)&&(v=b(this,fn),f=b(this,Ks),N=Date.now(),w="error");const x=d.fetchStatus==="fetching",g=w==="pending",j=w==="error",P=g&&x,k=f!==void 0,S={status:w,fetchStatus:d.fetchStatus,isPending:g,isSuccess:w==="success",isError:j,isInitialLoading:P,isLoading:P,data:f,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:N,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!g,isLoadingError:j&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&k,isStale:qc(t,s),refetch:this.refetch,promise:b(this,Bt),isEnabled:ut(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=q=>{S.status==="error"?q.reject(S.error):S.data!==void 0&&q.resolve(S.data)},_=()=>{const q=D(this,Bt,S.promise=Eo());C(q)},M=b(this,Bt);switch(M.status){case"pending":t.queryHash===r.queryHash&&C(M);break;case"fulfilled":(S.status==="error"||S.data!==M.value)&&_();break;case"rejected":(S.status!=="error"||S.error!==M.reason)&&_();break}}return S}updateResult(){const t=b(this,Le),s=this.createResult(b(this,Y),this.options);if(D(this,es,b(this,Y).state),D(this,Qs,this.options),b(this,es).data!==void 0&&D(this,Vs,b(this,Y)),Ca(s,t))return;D(this,Le,s);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,a=typeof l=="function"?l():l;if(a==="all"||!a&&!b(this,Hs).size)return!0;const i=new Set(a??b(this,Hs));return this.options.throwOnError&&i.add("error"),Object.keys(b(this,Le)).some(u=>{const o=u;return b(this,Le)[o]!==t[o]&&i.has(o)})};V(this,Z,Pp).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&V(this,Z,Mo).call(this)}},Ve=new WeakMap,Y=new WeakMap,ol=new WeakMap,Le=new WeakMap,es=new WeakMap,Qs=new WeakMap,Bt=new WeakMap,fn=new WeakMap,cl=new WeakMap,Ks=new WeakMap,Vs=new WeakMap,ts=new WeakMap,ns=new WeakMap,xn=new WeakMap,Hs=new WeakMap,Z=new WeakSet,kr=function(t){V(this,Z,Lo).call(this);let s=b(this,Y).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch($e)),s},To=function(){V(this,Z,Oo).call(this);const t=Fn(this.options.staleTime,b(this,Y));if(hs||b(this,Le).isStale||!Co(t))return;const r=jp(b(this,Le).dataUpdatedAt,t)+1;D(this,ts,Wn.setTimeout(()=>{b(this,Le).isStale||this.updateResult()},r))},zo=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(b(this,Y)):this.options.refetchInterval)??!1},Fo=function(t){V(this,Z,Ro).call(this),D(this,xn,t),!(hs||ut(this.options.enabled,b(this,Y))===!1||!Co(b(this,xn))||b(this,xn)===0)&&D(this,ns,Wn.setInterval(()=>{(this.options.refetchIntervalInBackground||Uc.isFocused())&&V(this,Z,kr).call(this)},b(this,xn)))},Mo=function(){V(this,Z,To).call(this),V(this,Z,Fo).call(this,V(this,Z,zo).call(this))},Oo=function(){b(this,ts)&&(Wn.clearTimeout(b(this,ts)),D(this,ts,void 0))},Ro=function(){b(this,ns)&&(Wn.clearInterval(b(this,ns)),D(this,ns,void 0))},Lo=function(){const t=b(this,Ve).getQueryCache().build(b(this,Ve),this.options);if(t===b(this,Y))return;const s=b(this,Y);D(this,Y,t),D(this,ol,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Pp=function(t){je.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(b(this,Le))}),b(this,Ve).getQueryCache().notify({query:b(this,Y),type:"observerResultsUpdated"})})},Kd);function Vg(e,t){return ut(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function jd(e,t){return Vg(e,t)||e.state.data!==void 0&&Do(e,t,t.refetchOnMount)}function Do(e,t,s){if(ut(t.enabled,e)!==!1&&Fn(t.staleTime,e)!=="static"){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&qc(e,t)}return!1}function bd(e,t,s,r){return(e!==t||ut(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&qc(e,s)}function qc(e,t){return ut(t.enabled,e)!==!1&&e.isStaleByTime(Fn(t.staleTime,e))}function Hg(e,t){return!Ca(e.getCurrentResult(),t)}function Nd(e){return{onFetch:(t,s)=>{var p,d,m,f,v;const r=t.options,l=(m=(d=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:d.fetchMore)==null?void 0:m.direction,a=((f=t.state.data)==null?void 0:f.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let u={pages:[],pageParams:[]},o=0;const c=async()=>{let N=!1;const w=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?N=!0:t.signal.addEventListener("abort",()=>{N=!0}),t.signal)})},h=Np(t.options,t.fetchOptions),x=async(g,j,P)=>{if(N)return Promise.reject();if(j==null&&g.pages.length)return Promise.resolve(g);const I=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:j,direction:P?"backward":"forward",meta:t.options.meta};return w(_),_})(),S=await h(I),{maxPages:E}=t.options,C=P?Dg:Lg;return{pages:C(g.pages,S,E),pageParams:C(g.pageParams,j,E)}};if(l&&a.length){const g=l==="backward",j=g?Wg:wd,P={pages:a,pageParams:i},k=j(r,P);u=await x(P,k,g)}else{const g=e??a.length;do{const j=o===0?i[0]??r.initialPageParam:wd(r,u);if(o>0&&j==null)break;u=await x(u,j),o++}while(o<g)}return u};t.options.persister?t.fetchFn=()=>{var N,w;return(w=(N=t.options).persister)==null?void 0:w.call(N,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=c}}}function wd(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function Wg(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var ul,Tt,De,ss,zt,an,Vd,Gg=(Vd=class extends Cp{constructor(t){super();U(this,zt);U(this,ul);U(this,Tt);U(this,De);U(this,ss);D(this,ul,t.client),this.mutationId=t.mutationId,D(this,De,t.mutationCache),D(this,Tt,[]),this.state=t.state||Ep(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){b(this,Tt).includes(t)||(b(this,Tt).push(t),this.clearGcTimeout(),b(this,De).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){D(this,Tt,b(this,Tt).filter(s=>s!==t)),this.scheduleGc(),b(this,De).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){b(this,Tt).length||(this.state.status==="pending"?this.scheduleGc():b(this,De).remove(this))}continue(){var t;return((t=b(this,ss))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,u,o,c,p,d,m,f,v,N,w,h,x,g,j,P,k,I,S,E;const s=()=>{V(this,zt,an).call(this,{type:"continue"})},r={client:b(this,ul),meta:this.options.meta,mutationKey:this.options.mutationKey};D(this,ss,Sp({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(C,_)=>{V(this,zt,an).call(this,{type:"failed",failureCount:C,error:_})},onPause:()=>{V(this,zt,an).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>b(this,De).canRun(this)}));const l=this.state.status==="pending",a=!b(this,ss).canStart();try{if(l)s();else{V(this,zt,an).call(this,{type:"pending",variables:t,isPaused:a}),await((u=(i=b(this,De).config).onMutate)==null?void 0:u.call(i,t,this,r));const _=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t,r));_!==this.state.context&&V(this,zt,an).call(this,{type:"pending",context:_,variables:t,isPaused:a})}const C=await b(this,ss).start();return await((d=(p=b(this,De).config).onSuccess)==null?void 0:d.call(p,C,t,this.state.context,this,r)),await((f=(m=this.options).onSuccess)==null?void 0:f.call(m,C,t,this.state.context,r)),await((N=(v=b(this,De).config).onSettled)==null?void 0:N.call(v,C,null,this.state.variables,this.state.context,this,r)),await((h=(w=this.options).onSettled)==null?void 0:h.call(w,C,null,t,this.state.context,r)),V(this,zt,an).call(this,{type:"success",data:C}),C}catch(C){try{throw await((g=(x=b(this,De).config).onError)==null?void 0:g.call(x,C,t,this.state.context,this,r)),await((P=(j=this.options).onError)==null?void 0:P.call(j,C,t,this.state.context,r)),await((I=(k=b(this,De).config).onSettled)==null?void 0:I.call(k,void 0,C,this.state.variables,this.state.context,this,r)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,C,t,this.state.context,r)),C}finally{V(this,zt,an).call(this,{type:"error",error:C})}}finally{b(this,De).runNext(this)}}},ul=new WeakMap,Tt=new WeakMap,De=new WeakMap,ss=new WeakMap,zt=new WeakSet,an=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),je.batch(()=>{b(this,Tt).forEach(r=>{r.onMutationUpdate(t)}),b(this,De).notify({mutation:this,type:"updated",action:t})})},Vd);function Ep(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qt,Nt,dl,Hd,Yg=(Hd=class extends dr{constructor(t={}){super();U(this,Qt);U(this,Nt);U(this,dl);this.config=t,D(this,Qt,new Set),D(this,Nt,new Map),D(this,dl,0)}build(t,s,r){const l=new Gg({client:t,mutationCache:this,mutationId:++yl(this,dl)._,options:t.defaultMutationOptions(s),state:r});return this.add(l),l}add(t){b(this,Qt).add(t);const s=Rl(t);if(typeof s=="string"){const r=b(this,Nt).get(s);r?r.push(t):b(this,Nt).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(b(this,Qt).delete(t)){const s=Rl(t);if(typeof s=="string"){const r=b(this,Nt).get(s);if(r)if(r.length>1){const l=r.indexOf(t);l!==-1&&r.splice(l,1)}else r[0]===t&&b(this,Nt).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Rl(t);if(typeof s=="string"){const r=b(this,Nt).get(s),l=r==null?void 0:r.find(a=>a.state.status==="pending");return!l||l===t}else return!0}runNext(t){var r;const s=Rl(t);if(typeof s=="string"){const l=(r=b(this,Nt).get(s))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){je.batch(()=>{b(this,Qt).forEach(t=>{this.notify({type:"removed",mutation:t})}),b(this,Qt).clear(),b(this,Nt).clear()})}getAll(){return Array.from(b(this,Qt))}find(t){const s={exact:!0,...t};return this.getAll().find(r=>fd(s,r))}findAll(t={}){return this.getAll().filter(s=>fd(t,s))}notify(t){je.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return je.batch(()=>Promise.all(t.map(s=>s.continue().catch($e))))}},Qt=new WeakMap,Nt=new WeakMap,dl=new WeakMap,Hd);function Rl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Kt,gn,He,Vt,Yt,Xl,Ao,Wd,Jg=(Wd=class extends dr{constructor(s,r){super();U(this,Yt);U(this,Kt);U(this,gn);U(this,He);U(this,Vt);D(this,Kt,s),this.setOptions(r),this.bindMethods(),V(this,Yt,Xl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var l;const r=this.options;this.options=b(this,Kt).defaultMutationOptions(s),Ca(this.options,r)||b(this,Kt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:b(this,He),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ms(r.mutationKey)!==ms(this.options.mutationKey)?this.reset():((l=b(this,He))==null?void 0:l.state.status)==="pending"&&b(this,He).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=b(this,He))==null||s.removeObserver(this)}onMutationUpdate(s){V(this,Yt,Xl).call(this),V(this,Yt,Ao).call(this,s)}getCurrentResult(){return b(this,gn)}reset(){var s;(s=b(this,He))==null||s.removeObserver(this),D(this,He,void 0),V(this,Yt,Xl).call(this),V(this,Yt,Ao).call(this)}mutate(s,r){var l;return D(this,Vt,r),(l=b(this,He))==null||l.removeObserver(this),D(this,He,b(this,Kt).getMutationCache().build(b(this,Kt),this.options)),b(this,He).addObserver(this),b(this,He).execute(s)}},Kt=new WeakMap,gn=new WeakMap,He=new WeakMap,Vt=new WeakMap,Yt=new WeakSet,Xl=function(){var r;const s=((r=b(this,He))==null?void 0:r.state)??Ep();D(this,gn,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Ao=function(s){je.batch(()=>{var r,l,a,i,u,o,c,p;if(b(this,Vt)&&this.hasListeners()){const d=b(this,gn).variables,m=b(this,gn).context,f={client:b(this,Kt),meta:this.options.meta,mutationKey:this.options.mutationKey};(s==null?void 0:s.type)==="success"?((l=(r=b(this,Vt)).onSuccess)==null||l.call(r,s.data,d,m,f),(i=(a=b(this,Vt)).onSettled)==null||i.call(a,s.data,null,d,m,f)):(s==null?void 0:s.type)==="error"&&((o=(u=b(this,Vt)).onError)==null||o.call(u,s.error,d,m,f),(p=(c=b(this,Vt)).onSettled)==null||p.call(c,void 0,s.error,d,m,f))}this.listeners.forEach(d=>{d(b(this,gn))})})},Wd),Ft,Gd,Xg=(Gd=class extends dr{constructor(t={}){super();U(this,Ft);this.config=t,D(this,Ft,new Map)}build(t,s,r){const l=s.queryKey,a=s.queryHash??Ac(l,s);let i=this.get(a);return i||(i=new Qg({client:t,queryKey:l,queryHash:a,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(l)}),this.add(i)),i}add(t){b(this,Ft).has(t.queryHash)||(b(this,Ft).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=b(this,Ft).get(t.queryHash);s&&(t.destroy(),s===t&&b(this,Ft).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){je.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return b(this,Ft).get(t)}getAll(){return[...b(this,Ft).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>pd(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>pd(t,r)):s}notify(t){je.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){je.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){je.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ft=new WeakMap,Gd),ue,yn,vn,Ws,Gs,jn,Ys,Js,Yd,Zg=(Yd=class{constructor(e={}){U(this,ue);U(this,yn);U(this,vn);U(this,Ws);U(this,Gs);U(this,jn);U(this,Ys);U(this,Js);D(this,ue,e.queryCache||new Xg),D(this,yn,e.mutationCache||new Yg),D(this,vn,e.defaultOptions||{}),D(this,Ws,new Map),D(this,Gs,new Map),D(this,jn,0)}mount(){yl(this,jn)._++,b(this,jn)===1&&(D(this,Ys,Uc.subscribe(async e=>{e&&(await this.resumePausedMutations(),b(this,ue).onFocus())})),D(this,Js,ka.subscribe(async e=>{e&&(await this.resumePausedMutations(),b(this,ue).onOnline())})))}unmount(){var e,t;yl(this,jn)._--,b(this,jn)===0&&((e=b(this,Ys))==null||e.call(this),D(this,Ys,void 0),(t=b(this,Js))==null||t.call(this),D(this,Js,void 0))}isFetching(e){return b(this,ue).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return b(this,yn).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=b(this,ue).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=b(this,ue).build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Fn(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return b(this,ue).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),l=b(this,ue).get(r.queryHash),a=l==null?void 0:l.state.data,i=Mg(t,a);if(i!==void 0)return b(this,ue).build(this,r).setData(i,{...s,manual:!0})}setQueriesData(e,t,s){return je.batch(()=>b(this,ue).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=b(this,ue).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=b(this,ue);je.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=b(this,ue);return je.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=je.batch(()=>b(this,ue).findAll(e).map(l=>l.cancel(s)));return Promise.all(r).then($e).catch($e)}invalidateQueries(e,t={}){return je.batch(()=>(b(this,ue).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=je.batch(()=>b(this,ue).findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let a=l.fetch(void 0,s);return s.throwOnError||(a=a.catch($e)),l.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then($e)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=b(this,ue).build(this,t);return s.isStaleByTime(Fn(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($e).catch($e)}fetchInfiniteQuery(e){return e.behavior=Nd(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($e).catch($e)}ensureInfiniteQueryData(e){return e.behavior=Nd(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ka.isOnline()?b(this,yn).resumePausedMutations():Promise.resolve()}getQueryCache(){return b(this,ue)}getMutationCache(){return b(this,yn)}getDefaultOptions(){return b(this,vn)}setDefaultOptions(e){D(this,vn,e)}setQueryDefaults(e,t){b(this,Ws).set(ms(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...b(this,Ws).values()],s={};return t.forEach(r=>{rl(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){b(this,Gs).set(ms(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...b(this,Gs).values()],s={};return t.forEach(r=>{rl(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...b(this,vn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ac(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$c&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...b(this,vn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){b(this,ue).clear(),b(this,yn).clear()}},ue=new WeakMap,yn=new WeakMap,vn=new WeakMap,Ws=new WeakMap,Gs=new WeakMap,jn=new WeakMap,Ys=new WeakMap,Js=new WeakMap,Yd),Ip=y.createContext(void 0),tt=e=>{const t=y.useContext(Ip);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ey=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Ip.Provider,{value:e,children:t})),Tp=y.createContext(!1),ty=()=>y.useContext(Tp);Tp.Provider;function ny(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sy=y.createContext(ny()),ry=()=>y.useContext(sy),ly=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ay=e=>{y.useEffect(()=>{e.clearReset()},[e])},iy=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(l&&e.data===void 0||wp(s,[e.error,r])),oy=e=>{if(e.suspense){const s=l=>l==="static"?l:Math.max(l??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...l)=>s(r(...l)):s(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},cy=(e,t)=>e.isLoading&&e.isFetching&&!t,uy=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,_d=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function dy(e,t,s){var d,m,f,v,N;const r=ty(),l=ry(),a=tt(),i=a.defaultQueryOptions(e);(m=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||m.call(d,i),i._optimisticResults=r?"isRestoring":"optimistic",oy(i),ly(i,l),ay(l);const u=!a.getQueryCache().get(i.queryHash),[o]=y.useState(()=>new t(a,i)),c=o.getOptimisticResult(i),p=!r&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(w=>{const h=p?o.subscribe(je.batchCalls(w)):$e;return o.updateResult(),h},[o,p]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),y.useEffect(()=>{o.setOptions(i)},[i,o]),uy(i,c))throw _d(i,o,l);if(iy({result:c,errorResetBoundary:l,throwOnError:i.throwOnError,query:a.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw c.error;if((v=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||v.call(f,i,c),i.experimental_prefetchInRender&&!hs&&cy(c,r)){const w=u?_d(i,o,l):(N=a.getQueryCache().get(i.queryHash))==null?void 0:N.promise;w==null||w.catch($e).finally(()=>{o.updateResult()})}return i.notifyOnChangeProps?c:o.trackResult(c)}function H(e,t){return dy(e,Kg)}function ge(e,t){const s=tt(),[r]=y.useState(()=>new Jg(s,e));y.useEffect(()=>{r.setOptions(e)},[r,e]);const l=y.useSyncExternalStore(y.useCallback(i=>r.subscribe(je.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=y.useCallback((i,u)=>{r.mutate(i,u).catch($e)},[r]);if(l.error&&wp(r.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:a,mutateAsync:l.mutate}}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(e,t)=>{const s=y.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:u="",children:o,...c},p)=>y.createElement("svg",{ref:p,...hy,width:l,height:l,stroke:r,strokeWidth:i?Number(a)*24/Number(l):a,className:["lucide",`lucide-${my(e)}`,u].join(" "),...c},[...t.map(([d,m])=>y.createElement(d,m)),...Array.isArray(o)?o:[o]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=B("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=B("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=B("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=B("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=B("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=B("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=B("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=B("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=B("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=B("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=B("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=B("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=B("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=B("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=B("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=B("MinusSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=B("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=B("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=B("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=B("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=B("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=B("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=B("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=B("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=B("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=B("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=B("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=B("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=B("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ey=()=>typeof import.meta<"u"?"https://card-inventory-production.up.railway.app/api":"http://localhost:8000/api",Ea=Ey();function Ce(e){const t=new URLSearchParams;Object.entries(e).forEach(([r,l])=>{l!=null&&l!==""&&t.append(r,String(l))});const s=t.toString();return s?`?${s}`:""}function Iy(e){const t={};e&&(t["Content-Type"]=e);const s=Fy();return s&&(t.Authorization=`Bearer ${s}`),t}async function qp(e){if(e.status===401)throw localStorage.removeItem("idgas_token"),window.location.href="/login",new Error("Session expired. Please log in again.");if(!e.ok){const t=await e.json().catch(()=>({detail:"Request failed"}));throw new Error(t.detail||`HTTP ${e.status}`)}if(e.status!==204)return e.json()}async function z(e,t={}){const s=`${Ea}${e}`,r=await fetch(s,{...t,headers:{...Iy(t.body instanceof FormData?void 0:"application/json"),...t.headers}});return qp(r)}async function mt(e){return z(e,{method:"GET"})}async function Ia(e,t){return z(e,{method:"POST",body:t?JSON.stringify(t):void 0})}async function Ty(e,t){return z(e,{method:"PATCH",body:t?JSON.stringify(t):void 0})}async function Wc(e){return z(e,{method:"DELETE"})}async function Bp(e,t){return z(e,{method:"POST",body:t})}const Pr="idgas_token",Qp=y.createContext(void 0);function zy({children:e}){const[t,s]=y.useState(null),[r,l]=y.useState(()=>localStorage.getItem(Pr)),[a,i]=y.useState(!0);y.useEffect(()=>{async function d(){if(!r){s(null),i(!1);return}try{const m=await fetch(`${Ea}/auth/me`,{headers:{Authorization:`Bearer ${r}`}});if(m.ok){const f=await m.json();s(f)}else localStorage.removeItem(Pr),l(null),s(null)}catch(m){console.error("Failed to fetch user:",m)}i(!1)}d()},[r]);const p={user:t,token:r,isAuthenticated:!!t,isLoading:a,login:async(d,m)=>{const f=await fetch(`${Ea}/auth/login/json`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:m})});if(!f.ok){const N=await f.json();throw new Error(N.detail||"Login failed")}const v=await f.json();localStorage.setItem(Pr,v.access_token),l(v.access_token)},logout:()=>{localStorage.removeItem(Pr),l(null),s(null)},updateUser:d=>{s(d)}};return n.jsx(Qp.Provider,{value:p,children:e})}function Gc(){const e=y.useContext(Qp);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Fy(){return localStorage.getItem(Pr)}function Qe({children:e,requireAdmin:t=!1}){const{isAuthenticated:s,isLoading:r,user:l}=Gc(),a=$n();return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s?t&&!(l!=null&&l.is_admin)?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600",children:"You need admin privileges to access this page."})]})}):n.jsx(n.Fragment,{children:e}):n.jsx(mg,{to:"/login",state:{from:a},replace:!0})}function My(){const{user:e,logout:t}=Gc(),[s,r]=y.useState(!1),l=y.useRef(null);return y.useEffect(()=>{function a(i){l.current&&!l.current.contains(i.target)&&r(!1)}return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),e?n.jsxs("div",{className:"relative",ref:l,children:[s&&n.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-slate-800 rounded-lg shadow-lg border border-slate-700 py-2 z-50",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[n.jsx("p",{className:"text-sm font-medium text-white",children:e.name}),n.jsx("p",{className:"text-xs text-slate-400",children:e.email}),e.is_admin&&n.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-purple-900/50 text-purple-300 text-xs rounded",children:"Admin"})]}),n.jsx("div",{className:"py-1",children:n.jsxs("button",{onClick:()=>{t(),r(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-400 hover:bg-slate-700 transition-colors",children:[n.jsx(by,{size:16}),"Sign out"]})})]}),n.jsxs("button",{onClick:()=>r(!s),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-slate-800 transition-colors",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:n.jsx(ky,{size:16,className:"text-white"})}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("p",{className:"text-sm font-medium text-white truncate",children:e.name}),n.jsx("p",{className:"text-xs text-slate-400 truncate",children:e.email})]}),n.jsx(Mp,{size:16,className:`text-slate-400 transition-transform ${s?"rotate-180":""}`})]})]}):null}function Oy(){var f,v;const[e,t]=y.useState(""),[s,r]=y.useState(""),[l,a]=y.useState(""),[i,u]=y.useState(!1),{login:o}=Gc(),c=Ga(),d=((v=(f=$n().state)==null?void 0:f.from)==null?void 0:v.pathname)||"/",m=async N=>{N.preventDefault(),a(""),u(!0);try{await o(e,s),c(d,{replace:!0})}catch(w){a(w instanceof Error?w.message:"Login failed")}finally{u(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800",children:n.jsxs("div",{className:"w-full max-w-md px-4",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4",children:n.jsx("span",{className:"text-3xl",children:""})}),n.jsx("h1",{className:"text-3xl font-bold text-white",children:"IDGAS"}),n.jsx("p",{className:"text-slate-400 mt-1",children:"Card Inventory Management"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Sign in to your account"}),n.jsxs("form",{onSubmit:m,className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),n.jsx("input",{id:"email",type:"email",value:e,onChange:N=>t(N.target.value),required:!0,autoComplete:"email",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"you@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsx("input",{id:"password",type:"password",value:s,onChange:N=>r(N.target.value),required:!0,autoComplete:"current-password",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:""})]}),l&&n.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:n.jsx("p",{className:"text-sm text-red-600",children:l})}),n.jsx("button",{type:"submit",disabled:i,className:"w-full py-3 px-4 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:i?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})]})]}),n.jsx("p",{className:"text-center text-sm text-slate-500 mt-6",children:"Card Inventory Management System"})]})})}async function Ry(){return z("/brands")}async function Ly(e){return z(`/brands/${e}`)}async function Dy(e){return z("/brands",{method:"POST",body:JSON.stringify(e)})}async function Ay(e){const t=e?Ce(e):"";return z(`/product-lines${t}`)}async function $y(e){return z(`/product-lines/${e}`)}async function Uy(e){return z("/product-lines",{method:"POST",body:JSON.stringify(e)})}async function qy(e){return z(`/product-lines/${e}`,{method:"DELETE"})}const By={getBrands:Ry,getBrand:Ly,createBrand:Dy,getProductLines:Ay,getProductLine:$y,createProductLine:Uy,deleteProductLine:qy};async function Qy(e){const t=e?Ce(e):"";return z(`/players${t}`)}async function Ky(e){return z(`/players/${e}`)}async function Vy(e){return z("/players",{method:"POST",body:JSON.stringify(e)})}const Hy={getPlayers:Qy,getPlayer:Ky,createPlayer:Vy};async function Wy(e){const t=e?Ce(e):"";return z(`/checklists${t}`)}async function Gy(e){return z(`/checklists/${e}`)}async function Yy(e){return z("/checklists",{method:"POST",body:JSON.stringify(e)})}async function Jy(e){const t=new FormData;return t.append("file",e),Bp("/checklists/upload/preview",t)}async function Xy(e,t,s,r=!0){const l=new FormData;return l.append("file",e),l.append("product_line_id",t),l.append("prospects_only",String(r)),s&&l.append("column_mapping",JSON.stringify(s)),Bp("/checklists/upload",l)}const Zy={getChecklists:Wy,getChecklist:Gy,createChecklist:Yy,previewChecklistUpload:Jy,uploadChecklist:Xy};async function ev(e){const t=e?Ce(e):"";return z(`/inventory${t}`)}async function tv(e){return z(`/inventory/${e}`)}async function nv(){return z("/inventory/analytics")}async function sv(e){const t=e?Ce(e):"";return z(`/inventory/players${t}`)}async function rv(e){return z("/inventory",{method:"POST",body:JSON.stringify(e)})}async function lv(e,t){return z(`/inventory/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function av(e,t){return z(`/inventory/${e}/adjust`,{method:"POST",body:JSON.stringify({adjustment:t})})}async function iv(e){return z("/inventory/bulk",{method:"POST",body:JSON.stringify({items:e})})}async function ov(e){return z(`/inventory/${e}`,{method:"DELETE"})}const cv={getInventory:ev,getInventoryItem:tv,getInventoryAnalytics:nv,getPlayerInventorySummary:sv,createInventory:rv,updateInventory:lv,adjustInventory:av,bulkAddInventory:iv,deleteInventory:ov};async function uv(e=!0){const t=Ce({active_only:e});return z(`/item-categories${t}`)}async function dv(e){return z(`/item-categories/${e}`)}async function hv(e){return z("/item-categories",{method:"POST",body:JSON.stringify(e)})}async function mv(e,t){return z(`/item-categories/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function pv(){return z("/sports")}async function fv(e){const t=e?Ce(e):"";return z(`/standalone-items${t}`)}async function xv(e){const t=e?Ce(e):"";return z(`/standalone-items/summary${t}`)}async function gv(e){return z(`/standalone-items/${e}`)}async function yv(e){return z("/standalone-items",{method:"POST",body:JSON.stringify(e)})}async function vv(e,t){return z(`/standalone-items/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function jv(e){return z(`/standalone-items/${e}`,{method:"DELETE"})}async function bv(){return z("/standalone-items/stats")}async function Nv(){return z("/options/item-types")}async function wv(){return z("/options/sports")}async function _v(){return z("/options/authenticators")}async function Sv(){return z("/options/memorabilia-types")}async function Cv(){return z("/options/collectible-types")}async function kv(){return z("/options/conditions")}const Pv={getItemCategories:uv,getItemCategory:dv,createItemCategory:hv,updateItemCategory:mv,getSports:pv,getStandaloneItems:fv,getStandaloneItemsSummary:xv,getStandaloneItem:gv,createStandaloneItem:yv,updateStandaloneItem:vv,deleteStandaloneItem:jv,getStandaloneItemStats:bv,getItemTypes:Nv,getSportsList:wv,getAuthenticators:_v,getMemorabiliaTypes:Sv,getCollectibleTypes:Cv,getConditions:kv};async function Ev(e){const t=e?Ce(e):"";return z(`/consigners${t}`)}async function Iv(e){return z(`/consigners/${e}`)}async function Tv(e){return z(`/consigners/${e}/stats`)}async function zv(e){return z("/consigners",{method:"POST",body:JSON.stringify(e)})}async function Fv(e,t){return z(`/consigners/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function Mv(e){const t=e?Ce(e):"";return z(`/consignments${t}`)}async function Ov(e){return z(`/consignments/${e}`)}async function Rv(){return z("/consignments/pending-value")}async function Lv(e){return z("/consignments",{method:"POST",body:JSON.stringify(e)})}async function Dv(e,t){return z(`/consignments/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function Av(e,t){return z(`/consignments/${e}/return`,{method:"POST",body:JSON.stringify(t)})}async function $v(e,t){const s=t?`?fee_paid_date=${t}`:"";return z(`/consignments/${e}/mark-paid${s}`,{method:"POST"})}async function Uv(e){return z(`/consignments/${e}/items`)}async function qv(e,t){return z(`/consignments/${e}/items`,{method:"POST",body:JSON.stringify(t)})}const Bv={getConsigners:Ev,getConsigner:Iv,getConsignerStats:Tv,createConsigner:zv,updateConsigner:Fv,getConsignments:Mv,getConsignment:Ov,getPendingConsignmentsValue:Rv,createConsignment:Lv,updateConsignment:Dv,processConsignmentReturn:Av,markConsignmentFeePaid:$v,getConsignmentItems:Uv,addConsignmentItem:qv};async function Qv(e=!0){return z(`/grading/companies?active_only=${e}`)}async function Kv(e,t=!0){return z(`/grading/companies/${e}/service-levels?active_only=${t}`)}async function Vv(e){const t=e?Ce(e):"";return z(`/grading/submissions${t}`)}async function Hv(e){return z(`/grading/submissions/${e}`)}async function Wv(e){return z("/grading/submissions",{method:"POST",body:JSON.stringify(e)})}async function Gv(e,t){return z(`/grading/submissions/${e}/status`,{method:"PATCH",body:JSON.stringify(t)})}async function Yv(e,t){return z(`/grading/submissions/${e}/results`,{method:"POST",body:JSON.stringify(t)})}async function Jv(e){return z(`/grading/submissions/${e}`,{method:"DELETE"})}async function Xv(){return z("/grading/submissions/stats")}async function Zv(){return z("/grading/submissions/pending-by-company")}async function ej(e=!0){return z(`/signature-auth/companies?active_only=${e}`)}async function tj(e,t=!0){return z(`/signature-auth/companies/${e}/service-levels?active_only=${t}`)}async function nj(e){const t=e?Ce(e):"";return z(`/signature-auth/submissions${t}`)}async function sj(e){return z(`/signature-auth/submissions/${e}`)}async function rj(e){return z("/signature-auth/submissions",{method:"POST",body:JSON.stringify(e)})}async function lj(e,t){return z(`/signature-auth/submissions/${e}/status`,{method:"PATCH",body:JSON.stringify(t)})}async function aj(e,t){return z(`/signature-auth/submissions/${e}/results`,{method:"POST",body:JSON.stringify(t)})}async function ij(e){return z(`/signature-auth/submissions/${e}`,{method:"DELETE"})}async function oj(){return z("/signature-auth/submissions/stats")}async function cj(){return z("/signature-auth/submissions/pending-by-company")}async function uj(e){const t=e?Ce(e):"";return z(`/signature-auth/items/cards${t}`)}async function dj(e){const t=e?Ce(e):"";return z(`/signature-auth/items/memorabilia${t}`)}async function hj(e){const t=e?Ce(e):"";return z(`/signature-auth/items/collectibles${t}`)}const Er={getCompanies:Qv,getServiceLevels:Kv,getSubmissions:Vv,getSubmission:Hv,createSubmission:Wv,updateStatus:Gv,submitResults:Yv,deleteSubmission:Jv,getStats:Xv,getPendingByCompany:Zv},Qn={getCompanies:ej,getServiceLevels:tj,getSubmissions:nj,getSubmission:sj,createSubmission:rj,updateStatus:lj,submitResults:aj,deleteSubmission:ij,getStats:oj,getPendingByCompany:cj,getCardItems:uj,getMemorabiliaItems:dj,getCollectibleItems:hj};async function mj(e){const t=new URLSearchParams;e!=null&&e.vendor&&t.set("vendor",e.vendor),e!=null&&e.start_date&&t.set("start_date",e.start_date),e!=null&&e.end_date&&t.set("end_date",e.end_date),e!=null&&e.skip&&t.set("skip",e.skip.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString());const s=t.toString();return mt(`/purchases${s?`?${s}`:""}`)}async function pj(e){return mt(`/purchases/${e}`)}async function fj(e,t=!0){return Ia(`/purchases?add_to_inventory=${t}`,e)}async function xj(e){return Wc(`/purchases/${e}`)}async function gj(e){const t=new URLSearchParams;e!=null&&e.platform&&t.set("platform",e.platform),e!=null&&e.start_date&&t.set("start_date",e.start_date),e!=null&&e.end_date&&t.set("end_date",e.end_date),e!=null&&e.skip&&t.set("skip",e.skip.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString());const s=t.toString();return mt(`/sales${s?`?${s}`:""}`)}async function yj(e){return mt(`/sales/${e}`)}async function vj(e,t=!0){return Ia(`/sales?remove_from_inventory=${t}`,e)}async function jj(e){return Wc(`/sales/${e}`)}async function bj(e){const t=new URLSearchParams;e!=null&&e.start_date&&t.set("start_date",e.start_date),e!=null&&e.end_date&&t.set("end_date",e.end_date);const s=t.toString();return mt(`/sales/analytics${s?`?${s}`:""}`)}async function Nj(e){const t=new URLSearchParams;e!=null&&e.start_date&&t.set("start_date",e.start_date),e!=null&&e.end_date&&t.set("end_date",e.end_date);const s=t.toString();return mt(`/purchases/analytics${s?`?${s}`:""}`)}async function wj(){return mt("/inventory/analytics")}const _j={getPurchases:mj,getPurchase:pj,createPurchase:fj,deletePurchase:xj,getSales:gj,getSale:yj,createSale:vj,deleteSale:jj,getSalesAnalytics:bj,getPurchaseAnalytics:Nj,getDashboardStats:wj},Cd={async generateListings(e){return z("/ebay/generate-listings",{method:"POST",body:JSON.stringify(e)})},async uploadPreview(e){const t=new FormData;t.append("file",e);const s=await fetch(`${Ea}/sales/ebay/upload/preview`,{method:"POST",body:t});return qp(s)},async importListings(e){return z("/sales/ebay/import",{method:"POST",body:JSON.stringify(e)})},async listBatches(e){const t=new URLSearchParams;(e==null?void 0:e.skip)!==void 0&&t.set("skip",e.skip.toString()),(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString());const s=t.toString(),r=s?`/sales/ebay/batches?${s}`:"/sales/ebay/batches";return z(r)},async getBatch(e){return z(`/sales/ebay/batches/${e}`)},async deleteBatch(e){await z(`/sales/ebay/batches/${e}`,{method:"DELETE"})},async listListings(e){const t=new URLSearchParams;e!=null&&e.batch_id&&t.set("batch_id",e.batch_id),e!=null&&e.search&&t.set("search",e.search),(e==null?void 0:e.skip)!==void 0&&t.set("skip",e.skip.toString()),(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString());const s=t.toString(),r=s?`/sales/ebay/listings?${s}`:"/sales/ebay/listings";return z(r)},async getAnalytics(){return z("/sales/ebay/analytics")}},Dt="/consigner-prices",kd={async getMatrix(e={}){var r;const t={};(r=e.consigner_ids)!=null&&r.length&&(t.consigner_ids=e.consigner_ids.join(",")),e.player_search&&(t.player_search=e.player_search),e.only_with_prices&&(t.only_with_prices="true"),e.limit&&(t.limit=e.limit),e.offset&&(t.offset=e.offset);const s=Ce(t);return mt(`${Dt}/matrix${s}`)},async createPrice(e){return Ia(Dt,e)},async getPrice(e){return mt(`${Dt}/${e}`)},async updatePrice(e,t){return Ty(`${Dt}/${e}`,t)},async deletePrice(e){return Wc(`${Dt}/${e}`)},async bulkUpsert(e){return Ia(`${Dt}/bulk`,e)},async lookupPlayerPrice(e,t){const s=t?`?prefer_consigner_id=${t}`:"";return mt(`${Dt}/lookup/player/${e}${s}`)},async getConsignerSummary(e){return mt(`${Dt}/consigner/${e}/summary`)},async getConsignerPrices(e){return mt(`${Dt}/consigner/${e}/prices`)}},W={products:By,checklists:Zy,inventory:cv,standaloneItems:Pv,consignments:Bv,financial:_j};function Ll({title:e,value:t,subtitle:s,icon:r,trend:l,trendValue:a}){return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),s&&n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s})]}),n.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:n.jsx(r,{className:"text-blue-600",size:24})})]}),l&&a&&n.jsxs("div",{className:"mt-4 flex items-center gap-1",children:[l==="up"?n.jsx(gs,{className:"text-green-500",size:16}):n.jsx(gl,{className:"text-red-500",size:16}),n.jsx("span",{className:l==="up"?"text-green-600":"text-red-600",children:a}),n.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"vs last month"})]})]})}function Dl(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Al(e){return new Intl.NumberFormat("en-US").format(e)}function Sj(){const{data:e,isLoading:t}=H({queryKey:["inventory-analytics"],queryFn:()=>W.inventory.getInventoryAnalytics()}),{data:s,isLoading:r}=H({queryKey:["sales-analytics"],queryFn:()=>W.financial.getSalesAnalytics()}),l=t||r;return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Overview of your card inventory and sales"})]}),l?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((a,i)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-32"})]},i))}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(Ll,{title:"Total Cards",value:Al((e==null?void 0:e.total_quantity)||0),subtitle:`${Al((e==null?void 0:e.total_unique_cards)||0)} unique`,icon:Ie}),n.jsx(Ll,{title:"Cost Basis",value:Dl((e==null?void 0:e.total_cost_basis)||0),icon:pr}),n.jsx(Ll,{title:"Total Revenue",value:Dl((s==null?void 0:s.total_revenue)||0),subtitle:`${(s==null?void 0:s.total_sales)||0} sales`,icon:zp}),n.jsx(Ll,{title:"Total Profit",value:Dl((e==null?void 0:e.total_profit)||0),icon:gs,trend:e!=null&&e.total_profit&&e.total_profit>0?"up":"down"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cards by Brand"}),n.jsxs("div",{className:"space-y-3",children:[Object.entries((e==null?void 0:e.cards_by_brand)||{}).map(([a,i])=>{const u=(e==null?void 0:e.total_quantity)||1,o=i/u*100;return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"font-medium text-gray-700",children:a}),n.jsx("span",{className:"text-gray-500",children:Al(i)})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${o}%`}})})]},a)}),Object.keys((e==null?void 0:e.cards_by_brand)||{}).length===0&&n.jsx("p",{className:"text-gray-500 text-sm",children:"No inventory data yet"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales by Platform"}),n.jsxs("div",{className:"space-y-3",children:[Object.entries((s==null?void 0:s.sales_by_platform)||{}).map(([a,i])=>{const u=(s==null?void 0:s.total_revenue)||1,o=i/u*100;return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"font-medium text-gray-700",children:a}),n.jsx("span",{className:"text-gray-500",children:Dl(i)})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${o}%`}})})]},a)}),Object.keys((s==null?void 0:s.sales_by_platform)||{}).length===0&&n.jsx("p",{className:"text-gray-500 text-sm",children:"No sales data yet"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Players by Inventory"}),n.jsx(Hc,{className:"text-gray-400",size:20})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[n.jsx("th",{className:"pb-3 font-medium",children:"Player"}),n.jsx("th",{className:"pb-3 font-medium",children:"Team"}),n.jsx("th",{className:"pb-3 font-medium text-right",children:"Cards"}),n.jsx("th",{className:"pb-3 font-medium text-right",children:"Rookies"}),n.jsx("th",{className:"pb-3 font-medium text-right",children:"Autos"}),n.jsx("th",{className:"pb-3 font-medium text-right",children:"Numbered"})]})}),n.jsxs("tbody",{className:"divide-y",children:[e==null?void 0:e.top_players.map(a=>n.jsxs("tr",{className:"text-sm",children:[n.jsx("td",{className:"py-3 font-medium text-gray-900",children:a.player_name}),n.jsx("td",{className:"py-3 text-gray-500",children:a.team||"-"}),n.jsx("td",{className:"py-3 text-right text-gray-900",children:a.total_cards}),n.jsx("td",{className:"py-3 text-right text-gray-500",children:a.rookie_count}),n.jsx("td",{className:"py-3 text-right text-gray-500",children:a.auto_count}),n.jsx("td",{className:"py-3 text-right text-gray-500",children:a.numbered_count})]},a.player_id)),(!(e!=null&&e.top_players)||e.top_players.length===0)&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"No player data yet. Upload a checklist and add inventory to get started."})})]})]})})]}),n.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Inventory by Year"}),n.jsxs("div",{className:"flex items-end gap-2 h-32",children:[Object.entries((e==null?void 0:e.cards_by_year)||{}).sort(([a],[i])=>Number(i)-Number(a)).slice(0,10).map(([a,i])=>{const u=Math.max(...Object.values((e==null?void 0:e.cards_by_year)||{0:1})),o=i/u*100;return n.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[n.jsx("div",{className:"w-full bg-blue-500 rounded-t transition-all hover:bg-blue-600",style:{height:`${o}%`,minHeight:"4px"},title:`${a}: ${Al(i)} cards`}),n.jsx("span",{className:"text-xs text-gray-500",children:a})]},a)}),Object.keys((e==null?void 0:e.cards_by_year)||{}).length===0&&n.jsx("p",{className:"text-gray-500 text-sm w-full text-center py-8",children:"No inventory data yet"})]})]})]})]})}function Pd(e){return new Intl.NumberFormat("en-US").format(e)}function Cj(){const e=tt(),[t,s]=y.useState(!1),[r,l]=y.useState(""),[a,i]=y.useState(""),{data:u}=H({queryKey:["brands"],queryFn:()=>W.products.getBrands()}),{data:o,isLoading:c}=H({queryKey:["product-lines",r,a],queryFn:()=>W.products.getProductLines({brand_id:r||void 0,year:a?parseInt(a):void 0})}),p=ge({mutationFn:m=>W.products.deleteProductLine(m),onSuccess:()=>{e.invalidateQueries({queryKey:["product-lines"]})}}),d=Array.from({length:10},(m,f)=>new Date().getFullYear()-f);return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Lines"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage Topps, Bowman, and other product lines"})]}),n.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(me,{size:18}),"Add Product Line"]})]}),n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:r,onChange:m=>l(m.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Brands"}),u==null?void 0:u.map(m=>n.jsx("option",{value:m.id,children:m.name},m.id))]}),n.jsx(_e,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:a,onChange:m=>i(m.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Years"}),d.map(m=>n.jsx("option",{value:m,children:m},m))]}),n.jsx(_e,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]})]}),c?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((m,f)=>n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]},f))}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o==null?void 0:o.map(m=>n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:n.jsx(Ie,{className:"text-blue-600",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:m.brand_name}),n.jsx("h3",{className:"font-semibold text-gray-900",children:m.name}),n.jsx("p",{className:"text-sm text-gray-500",children:m.year})]})]}),n.jsx("button",{onClick:()=>{confirm("Delete this product line and all its checklists?")&&p.mutate(m.id)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(rn,{size:16})})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Checklist"}),n.jsxs("span",{className:"font-medium text-gray-900",children:[Pd(m.checklist_count)," cards"]})]}),n.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[n.jsx("span",{className:"text-gray-500",children:"In Stock"}),n.jsx("span",{className:"font-medium text-gray-900",children:Pd(m.inventory_count)})]}),n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[n.jsx("span",{className:"text-gray-500",children:"Completion"}),n.jsxs("span",{className:"text-gray-700",children:[m.completion_pct,"%"]})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:`${m.completion_pct}%`}})})]})]})]},m.id)),(o==null?void 0:o.length)===0&&n.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No product lines found. Add one to get started."})]}),t&&n.jsx(kj,{brands:u||[],onClose:()=>s(!1),onCreated:()=>{s(!1),e.invalidateQueries({queryKey:["product-lines"]})}})]})}function kj({brands:e,onClose:t,onCreated:s}){const[r,l]=y.useState({brand_id:"",name:"",year:new Date().getFullYear()}),[a,i]=y.useState(""),u=ge({mutationFn:c=>W.products.createProductLine(c),onSuccess:()=>s(),onError:c=>i(c.message)}),o=c=>{if(c.preventDefault(),!r.brand_id||!r.name){i("Brand and name are required");return}u.mutate(r)};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Add Product Line"}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),n.jsxs("select",{value:r.brand_id,onChange:c=>l({...r,brand_id:c.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Select brand..."}),e.map(c=>n.jsx("option",{value:c.id,children:c.name},c.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("input",{type:"text",value:r.name,onChange:c=>l({...r,name:c.target.value}),placeholder:"e.g., Chrome, Series 1, Draft",className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),n.jsx("input",{type:"number",value:r.year,onChange:c=>l({...r,year:parseInt(c.target.value)}),min:1900,max:2100,className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),n.jsx("textarea",{value:r.description||"",onChange:c=>l({...r,description:c.target.value}),rows:2,className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a&&n.jsx("p",{className:"text-red-500 text-sm",children:a}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:u.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:u.isPending?"Creating...":"Create"})]})]})]})})}function Pj(){const[e,t]=y.useState(""),[s,r]=y.useState(""),[l,a]=y.useState(void 0),[i,u]=y.useState(void 0),{data:o}=H({queryKey:["product-lines"],queryFn:()=>W.products.getProductLines()}),{data:c,isLoading:p}=H({queryKey:["checklists",s,l,i,e],queryFn:()=>W.checklists.getChecklists({product_line_id:s||void 0,is_rookie:l,is_auto:i,search:e||void 0,limit:200}),enabled:!0});return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Checklists"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Browse all cards across your product lines"})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[n.jsx(tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",value:e,onChange:d=>t(d.target.value),placeholder:"Search by player name or card number...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:s,onChange:d=>r(d.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Product Lines"}),o==null?void 0:o.map(d=>n.jsx("option",{value:d.id,children:d.name},d.id))]}),n.jsx(_e,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>a(l===!0?void 0:!0),className:`flex items-center gap-1 px-3 py-2 rounded-lg text-sm border transition-colors ${l===!0?"bg-amber-50 border-amber-200 text-amber-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[n.jsx($o,{size:14}),"Rookies"]}),n.jsxs("button",{onClick:()=>u(i===!0?void 0:!0),className:`flex items-center gap-1 px-3 py-2 rounded-lg text-sm border transition-colors ${i===!0?"bg-purple-50 border-purple-200 text-purple-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(Qc,{size:14}),"Autos"]})]})]}),n.jsxs("div",{className:"mb-4 text-sm text-gray-500",children:[(c==null?void 0:c.length)||0," cards found"]}),p?n.jsx("div",{className:"bg-white rounded-xl border border-gray-100 p-8",children:n.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(10)].map((d,m)=>n.jsx("div",{className:"h-12 bg-gray-100 rounded"},m))})}):n.jsx("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 text-left text-sm text-gray-500 border-b",children:[n.jsx("th",{className:"px-4 py-3 font-medium",children:"#"}),n.jsx("th",{className:"px-4 py-3 font-medium",children:"Player"}),n.jsx("th",{className:"px-4 py-3 font-medium",children:"Team"}),n.jsx("th",{className:"px-4 py-3 font-medium",children:"Parallel"}),n.jsx("th",{className:"px-4 py-3 font-medium text-center",children:"Type"}),n.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"In Stock"})]})}),n.jsxs("tbody",{className:"divide-y divide-gray-100",children:[c==null?void 0:c.map(d=>{var m;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-mono text-gray-600",children:d.card_number}),n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("div",{className:"font-medium text-gray-900",children:((m=d.player)==null?void 0:m.name)||d.player_name_raw||"Unknown"}),d.product_line&&n.jsxs("div",{className:"text-xs text-gray-500",children:[d.product_line.year," ",d.product_line.name]})]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:d.team||"-"}),n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("span",{className:"text-sm text-gray-600",children:d.parallel_name||"Base"}),d.serial_numbered&&n.jsxs("span",{className:"ml-2 text-xs text-gray-400",children:["/",d.serial_numbered]})]}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:[d.is_rookie_card&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-amber-100 text-amber-700",children:"RC"}),d.is_autograph&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-purple-100 text-purple-700",children:"Auto"}),d.is_relic&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-green-100 text-green-700",children:"Relic"}),d.is_first_bowman&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-700",children:"1st"})]})}),n.jsx("td",{className:"px-4 py-3 text-right",children:n.jsx("span",{className:`font-medium ${(d.inventory_count||0)>0?"text-green-600":"text-gray-400"}`,children:d.inventory_count||0})})]},d.id)}),(c==null?void 0:c.length)===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-4 py-12 text-center text-gray-500",children:"No cards found. Upload a checklist to get started."})})]})]})})]})}function Ej(){const e=Ga(),[t,s]=y.useState(""),[r,l]=y.useState(""),[a,i]=y.useState(""),[u,o]=y.useState(void 0),[c,p]=y.useState(void 0),[d,m]=y.useState(!1),[f,v]=y.useState(new Set),{data:N,isLoading:w}=H({queryKey:["inventory",{search:t,filterBrand:r,filterProductLine:a}],queryFn:()=>W.inventory.getInventory({search:t||void 0,brand_id:r||void 0,product_line_id:a||void 0})}),{data:h}=H({queryKey:["brands"],queryFn:()=>W.products.getBrands()}),{data:x}=H({queryKey:["product-lines",r],queryFn:()=>W.products.getProductLines({brand_id:r||void 0}),enabled:!0}),g=y.useMemo(()=>N?N.filter(S=>!(u!==void 0&&S.is_signed!==u||c!==void 0&&S.is_slabbed!==c)):[],[N,u,c]),j=S=>{const E=new Set(f);E.has(S)?E.delete(S):E.add(S),v(E)},P=()=>{f.size===g.length?v(new Set):v(new Set(g.map(S=>S.id)))},k=()=>{if(f.size===0)return;const S=Array.from(f).join(",");e(`/ebay-listings?ids=${S}`)},I=S=>S==null?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(S);return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:[g.length," cards  Track your card inventory with quantities and conditions"]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("button",{onClick:()=>{m(!d),d&&v(new Set)},className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${d?"bg-orange-100 text-orange-700 border border-orange-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[n.jsx(Kc,{size:18}),d?"Exit eBay Mode":"Generate eBay Listings"]})})]}),d&&n.jsxs("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-xl flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("button",{onClick:P,className:"flex items-center gap-2 text-sm font-medium text-orange-700 hover:text-orange-800",children:[f.size===g.length&&g.length>0?n.jsx(Ds,{size:18}):n.jsx(Zl,{size:18}),f.size===g.length&&g.length>0?"Deselect All":"Select All"]}),n.jsxs("span",{className:"text-orange-600",children:[f.size," of ",g.length," selected"]})]}),n.jsxs("button",{onClick:k,disabled:f.size===0,className:`px-6 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${f.size>0?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[n.jsx(Rp,{size:18}),"Generate ",f.size," Listing",f.size!==1?"s":""]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[n.jsx(tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",value:t,onChange:S=>s(S.target.value),placeholder:"Search by player or card number...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:r,onChange:S=>{l(S.target.value),i("")},className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Brands"}),h==null?void 0:h.map(S=>n.jsx("option",{value:S.id,children:S.name},S.id))]}),n.jsx(_e,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:a,onChange:S=>i(S.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Products"}),x==null?void 0:x.map(S=>n.jsxs("option",{value:S.id,children:[S.year," ",S.name]},S.id))]}),n.jsx(_e,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:u===void 0?"":u?"signed":"unsigned",onChange:S=>{const E=S.target.value;o(E===""?void 0:E==="signed")},className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All (Signed/Unsigned)"}),n.jsx("option",{value:"signed",children:"Signed Only"}),n.jsx("option",{value:"unsigned",children:"Unsigned Only"})]}),n.jsx(_e,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:c===void 0?"":c?"slabbed":"raw",onChange:S=>{const E=S.target.value;p(E===""?void 0:E==="slabbed")},className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All (Raw/Slabbed)"}),n.jsx("option",{value:"slabbed",children:"Slabbed Only"}),n.jsx("option",{value:"raw",children:"Raw Only"})]}),n.jsx(_e,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]})]}),w?n.jsx("div",{className:"bg-white rounded-xl border border-gray-100 p-8",children:n.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((S,E)=>n.jsx("div",{className:"h-12 bg-gray-100 rounded"},E))})}):g.length===0?n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-12 text-center",children:[n.jsx(Ie,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No inventory found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters or add some cards."})]}):n.jsx("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[d&&n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-600",children:f.size===g.length&&g.length>0?n.jsx(Ds,{size:18}):n.jsx(Zl,{size:18})})}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Player"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Card"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Parallel"}),n.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-600",children:"Qty"}),n.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-600",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-600",children:"Total Cost"}),n.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-600",children:"Per Unit"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:g.map(S=>{var E,C,_,M,q,K,Re,A,R,O,T;return n.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${d&&f.has(S.id)?"bg-orange-50":""}`,onClick:d?()=>j(S.id):void 0,style:d?{cursor:"pointer"}:void 0,children:[d&&n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{onClick:L=>{L.stopPropagation(),j(S.id)},className:"text-orange-500",children:f.has(S.id)?n.jsx(Ds,{size:18}):n.jsx(Zl,{size:18})})}),n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("div",{className:"font-medium text-gray-900",children:((C=(E=S.checklist)==null?void 0:E.player)==null?void 0:C.name)||((_=S.checklist)==null?void 0:_.player_name_raw)||"Unknown"}),n.jsx("div",{className:"text-xs text-gray-500",children:((M=S.checklist)==null?void 0:M.team)||"-"})]}),n.jsxs("td",{className:"px-4 py-3",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:[(K=(q=S.checklist)==null?void 0:q.product_line)==null?void 0:K.year," ",(A=(Re=S.checklist)==null?void 0:Re.product_line)==null?void 0:A.name]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["#",(R=S.checklist)==null?void 0:R.card_number,((O=S.checklist)==null?void 0:O.is_first_bowman)&&n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-purple-100 text-purple-700 rounded text-[10px]",children:"1st"})]})]}),n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("div",{className:"text-sm text-gray-700",children:((T=S.base_type)==null?void 0:T.name)||"Chrome"}),S.parallel&&n.jsxs("div",{className:"text-xs text-gray-500",children:[S.parallel.name,S.parallel.is_numbered&&S.parallel.numbered_to&&` /${S.parallel.numbered_to}`]})]}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("span",{className:"font-medium text-gray-900",children:S.quantity})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex justify-center gap-1",children:[S.is_signed&&n.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:"Signed"}),S.is_slabbed?n.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:[S.grade_company," ",S.grade_value]}):n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:"Raw"})]})}),n.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:I(S.total_cost)}),n.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:I(S.total_cost&&S.quantity?S.total_cost/S.quantity:null)})]},S.id)})})]})})]})}const Kp=["Bowman","Bowman Chrome","Bowman Draft","Bowman Sapphire","Bowman Sterling","Bowman's Best","Topps Chrome","Topps","Other"],Vp=["Base","Refractor","Gold","Gold Refractor","Orange","Orange Refractor","Blue","Blue Refractor","Purple","Purple Refractor","Green","Green Refractor","Red","Red Refractor","Black","Black Refractor","Atomic","X-Fractor","Prism","Shimmer","Speckle","Mojo","Aqua","Pink","Yellow","Superfractor","Printing Plate","Other"],Ij=["eBay","COMC","MySlabs","Mercari","Facebook","Twitter/X","Instagram","Card Show","LCS","Direct","Other"];function qt(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Tj(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Ed(){return new Date().toISOString().split("T")[0]}function zj({item:e,onUpdate:t,onRemove:s,onDuplicate:r,inputRef:l,isFirst:a}){return n.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center py-2 px-3 bg-white rounded-lg border hover:border-blue-300 transition-colors",children:[n.jsx("div",{className:"col-span-1",children:n.jsx("input",{type:"number",value:e.year,onChange:i=>t(e.id,{year:parseInt(i.target.value)||2024}),min:1990,max:2030,className:"w-full px-2 py-1.5 border rounded text-sm text-center focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Year"})}),n.jsx("div",{className:"col-span-2",children:n.jsx("select",{value:e.card_type,onChange:i=>t(e.id,{card_type:i.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Kp.map(i=>n.jsx("option",{value:i,children:i},i))})}),n.jsx("div",{className:"col-span-2",children:n.jsx("select",{value:e.parallel,onChange:i=>t(e.id,{parallel:i.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Vp.map(i=>n.jsx("option",{value:i,children:i},i))})}),n.jsx("div",{className:"col-span-3",children:n.jsx("input",{ref:a?l:void 0,type:"text",value:e.player,onChange:i=>t(e.id,{player:i.target.value}),placeholder:"Player name *",className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),n.jsx("div",{className:"col-span-1",children:n.jsx("input",{type:"number",value:e.quantity,onChange:i=>t(e.id,{quantity:parseInt(i.target.value)||1}),min:1,className:"w-full px-2 py-1.5 border rounded text-sm text-center focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),n.jsxs("div",{className:"col-span-1 flex items-center justify-center gap-2",children:[n.jsxs("label",{className:"flex items-center gap-0.5 cursor-pointer",title:"Card bought already signed",children:[n.jsx("input",{type:"checkbox",checked:e.is_signed,onChange:i=>t(e.id,{is_signed:i.target.checked}),className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500"}),n.jsx("span",{className:"text-xs text-gray-500",children:"S"})]}),n.jsxs("label",{className:"flex items-center gap-0.5 cursor-pointer",title:"Pack-pulled autograph",children:[n.jsx("input",{type:"checkbox",checked:e.is_auto,onChange:i=>t(e.id,{is_auto:i.target.checked}),className:"w-4 h-4 rounded text-amber-600 focus:ring-amber-500"}),n.jsx("span",{className:"text-xs text-gray-500",children:"A"})]})]}),n.jsx("div",{className:"col-span-1",children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-1.5 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),n.jsx("input",{type:"number",value:e.unit_price||"",onChange:i=>t(e.id,{unit_price:parseFloat(i.target.value)||0}),min:0,step:.01,placeholder:"0.00",className:"w-full pl-5 pr-1 py-1.5 border rounded text-sm text-right focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),n.jsxs("div",{className:"col-span-1 flex items-center justify-end gap-1",children:[n.jsx("button",{type:"button",onClick:()=>r(e.id),className:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Duplicate row",children:n.jsx(Op,{size:14})}),n.jsx("button",{type:"button",onClick:()=>s(e.id),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Remove",children:n.jsx(rn,{size:14})})]})]})}function Fj({isOpen:e,onClose:t,onSuccess:s}){const r=tt(),l=y.useRef(null),[a,i]=y.useState(!0),[u,o]=y.useState(null),[c,p]=y.useState(!1),[d,m]=y.useState({year:new Date().getFullYear(),card_type:"Bowman Chrome",parallel:"Base"}),[f,v]=y.useState({purchase_date:Ed(),vendor:"",platform:"",order_number:"",shipping:0,tax:0,notes:""}),[N,w]=y.useState([]);y.useEffect(()=>{e&&N.length===0&&j()},[e]),y.useEffect(()=>{e&&l.current&&setTimeout(()=>{var _;return(_=l.current)==null?void 0:_.focus()},100)},[e,N.length]);const x=N.reduce((_,M)=>_+M.quantity*M.unit_price,0)+f.shipping+f.tax,g=ge({mutationFn:_=>W.financial.createPurchase(_.purchase,_.addToInventory),onSuccess:()=>{r.invalidateQueries({queryKey:["purchases"]}),r.invalidateQueries({queryKey:["inventory"]}),s(),S()},onError:_=>{o(_.message)}}),j=()=>{const _={id:crypto.randomUUID(),year:d.year,card_type:d.card_type,parallel:d.parallel,player:"",quantity:1,unit_price:0,is_signed:!1,is_auto:!1};w(M=>[...M,_])},P=(_,M)=>{w(q=>q.map(K=>K.id===_?{...K,...M}:K))},k=_=>{w(M=>M.filter(q=>q.id!==_))},I=_=>{const M=N.find(q=>q.id===_);if(M){const q={...M,id:crypto.randomUUID(),player:""},K=N.findIndex(A=>A.id===_),Re=[...N];Re.splice(K+1,0,q),w(Re)}},S=()=>{v({purchase_date:Ed(),vendor:"",platform:"",order_number:"",shipping:0,tax:0,notes:""}),w([]),o(null),p(!1),t()},E=_=>{_.preventDefault(),o(null);const M=N.filter(K=>K.player.trim());if(M.length===0){o("Please add at least one card with a player name");return}const q={purchase_date:f.purchase_date,vendor:f.vendor||null,platform:f.platform||null,order_number:f.order_number||null,shipping:f.shipping,tax:f.tax,notes:f.notes||null,items:M.map(K=>({year:K.year,card_type:K.card_type,player:K.player.trim(),parallel:K.parallel,quantity:K.quantity,unit_price:K.unit_price,is_signed:K.is_signed,is_auto:K.is_auto,condition:"Raw"}))};g.mutate({purchase:q,addToInventory:a})},C=_=>{_.key==="Enter"&&_.ctrlKey&&(_.preventDefault(),j())};return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4",children:n.jsxs("div",{className:"bg-gray-50 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col",onKeyDown:C,children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-white rounded-t-xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Py,{className:"text-blue-600",size:20})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Add Cards"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Fast entry for card purchases"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>p(!c),className:`p-2 rounded-lg transition-colors ${c?"bg-blue-100 text-blue-600":"hover:bg-gray-100 text-gray-500"}`,title:"Purchase options",children:n.jsx(Sy,{size:18})}),n.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(et,{size:20})})]})]}),n.jsxs("form",{onSubmit:E,className:"flex-1 overflow-y-auto",children:[u&&n.jsxs("div",{className:"mx-4 mt-4 flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[n.jsx(xs,{size:18}),n.jsx("span",{children:u})]}),c&&n.jsxs("div",{className:"mx-4 mt-4 p-4 bg-white rounded-lg border",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Purchase Details"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Date"}),n.jsx("input",{type:"date",value:f.purchase_date,onChange:_=>v({...f,purchase_date:_.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Vendor"}),n.jsx("input",{type:"text",value:f.vendor,onChange:_=>v({...f,vendor:_.target.value}),placeholder:"Seller name",className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Platform"}),n.jsxs("select",{value:f.platform,onChange:_=>v({...f,platform:_.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select..."}),Ij.map(_=>n.jsx("option",{value:_,children:_},_))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Order #"}),n.jsx("input",{type:"text",value:f.order_number,onChange:_=>v({...f,order_number:_.target.value}),placeholder:"Optional",className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Shipping"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),n.jsx("input",{type:"number",min:0,step:.01,value:f.shipping||"",onChange:_=>v({...f,shipping:parseFloat(_.target.value)||0}),placeholder:"0.00",className:"w-full pl-6 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Tax"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),n.jsx("input",{type:"number",min:0,step:.01,value:f.tax||"",onChange:_=>v({...f,tax:parseFloat(_.target.value)||0}),placeholder:"0.00",className:"w-full pl-6 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Notes"}),n.jsx("input",{type:"text",value:f.notes,onChange:_=>v({...f,notes:_.target.value}),placeholder:"Optional",className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"mt-3 pt-3 border-t",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-500 mb-2",children:"Default Values for New Rows"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Default Year"}),n.jsx("input",{type:"number",value:d.year,onChange:_=>m({...d,year:parseInt(_.target.value)||2024}),min:1990,max:2030,className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Default Card Type"}),n.jsx("select",{value:d.card_type,onChange:_=>m({...d,card_type:_.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500",children:Kp.map(_=>n.jsx("option",{value:_,children:_},_))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Default Parallel"}),n.jsx("select",{value:d.parallel,onChange:_=>m({...d,parallel:_.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-500",children:Vp.map(_=>n.jsx("option",{value:_,children:_},_))})]})]})]})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"grid grid-cols-12 gap-2 px-3 py-2 text-xs font-medium text-gray-500 uppercase",children:[n.jsx("div",{className:"col-span-1",children:"Year"}),n.jsx("div",{className:"col-span-2",children:"Card Type"}),n.jsx("div",{className:"col-span-2",children:"Parallel"}),n.jsx("div",{className:"col-span-3",children:"Player"}),n.jsx("div",{className:"col-span-1 text-center",children:"Qty"}),n.jsx("div",{className:"col-span-1 text-center",title:"S = Signed (bought signed), A = Auto (pack-pulled)",children:"S / A"}),n.jsx("div",{className:"col-span-1 text-right",children:"Price"}),n.jsx("div",{className:"col-span-1"})]}),n.jsx("div",{className:"space-y-2",children:N.map((_,M)=>n.jsx(zj,{item:_,onUpdate:P,onRemove:k,onDuplicate:I,inputRef:M===N.length-1?l:void 0,isFirst:M===N.length-1},_.id))}),n.jsxs("button",{type:"button",onClick:j,className:"mt-3 w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-blue-400 hover:text-blue-600 hover:bg-blue-50 transition-colors flex items-center justify-center gap-2",children:[n.jsx(me,{size:18}),n.jsx("span",{children:"Add Card"}),n.jsx("span",{className:"text-xs text-gray-400",children:"(Ctrl+Enter)"})]})]}),n.jsx("div",{className:"p-4 bg-white border-t",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a,onChange:_=>i(_.target.checked),className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Add to Inventory"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsxs("span",{children:[n.jsx("strong",{className:"text-gray-900",children:N.filter(_=>_.player.trim()).length})," cards"]}),n.jsxs("span",{children:[n.jsx("strong",{className:"text-gray-900",children:N.reduce((_,M)=>_+(M.player.trim()?M.quantity:0),0)})," total qty"]}),(f.shipping>0||f.tax>0)&&n.jsxs("span",{className:"text-gray-400",children:["+",qt(f.shipping+f.tax)," fees"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:qt(x)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:g.isPending,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:g.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ze,{size:18}),"Save Purchase"]})})]})]})]})})]})]})}):null}function Mj({purchase:e,isExpanded:t,onToggle:s}){var l;const r=((l=e.items)==null?void 0:l.reduce((a,i)=>a+i.quantity,0))||0;return n.jsxs("div",{className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:[n.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[t?n.jsx(_e,{size:20,className:"text-gray-400"}):n.jsx(mr,{size:20,className:"text-gray-400"}),n.jsxs("div",{className:"text-left",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-gray-900",children:e.vendor||e.platform||"Purchase"}),e.platform&&e.vendor&&n.jsxs("span",{className:"text-sm text-gray-500",children:["via ",e.platform]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mt-0.5",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ja,{size:14}),Tj(e.purchase_date)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ie,{size:14}),r," card",r!==1?"s":""]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-bold text-gray-900",children:qt(e.total)}),e.order_number&&n.jsxs("div",{className:"text-xs text-gray-500",children:["#",e.order_number]})]})]}),t&&e.items&&e.items.length>0&&n.jsx("div",{className:"border-t bg-gray-50",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-gray-500 uppercase",children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Card"}),n.jsx("th",{className:"px-3 py-2 text-center",children:"Condition"}),n.jsx("th",{className:"px-3 py-2 text-center",children:"Qty"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Unit Price"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Total"})]})}),n.jsx("tbody",{className:"divide-y",children:e.items.map(a=>{var i,u,o;return n.jsxs("tr",{className:"hover:bg-white",children:[n.jsxs("td",{className:"px-4 py-2",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",(i=a.checklist)==null?void 0:i.card_number," - ",(u=a.checklist)==null?void 0:u.player_name_raw]}),n.jsx("div",{className:"text-xs text-gray-500",children:(o=a.checklist)==null?void 0:o.set_name})]}),n.jsx("td",{className:"px-3 py-2 text-center",children:n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded",children:a.condition||"NM"})}),n.jsx("td",{className:"px-3 py-2 text-center text-gray-600",children:a.quantity}),n.jsx("td",{className:"px-3 py-2 text-right text-gray-600",children:qt(a.unit_price)}),n.jsx("td",{className:"px-3 py-2 text-right font-medium text-gray-900",children:qt(a.unit_price*a.quantity)})]},a.id)})}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"bg-gray-100 font-medium",children:[n.jsx("td",{colSpan:4,className:"px-4 py-2 text-right text-gray-700",children:"Subtotal / Shipping / Tax"}),n.jsxs("td",{className:"px-3 py-2 text-right text-gray-900",children:[qt(e.subtotal)," / ",qt(e.shipping)," /"," ",qt(e.tax)]})]})})]})})]})}function Oj(){const[e,t]=y.useState(null),[s,r]=y.useState(!1),[l,a]=y.useState({}),{data:i,isLoading:u}=H({queryKey:["purchases",l],queryFn:()=>W.financial.getPurchases({start_date:l.start,end_date:l.end})}),o=(i==null?void 0:i.reduce((p,d)=>p+(d.total||0),0))||0,c=(i==null?void 0:i.reduce((p,d)=>{var m;return p+(((m=d.items)==null?void 0:m.reduce((f,v)=>f+v.quantity,0))||0)},0))||0;return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchases"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Track card acquisitions and cost basis"})]}),n.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(me,{size:18}),"Record Purchase"]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Purchases"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(i==null?void 0:i.length)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Cards Acquired"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Spent"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:qt(o)})]})]}),n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"From"}),n.jsx("input",{type:"date",value:l.start||"",onChange:p=>a({...l,start:p.target.value||void 0}),className:"px-3 py-2 border rounded-lg text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"To"}),n.jsx("input",{type:"date",value:l.end||"",onChange:p=>a({...l,end:p.target.value||void 0}),className:"px-3 py-2 border rounded-lg text-sm"})]})]}),u?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(i==null?void 0:i.length)===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[n.jsx(Kc,{className:"mx-auto text-gray-400 mb-3",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No purchases yet"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Record your first purchase to start tracking costs"}),n.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(me,{size:18}),"Record Purchase"]})]}):n.jsx("div",{className:"space-y-3",children:i==null?void 0:i.map(p=>n.jsx(Mj,{purchase:p,isExpanded:e===p.id,onToggle:()=>t(e===p.id?null:p.id)},p.id))}),n.jsx(Fj,{isOpen:s,onClose:()=>r(!1),onSuccess:()=>{}})]})}function fe(e){const t=typeof e=="string"?parseFloat(e):e??0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}function Rj(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Id(){return new Date().toISOString().split("T")[0]}function Lj({isOpen:e,onClose:t,onSelect:s,excludeIds:r=[]}){const[l,a]=y.useState(""),[i,u]=y.useState(""),[o,c]=y.useState(""),{data:p,isLoading:d}=H({queryKey:["inventory",l,i,o],queryFn:()=>W.inventory.getInventory({search:l||void 0,is_signed:i==="true"?!0:i==="false"?!1:void 0,is_slabbed:o==="true"?!0:o==="false"?!1:void 0,limit:50}),enabled:e}),m=(p==null?void 0:p.filter(f=>!r.includes(f.id)&&f.quantity>0))||[];return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select from Inventory"}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(et,{size:20})})]}),n.jsxs("div",{className:"p-4 border-b space-y-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by player name...",value:l,onChange:f=>a(f.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",autoFocus:!0})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("select",{value:i,onChange:f=>u(f.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[n.jsx("option",{value:"",children:"All (Signed/Unsigned)"}),n.jsx("option",{value:"true",children:"Signed Only"}),n.jsx("option",{value:"false",children:"Unsigned Only"})]}),n.jsxs("select",{value:o,onChange:f=>c(f.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[n.jsx("option",{value:"",children:"All (Raw/Slabbed)"}),n.jsx("option",{value:"true",children:"Slabbed Only"}),n.jsx("option",{value:"false",children:"Raw Only"})]})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):m.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No inventory items found matching your search"}):n.jsx("div",{className:"space-y-2",children:m.map(f=>{var v,N,w,h,x;return n.jsxs("button",{onClick:()=>{s(f),t()},className:"w-full text-left p-3 rounded-lg border hover:bg-green-50 hover:border-green-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"font-medium text-gray-900",children:["#",(v=f.checklist)==null?void 0:v.card_number," - ",(N=f.checklist)==null?void 0:N.player_name_raw]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.is_signed&&n.jsx("span",{className:"px-1.5 py-0.5 bg-amber-100 text-amber-700 text-xs rounded",children:"SIGNED"}),f.is_slabbed&&n.jsxs("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:[f.grade_company," ",f.grade_value]}),n.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:f.raw_condition||"NM"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["Qty: ",f.quantity]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Cost: ",fe(f.total_cost/f.quantity),"/ea"]})]})]}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:((w=f.checklist)==null?void 0:w.set_name)||((x=(h=f.checklist)==null?void 0:h.product_line)==null?void 0:x.name)})]},f.id)})})})]})}):null}function Dj({isOpen:e,onClose:t,onSuccess:s}){const r=tt(),[l,a]=y.useState(!1),[i,u]=y.useState(!0),[o,c]=y.useState(null),[p,d]=y.useState({sale_date:Id(),platform:"eBay",buyer_name:"",order_number:"",platform_fees:0,payment_fees:0,shipping_collected:0,shipping_cost:0,notes:""}),[m,f]=y.useState([]),v=m.reduce((E,C)=>E+C.quantity*C.sale_price,0),N=p.platform_fees+p.payment_fees+p.shipping_cost,w=v+p.shipping_collected-N,h=m.reduce((E,C)=>E+C.cost_basis*C.quantity,0),x=w-h,g=ge({mutationFn:E=>W.financial.createSale(E.sale,E.removeFromInventory),onSuccess:()=>{r.invalidateQueries({queryKey:["sales"]}),r.invalidateQueries({queryKey:["inventory"]}),s(),j()},onError:E=>{c(E.message)}}),j=()=>{d({sale_date:Id(),platform:"eBay",buyer_name:"",order_number:"",platform_fees:0,payment_fees:0,shipping_collected:0,shipping_cost:0,notes:""}),f([]),c(null),t()},P=E=>{const C=E.total_cost/E.quantity;f(_=>[..._,{id:crypto.randomUUID(),inventoryItem:E,quantity:1,sale_price:0,cost_basis:C,notes:""}])},k=(E,C)=>{f(_=>_.map(M=>M.id===E?{...M,...C}:M))},I=E=>{f(C=>C.filter(_=>_.id!==E))},S=E=>{var _;if(E.preventDefault(),c(null),m.length===0){c("Please add at least one item to the sale");return}for(const M of m)if(M.quantity>M.inventoryItem.quantity){c(`Cannot sell ${M.quantity} of ${(_=M.inventoryItem.checklist)==null?void 0:_.player_name_raw} - only ${M.inventoryItem.quantity} in stock`);return}const C={sale_date:p.sale_date,platform:p.platform,buyer_name:p.buyer_name||null,order_number:p.order_number||null,platform_fees:p.platform_fees,payment_fees:p.payment_fees,shipping_collected:p.shipping_collected,shipping_cost:p.shipping_cost,notes:p.notes||null,items:m.map(M=>({checklist_id:M.inventoryItem.checklist_id,quantity:M.quantity,sale_price:M.sale_price,notes:M.notes||null}))};g.mutate({sale:C,removeFromInventory:i})};return e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(pr,{className:"text-green-600",size:20})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Record Sale"})]}),n.jsx("button",{onClick:j,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(et,{size:20})})]}),n.jsxs("form",{onSubmit:S,className:"flex-1 overflow-y-auto",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[o&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[n.jsx(xs,{size:18}),n.jsx("span",{children:o})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sale Date *"}),n.jsx("input",{type:"date",value:p.sale_date,onChange:E=>d({...p,sale_date:E.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Platform *"}),n.jsxs("select",{value:p.platform,onChange:E=>d({...p,platform:E.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0,children:[n.jsx("option",{value:"eBay",children:"eBay"}),n.jsx("option",{value:"COMC",children:"COMC"}),n.jsx("option",{value:"MySlabs",children:"MySlabs"}),n.jsx("option",{value:"Facebook",children:"Facebook"}),n.jsx("option",{value:"In Person",children:"In Person"}),n.jsx("option",{value:"Other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buyer"}),n.jsx("input",{type:"text",value:p.buyer_name,onChange:E=>d({...p,buyer_name:E.target.value}),placeholder:"Optional",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number"}),n.jsx("input",{type:"text",value:p.order_number,onChange:E=>d({...p,order_number:E.target.value}),placeholder:"Optional",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Items *"}),n.jsxs("button",{type:"button",onClick:()=>a(!0),className:"flex items-center gap-1 text-sm text-green-600 hover:text-green-700",children:[n.jsx(me,{size:16}),"Add from Inventory"]})]}),m.length===0?n.jsxs("div",{onClick:()=>a(!0),className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-green-400 hover:bg-green-50 transition-colors",children:[n.jsx(Ie,{className:"mx-auto text-gray-400 mb-2",size:32}),n.jsx("p",{className:"text-gray-500",children:"Click to add items from your inventory"})]}):n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Card"}),n.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Qty"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-28",children:"Sale Price"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Cost Basis"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Profit"}),n.jsx("th",{className:"px-3 py-2 w-10"})]})}),n.jsx("tbody",{className:"divide-y",children:m.map(E=>{var _,M;const C=E.quantity*E.sale_price-E.quantity*E.cost_basis;return n.jsxs("tr",{children:[n.jsxs("td",{className:"px-3 py-2",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",(_=E.inventoryItem.checklist)==null?void 0:_.card_number," -"," ",(M=E.inventoryItem.checklist)==null?void 0:M.player_name_raw]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[E.inventoryItem.is_signed&&n.jsx("span",{className:"px-1 py-0.5 bg-amber-100 text-amber-700 text-xs rounded",children:"SIGNED"}),E.inventoryItem.is_slabbed&&n.jsxs("span",{className:"px-1 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:[E.inventoryItem.grade_company," ",E.inventoryItem.grade_value]}),n.jsxs("span",{className:"text-xs text-gray-500",children:["(Stock: ",E.inventoryItem.quantity,")"]})]})]}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"number",min:"1",max:E.inventoryItem.quantity,value:E.quantity,onChange:q=>k(E.id,{quantity:Math.min(parseInt(q.target.value)||1,E.inventoryItem.quantity)}),className:"w-full px-2 py-1 border rounded text-center"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:E.sale_price,onChange:q=>k(E.id,{sale_price:parseFloat(q.target.value)||0}),className:"w-full pl-6 pr-2 py-1 border rounded text-right"})]})}),n.jsx("td",{className:"px-3 py-2 text-right text-gray-500",children:fe(E.cost_basis*E.quantity)}),n.jsxs("td",{className:`px-3 py-2 text-right font-medium ${C>=0?"text-green-600":"text-red-600"}`,children:[C>=0?"+":"",fe(C)]}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("button",{type:"button",onClick:()=>I(E.id),className:"p-1 text-gray-400 hover:text-red-600",children:n.jsx(rn,{size:16})})})]},E.id)})})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Platform Fees"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:p.platform_fees,onChange:E=>d({...p,platform_fees:parseFloat(E.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Fees"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:p.payment_fees,onChange:E=>d({...p,payment_fees:parseFloat(E.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Collected"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:p.shipping_collected,onChange:E=>d({...p,shipping_collected:parseFloat(E.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Cost"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:p.shipping_cost,onChange:E=>d({...p,shipping_cost:parseFloat(E.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("input",{type:"text",value:p.notes,onChange:E=>d({...p,notes:E.target.value}),placeholder:"Optional notes",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Gross Amount"}),n.jsx("span",{className:"font-medium",children:fe(v)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"+ Shipping Collected"}),n.jsx("span",{className:"font-medium",children:fe(p.shipping_collected)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"- Total Fees"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",fe(N)]})]}),n.jsxs("div",{className:"border-t pt-2 flex justify-between",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:"Net Amount"}),n.jsx("span",{className:"font-bold text-gray-900",children:fe(w)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Cost Basis"}),n.jsx("span",{className:"font-medium",children:fe(h)})]}),n.jsxs("div",{className:"border-t pt-2 mt-6 flex justify-between",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:"Profit"}),n.jsxs("span",{className:`font-bold flex items-center gap-1 ${x>=0?"text-green-600":"text-red-600"}`,children:[x>=0?n.jsx(gs,{size:18}):n.jsx(gl,{size:18}),x>=0?"+":"",fe(x)]})]})]})]})}),n.jsxs("label",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i,onChange:E=>u(E.target.checked),className:"w-5 h-5 rounded text-green-600 focus:ring-green-500"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Remove from Inventory"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Automatically decrease inventory quantities"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[n.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:g.isPending,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:g.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ze,{size:18}),"Record Sale"]})})]})]})]})}),n.jsx(Lj,{isOpen:l,onClose:()=>a(!1),onSelect:P,excludeIds:m.map(E=>E.inventoryItem.id)})]}):null}function Aj({sale:e,isExpanded:t,onToggle:s}){var u,o;const r=((u=e.items)==null?void 0:u.reduce((c,p)=>c+p.quantity,0))||0,l=((o=e.items)==null?void 0:o.reduce((c,p)=>c+(p.cost_basis||0),0))||0,a=e.net_amount-l,i=e.source==="ebay_import";return n.jsxs("div",{className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:[n.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[t?n.jsx(_e,{size:20,className:"text-gray-400"}):n.jsx(mr,{size:20,className:"text-gray-400"}),n.jsxs("div",{className:"text-left",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Up,{size:16,className:"text-gray-400"}),n.jsx("span",{className:"font-medium text-gray-900",children:e.platform||"Direct Sale"}),i&&n.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Imported"}),e.buyer_name&&n.jsxs("span",{className:"text-sm text-gray-500",children:["to ",e.buyer_name]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mt-0.5",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ja,{size:14}),Rj(e.sale_date)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ie,{size:14}),r," item",r!==1?"s":""]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-bold text-gray-900",children:fe(e.net_amount)}),n.jsxs("div",{className:`text-sm font-medium flex items-center justify-end gap-1 ${a>=0?"text-green-600":"text-red-600"}`,children:[a>=0?n.jsx(gs,{size:14}):n.jsx(gl,{size:14}),a>=0?"+":"",fe(a)]})]})]}),t&&n.jsxs("div",{className:"border-t bg-gray-50",children:[i&&e.notes&&n.jsxs("div",{className:"px-4 py-3 bg-blue-50 border-b border-blue-100",children:[n.jsx("div",{className:"text-xs text-blue-600 font-medium mb-1",children:"Listing Title"}),n.jsx("div",{className:"text-sm text-gray-700",children:e.notes})]}),e.items&&e.items.length>0&&n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-gray-500 uppercase",children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Card"}),n.jsx("th",{className:"px-3 py-2 text-center",children:"Qty"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Sale Price"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Cost Basis"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Profit"})]})}),n.jsx("tbody",{className:"divide-y",children:e.items.map(c=>{const p=c.sale_price*c.quantity-(c.cost_basis||0);return n.jsxs("tr",{className:"hover:bg-white",children:[n.jsx("td",{className:"px-4 py-2",children:c.checklist_id&&c.checklist?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",c.checklist.card_number," - ",c.checklist.player_name_raw]}),n.jsx("div",{className:"text-xs text-gray-500",children:c.checklist.set_name})]}):n.jsxs("div",{className:"flex items-center gap-2 text-gray-500 italic",children:[n.jsx(Ie,{size:14}),n.jsx("span",{children:"eBay Listing"})]})}),n.jsx("td",{className:"px-3 py-2 text-center text-gray-600",children:c.quantity}),n.jsx("td",{className:"px-3 py-2 text-right text-gray-600",children:fe(c.sale_price)}),n.jsx("td",{className:"px-3 py-2 text-right text-gray-500",children:c.cost_basis?fe(c.cost_basis):n.jsx("span",{className:"text-gray-400",children:""})}),n.jsx("td",{className:`px-3 py-2 text-right font-medium ${c.cost_basis===null?"text-gray-400":p>=0?"text-green-600":"text-red-600"}`,children:c.cost_basis!==null?n.jsxs(n.Fragment,{children:[p>=0?"+":"",fe(p)]}):""})]},c.id)})}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"bg-gray-100 font-medium",children:[n.jsxs("td",{colSpan:2,className:"px-4 py-2 text-gray-700",children:["Fees: Platform ",fe(e.platform_fees)," / Payment"," ",fe(e.payment_fees)," / Shipping ",fe(e.shipping_cost)]}),n.jsxs("td",{colSpan:3,className:"px-3 py-2 text-right text-gray-900",children:["Net: ",fe(e.net_amount)]})]})})]}),(!e.items||e.items.length===0)&&n.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:"No items recorded"})]})]})}function $j(){const[e,t]=y.useState(null),[s,r]=y.useState(!1),[l,a]=y.useState(""),[i,u]=y.useState({}),{data:o,isLoading:c}=H({queryKey:["sales",l,i],queryFn:()=>W.financial.getSales({platform:l||void 0,start_date:i.start,end_date:i.end})}),{data:p}=H({queryKey:["salesAnalytics",i],queryFn:()=>W.financial.getSalesAnalytics({start_date:i.start,end_date:i.end})}),d=(o==null?void 0:o.reduce((v,N)=>v+(N.net_amount||0),0))||0,m=(o==null?void 0:o.reduce((v,N)=>{var w;return v+(((w=N.items)==null?void 0:w.reduce((h,x)=>h+x.quantity,0))||0)},0))||0,f=(o==null?void 0:o.reduce((v,N)=>{var h;const w=((h=N.items)==null?void 0:h.reduce((x,g)=>x+(g.cost_basis||0),0))||0;return v+(N.net_amount-w)},0))||0;return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sales"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Track revenue and profit from card sales"})]}),n.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(me,{size:18}),"Record Sale"]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Sales"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(o==null?void 0:o.length)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Cards Sold"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:m})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:fe(d)})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Profit"}),n.jsxs("div",{className:`text-2xl font-bold flex items-center gap-1 ${f>=0?"text-green-600":"text-red-600"}`,children:[f>=0?n.jsx(gs,{size:20}):n.jsx(gl,{size:20}),f>=0?"+":"",fe(f)]})]})]}),n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Platform"}),n.jsxs("select",{value:l,onChange:v=>a(v.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[n.jsx("option",{value:"",children:"All Platforms"}),n.jsx("option",{value:"eBay",children:"eBay"}),n.jsx("option",{value:"COMC",children:"COMC"}),n.jsx("option",{value:"MySlabs",children:"MySlabs"}),n.jsx("option",{value:"Facebook",children:"Facebook"}),n.jsx("option",{value:"In Person",children:"In Person"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"From"}),n.jsx("input",{type:"date",value:i.start||"",onChange:v=>u({...i,start:v.target.value||void 0}),className:"px-3 py-2 border rounded-lg text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"To"}),n.jsx("input",{type:"date",value:i.end||"",onChange:v=>u({...i,end:v.target.value||void 0}),className:"px-3 py-2 border rounded-lg text-sm"})]})]}),c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):(o==null?void 0:o.length)===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[n.jsx(pr,{className:"mx-auto text-gray-400 mb-3",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No sales yet"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Record your first sale or import from eBay to start tracking profit"}),n.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[n.jsx(me,{size:18}),"Record Sale"]})]}):n.jsx("div",{className:"space-y-3",children:o==null?void 0:o.map(v=>n.jsx(Aj,{sale:v,isExpanded:e===v.id,onToggle:()=>t(e===v.id?null:v.id)},v.id))}),n.jsx(Dj,{isOpen:s,onClose:()=>r(!1),onSuccess:()=>{}})]})}function Uj(){const[e,t]=y.useState("select"),[s,r]=y.useState(null),[l,a]=y.useState(""),[i,u]=y.useState(null),[o,c]=y.useState(null),[p,d]=y.useState(""),[m,f]=y.useState(!1),{data:v}=H({queryKey:["product-lines"],queryFn:()=>W.products.getProductLines()}),N=ge({mutationFn:P=>W.checklists.previewChecklistUpload(P),onSuccess:P=>{u(P),t("preview"),d("")},onError:P=>d(P.message)}),w=ge({mutationFn:({file:P,productLineId:k})=>W.checklists.uploadChecklist(P,k),onSuccess:P=>{c(P),t("result"),d("")},onError:P=>d(P.message)}),h=y.useCallback(P=>{P.preventDefault(),f(!1);const k=P.dataTransfer.files[0];k&&(k.name.endsWith(".csv")||k.name.endsWith(".xlsx")||k.name.endsWith(".xls"))?(r(k),N.mutate(k)):d("Please upload a CSV or Excel file")},[]),x=P=>{var I;const k=(I=P.target.files)==null?void 0:I[0];k&&(r(k),N.mutate(k))},g=()=>{if(!s||!l){d("Please select a product line");return}w.mutate({file:s,productLineId:l})},j=()=>{t("select"),r(null),a(""),u(null),c(null),d("")};return n.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Upload Checklist"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Import a checklist CSV or Excel file from Topps, Bowman, or other sources"})]}),n.jsx("div",{className:"flex items-center gap-4 mb-8",children:["Select File","Preview","Complete"].map((P,k)=>{const I=k+1,S=e==="select"&&I===1||e==="preview"&&I===2||e==="result"&&I===3,E=e==="preview"&&I===1||e==="result"&&I<=2;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${E?"bg-green-500 text-white":S?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:E?n.jsx(Ze,{size:16}):I}),n.jsx("span",{className:`text-sm ${S?"text-gray-900 font-medium":"text-gray-500"}`,children:P}),k<2&&n.jsx(fy,{className:"text-gray-300 ml-2",size:16})]},P)})}),p&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[n.jsx(xs,{size:18}),p]}),e==="select"&&n.jsxs("div",{onDragOver:P=>{P.preventDefault(),f(!0)},onDragLeave:()=>f(!1),onDrop:h,className:`border-2 border-dashed rounded-xl p-12 text-center transition-colors ${m?"border-blue-500 bg-blue-50":"border-gray-200 bg-gray-50"}`,children:[n.jsx(Vc,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop your checklist file here"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Supports CSV and Excel files (.csv, .xlsx, .xls)"}),n.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg cursor-pointer hover:bg-blue-700 transition-colors",children:[n.jsx(Pa,{size:18}),"Choose File",n.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:x,className:"hidden"})]}),N.isPending&&n.jsx("p",{className:"mt-4 text-blue-600",children:"Analyzing file..."})]}),e==="preview"&&i&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(Pa,{className:"text-green-500",size:24}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:s==null?void 0:s.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[i.total_rows," rows detected"]})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Product Line *"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:l,onChange:P=>a(P.target.value),className:"w-full appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Choose a product line..."}),v==null?void 0:v.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]}),n.jsx(_e,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Detected Column Mappings"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(i.detected_columns).map(([P,k])=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-50 text-green-700 rounded text-sm",children:[n.jsx(Ze,{size:14}),P,': "',k,'"']},P))}),i.unmapped_columns.length>0&&n.jsx("div",{className:"mt-2",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["Unmapped columns: ",i.unmapped_columns.join(", ")]})})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b",children:n.jsx("h4",{className:"font-medium text-gray-900",children:"Sample Data (first 10 rows)"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsx("tr",{className:"bg-gray-50 border-b",children:i.sample_rows.length>0&&Object.keys(i.sample_rows[0]).map(P=>n.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600 whitespace-nowrap",children:P},P))})}),n.jsx("tbody",{className:"divide-y",children:i.sample_rows.map((P,k)=>n.jsx("tr",{className:"hover:bg-gray-50",children:Object.values(P).map((I,S)=>n.jsx("td",{className:"px-3 py-2 text-gray-700 whitespace-nowrap",children:String(I||"")},S))},k))})]})})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:j,className:"px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:g,disabled:!l||w.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w.isPending?"Importing...":`Import ${i.total_rows} Cards`})]})]}),e==="result"&&o&&n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ze,{className:"text-green-600",size:32})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Import Complete!"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 my-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.total_rows}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Rows"})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.cards_created}),n.jsx("p",{className:"text-sm text-gray-500",children:"Cards Created"})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.cards_updated}),n.jsx("p",{className:"text-sm text-gray-500",children:"Cards Updated"})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.players_created}),n.jsx("p",{className:"text-sm text-gray-500",children:"New Players"})]})]}),o.errors.length>0&&n.jsxs("div",{className:"mt-4 text-left bg-amber-50 border border-amber-200 rounded-lg p-4",children:[n.jsxs("h4",{className:"font-medium text-amber-800 mb-2",children:[o.errors.length," rows had issues:"]}),n.jsxs("ul",{className:"text-sm text-amber-700 space-y-1 max-h-40 overflow-y-auto",children:[o.errors.slice(0,10).map((P,k)=>n.jsx("li",{children:P},k)),o.errors.length>10&&n.jsxs("li",{className:"text-amber-600",children:["...and ",o.errors.length-10," more"]})]})]}),n.jsx("button",{onClick:j,className:"mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Upload Another File"})]})]})}const Hp=["Baseball","Basketball","Football","Hockey","Soccer","Golf","NASCAR","Wrestling","MMA","Other"],qj=["PSA/DNA","JSA","Beckett Authentication","SGC","Fanatics","MLB Authentication","Steiner","Other"],Bj=["Baseball","Basketball","Football","Hockey Puck","Golf Ball","Jersey","Helmet","Bat","Glove","Cleats","Photo","Poster","Lithograph","Game-Used","Event-Used","Book","Magazine","Other"],Qj=["Diecast","Bobblehead","Figurine","Funko Pop","SGA Item","Stadium Giveaway","Program","Ticket","Media Pass","Plaque","Award","Trophy","Novelty","Promotional","Other"],Kj=["Mint","Near Mint","Excellent","Very Good","Good","Fair","Poor"],Vj=[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"},{value:"DC",label:"District of Columbia"}];new Date().getFullYear();function Hj(){return new Date().toISOString().split("T")[0]}Hj();const Wj=({city:e,state:t,className:s=""})=>{if(!e&&!t)return n.jsx("span",{className:`text-gray-400 ${s}`,children:""});const r=[e,t].filter(Boolean);return n.jsx("span",{className:s,children:r.join(", ")})};function Gj(e){return e==null?"":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Yj(){const e=tt(),[t,s]=y.useState(!1),[r,l]=y.useState(null),[a,i]=y.useState(null),[u,o]=y.useState(!1),{data:c,isLoading:p}=H({queryKey:["consigners",u],queryFn:()=>W.consignments.getConsigners({active_only:!u})}),d=()=>{s(!1),e.invalidateQueries({queryKey:["consigners"]})},m=()=>{l(null),e.invalidateQueries({queryKey:["consigners"]})};return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consigners"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage people who get autographs at games and events"})]}),n.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(me,{size:18}),"Add Consigner"]})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:u,onChange:f=>o(f.target.checked),className:"rounded border-gray-300"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Show inactive consigners"})]})}),p?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((f,v)=>n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-32 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]},v))}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c==null?void 0:c.map(f=>n.jsx(Jj,{consigner:f,isExpanded:a===f.id,onToggle:()=>i(a===f.id?null:f.id),onEdit:()=>l(f),onUpdate:()=>e.invalidateQueries({queryKey:["consigners"]})},f.id)),(c==null?void 0:c.length)===0&&n.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No consigners found. Add one to start tracking autograph consignments."})]}),t&&n.jsx(Td,{onClose:()=>s(!1),onSuccess:d}),r&&n.jsx(Td,{consigner:r,onClose:()=>l(null),onSuccess:m})]})}function Jj({consigner:e,isExpanded:t,onToggle:s,onEdit:r,onUpdate:l}){const[a,i]=y.useState(!1),u=ge({mutationFn:()=>W.consignments.updateConsigner(e.id,{is_active:!e.is_active}),onSuccess:l}),o=async()=>{e.formatted_address&&(await navigator.clipboard.writeText(e.formatted_address),i(!0),setTimeout(()=>i(!1),2e3))};return n.jsxs("div",{className:`bg-white rounded-xl border transition-all ${e.is_active?"border-gray-100 hover:border-gray-200":"border-gray-200 bg-gray-50"}`,children:[n.jsx("div",{className:"p-6 cursor-pointer",onClick:s,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),!e.is_active&&n.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-200 text-gray-600 rounded",children:"Inactive"})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-1 text-sm text-gray-500",children:[n.jsx(Sd,{size:14}),n.jsx(Wj,{city:e.city,state:e.state})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[e.default_fee&&n.jsxs("span",{className:"text-sm font-medium text-green-600",children:[Gj(Number(e.default_fee)),"/card"]}),t?n.jsx(Mp,{size:20}):n.jsx(_e,{size:20})]})]})}),t&&n.jsxs("div",{className:"px-6 pb-6 border-t border-gray-100 pt-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[e.email&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Lp,{size:14,className:"text-gray-400"}),n.jsx("a",{href:`mailto:${e.email}`,className:"hover:text-blue-600",children:e.email})]}),e.phone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Dp,{size:14,className:"text-gray-400"}),n.jsx("a",{href:`tel:${e.phone}`,className:"hover:text-blue-600",children:e.phone})]})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1 flex items-center gap-1",children:[n.jsx(Sd,{size:12}),"Shipping Address"]}),e.formatted_address?n.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:e.formatted_address}):n.jsx("div",{className:"text-sm text-gray-400 italic",children:"No address on file"})]}),e.formatted_address&&n.jsx("button",{onClick:c=>{c.stopPropagation(),o()},className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded transition-colors",title:"Copy address",children:a?n.jsx(Ze,{size:16,className:"text-green-500"}):n.jsx(Op,{size:16})})]})}),(e.payment_method||e.payment_details)&&n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"text-xs text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[n.jsx(Xa,{size:12}),"Payment"]}),e.payment_method&&n.jsx("div",{className:"text-sm text-gray-700",children:e.payment_method}),e.payment_details&&n.jsx("div",{className:"text-sm text-gray-500",children:e.payment_details})]}),e.notes&&n.jsx("div",{className:"text-sm text-gray-600 bg-yellow-50 p-2 rounded",children:e.notes}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsxs("button",{onClick:c=>{c.stopPropagation(),r()},className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[n.jsx(Qc,{size:14}),"Edit"]}),n.jsx("button",{onClick:c=>{c.stopPropagation(),u.mutate()},disabled:u.isPending,className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${e.is_active?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:e.is_active?"Mark Inactive":"Mark Active"})]})]})]})}function Td({consigner:e,onClose:t,onSuccess:s}){const r=!!e,[l,a]=y.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",street_address:(e==null?void 0:e.street_address)||"",city:(e==null?void 0:e.city)||"",state:(e==null?void 0:e.state)||"",postal_code:(e==null?void 0:e.postal_code)||"",country:(e==null?void 0:e.country)||"USA",location:(e==null?void 0:e.location)||"",default_fee:e!=null&&e.default_fee?Number(e.default_fee):void 0,payment_method:(e==null?void 0:e.payment_method)||"",payment_details:(e==null?void 0:e.payment_details)||"",notes:(e==null?void 0:e.notes)||"",is_active:(e==null?void 0:e.is_active)??!0}),[i,u]=y.useState(""),o=ge({mutationFn:m=>W.consignments.createConsigner(m),onSuccess:s,onError:m=>u(m.message)}),c=ge({mutationFn:m=>W.consignments.updateConsigner(e.id,m),onSuccess:s,onError:m=>u(m.message)}),p=m=>{if(m.preventDefault(),u(""),!l.name.trim()){u("Name is required");return}r?c.mutate(l):o.mutate(l)},d=o.isPending||c.isPending;return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 rounded-t-xl",children:n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r?"Edit Consigner":"Add Consigner"})}),n.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[i&&n.jsx("div",{className:"bg-red-50 text-red-700 px-4 py-3 rounded-lg text-sm",children:i}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 border-b pb-1",children:"Basic Information"}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:l.name,onChange:m=>a({...l,name:m.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John Smith",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:l.email||"",onChange:m=>a({...l,email:m.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"john@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("input",{type:"tel",value:l.phone||"",onChange:m=>a({...l,phone:m.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"(555) 123-4567"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 border-b pb-1",children:"Shipping Address"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),n.jsx("input",{type:"text",value:l.street_address||"",onChange:m=>a({...l,street_address:m.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123 Main St, Suite 100"})]}),n.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[n.jsxs("div",{className:"col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),n.jsx("input",{type:"text",value:l.city||"",onChange:m=>a({...l,city:m.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"City"})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),n.jsxs("select",{value:l.state||"",onChange:m=>a({...l,state:m.target.value}),className:"w-full border border-gray-200 rounded-lg px-2 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"--"}),Vj.map(m=>n.jsx("option",{value:m.value,children:m.value},m.value))]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP"}),n.jsx("input",{type:"text",value:l.postal_code||"",onChange:m=>a({...l,postal_code:m.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12345",maxLength:10})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),n.jsx("input",{type:"text",value:l.country||"USA",onChange:m=>a({...l,country:m.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"USA"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Location Label",n.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(optional)"})]}),n.jsx("input",{type:"text",value:l.location||"",onChange:m=>a({...l,location:m.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Home, Office, Spring Training"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"A label to identify this address"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 border-b pb-1",children:"Fee & Payment"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Fee per Card"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:l.default_fee??"",onChange:m=>a({...l,default_fee:m.target.value?parseFloat(m.target.value):void 0}),className:"w-full border border-gray-200 rounded-lg pl-7 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),n.jsxs("select",{value:l.payment_method||"",onChange:m=>a({...l,payment_method:m.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select method..."}),n.jsx("option",{value:"Venmo",children:"Venmo"}),n.jsx("option",{value:"PayPal",children:"PayPal"}),n.jsx("option",{value:"Zelle",children:"Zelle"}),n.jsx("option",{value:"Check",children:"Check"}),n.jsx("option",{value:"Cash",children:"Cash"}),n.jsx("option",{value:"Other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Details"}),n.jsx("input",{type:"text",value:l.payment_details||"",onChange:m=>a({...l,payment_details:m.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., @venmo-handle, paypal@email.com"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:l.notes||"",onChange:m=>a({...l,notes:m.target.value}),rows:3,className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Any additional notes about this consigner..."})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",disabled:d,children:"Cancel"}),n.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?r?"Saving...":"Creating...":r?"Save Changes":"Add Consigner"})]})]})]})})}function vs(e){return e==null?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}function Xj({embedded:e=!1}){const t=tt(),[s,r]=y.useState([]),[l,a]=y.useState(!1),[i,u]=y.useState(""),[o,c]=y.useState("selected"),[p,d]=y.useState(""),[m,f]=y.useState(""),[v,N]=y.useState(0),w=50,[h,x]=y.useState(null),g=y.useCallback(T=>{d(T);const L=setTimeout(()=>{f(T),N(0)},300);return()=>clearTimeout(L)},[]),{data:j,isLoading:P,error:k}=H({queryKey:["pricing-matrix",m,o==="all",v,s],queryFn:()=>kd.getMatrix({player_search:m||void 0,only_with_prices:o==="selected",limit:w,offset:v*w})}),{data:I}=H({queryKey:["players-for-matrix",i],queryFn:()=>Hy.getPlayers({search:i,limit:50}),enabled:l}),S=y.useMemo(()=>{if(!I||I.length===0)return[];const T=new Set(s);return j!=null&&j.players&&j.players.forEach(L=>T.add(L.id)),I.filter(L=>!T.has(L.id))},[I,s,j]),E=ge({mutationFn:T=>kd.createPrice(T),onSuccess:()=>{t.invalidateQueries({queryKey:["pricing-matrix"]}),x(null)}}),C=y.useMemo(()=>{if(!j)return{};const T={};return j.consigners.forEach(L=>{T[L.id]={count:0,total:0,min:1/0,max:-1/0}}),j.players.forEach(L=>{Object.entries(L.prices).forEach(([Q,X])=>{if(X.price_per_card!==null){const ye=T[Q];ye.count++,ye.total+=X.price_per_card,ye.min=Math.min(ye.min,X.price_per_card),ye.max=Math.max(ye.max,X.price_per_card)}})}),T},[j]),_=(T,L,Q)=>{x({playerId:T,consignerId:L,value:(Q==null?void 0:Q.toString())||""})},M=()=>{if(!h)return;const T=parseFloat(h.value);if(isNaN(T)||T<0){alert("Please enter a valid price");return}E.mutate({player_id:h.playerId,consigner_id:h.consignerId,price_per_card:T})},q=()=>{x(null)},K=T=>{let L=null;return Object.entries(T.prices).forEach(([Q,X])=>{X.price_per_card!==null&&(!L||X.price_per_card<L.price)&&(L={consignerId:Q,price:X.price_per_card})}),L},Re=T=>{r(L=>[...L,T.id]),a(!1),u("")},A=T=>{r(L=>L.filter(Q=>Q!==T))},R=()=>{if(!j)return;const T=["Player",...j.consigners.map(re=>re.name)],L=j.players.map(re=>[re.name,...j.consigners.map(yt=>{var Un;const Pt=(Un=re.prices[yt.id])==null?void 0:Un.price_per_card;return Pt!==null?Pt.toString():""})]),Q=[T,...L].map(re=>re.join(",")).join(`
`),X=new Blob([Q],{type:"text/csv"}),ye=URL.createObjectURL(X),nt=document.createElement("a");nt.href=ye,nt.download="consigner-pricing-matrix.csv",nt.click()},O=j?Math.ceil(j.total_players/w):0;return k?n.jsx("div",{className:e?"":"p-8",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:["Error loading pricing matrix: ",k.message]})}):n.jsxs("div",{className:e?"":"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{children:!e&&n.jsxs(n.Fragment,{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pricing Matrix"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Compare consigner prices across players - Click any cell to edit"})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(me,{size:18}),"Add Player"]}),n.jsxs("button",{onClick:R,disabled:!j,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:[n.jsx(yy,{size:18}),"Export CSV"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",value:p,onChange:T=>g(T.target.value),placeholder:"Search players...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>{c("selected"),N(0)},className:`px-3 py-1.5 text-sm rounded-md transition-colors ${o==="selected"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"With Prices"}),n.jsx("button",{onClick:()=>{c("all"),N(0)},className:`px-3 py-1.5 text-sm rounded-md transition-colors ${o==="all"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"All Players"})]}),j&&n.jsxs("div",{className:"text-sm text-gray-500",children:[j.total_players," players  ",j.total_consigners," consigners"]})]}),P?n.jsx("div",{className:"bg-white rounded-xl border-2 border-gray-300 p-8",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-full"}),[...Array(10)].map((T,L)=>n.jsx("div",{className:"h-12 bg-gray-100 rounded w-full"},L))]})}):j&&j.consigners.length>0?n.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-300 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"sticky left-0 bg-gray-100 px-4 py-3 text-left text-sm font-semibold text-gray-900 min-w-[200px] z-10 border-b-2 border-r-2 border-gray-400",children:"Player"}),j.consigners.map((T,L)=>n.jsxs("th",{className:`px-4 py-3 text-center text-sm font-semibold text-gray-900 min-w-[130px] border-b-2 border-gray-400 ${L<j.consigners.length-1?"border-r-2 border-gray-300":""}`,children:[n.jsx("div",{children:T.name}),T.default_fee&&n.jsxs("div",{className:"text-xs font-normal text-gray-500",children:["Default: ",vs(T.default_fee)]})]},T.id)),n.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-900 min-w-[100px] border-b-2 border-l-2 border-gray-400 bg-green-50",children:"Best"}),o==="selected"&&n.jsx("th",{className:"px-2 py-3 text-center text-sm font-semibold text-gray-900 w-10 border-b-2 border-l-2 border-gray-400"})]})}),n.jsx("tbody",{children:j.players.map((T,L)=>{const Q=K(T),X=L%2===0;return n.jsxs("tr",{className:X?"bg-white":"bg-gray-50",children:[n.jsxs("td",{className:`sticky left-0 ${X?"bg-white":"bg-gray-50"} px-4 py-3 text-sm font-medium text-gray-900 z-10 border-b border-r-2 border-gray-400`,children:[n.jsx("div",{children:T.name}),T.team&&n.jsx("div",{className:"text-xs text-gray-500",children:T.team})]}),j.consigners.map((ye,nt)=>{const re=T.prices[ye.id],yt=(h==null?void 0:h.playerId)===T.id&&(h==null?void 0:h.consignerId)===ye.id,Pt=(Q==null?void 0:Q.consignerId)===ye.id&&(re==null?void 0:re.price_per_card)!==null;return n.jsx("td",{className:`px-4 py-3 text-center text-sm border-b border-gray-200 ${nt<j.consigners.length-1?"border-r-2 border-gray-300":""} ${Pt?"bg-green-50":""}`,children:yt?n.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[n.jsx("span",{className:"text-gray-400",children:"$"}),n.jsx("input",{type:"number",value:h.value,onChange:Un=>x({...h,value:Un.target.value}),onKeyDown:Un=>{Un.key==="Enter"&&M(),Un.key==="Escape"&&q()},className:"w-16 px-1 py-0.5 border border-blue-400 rounded text-center focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0,min:"0",step:"0.01"}),n.jsx("button",{onClick:M,disabled:E.isPending,className:"p-0.5 text-green-600 hover:bg-green-100 rounded",children:n.jsx(Ze,{size:14})}),n.jsx("button",{onClick:q,className:"p-0.5 text-red-600 hover:bg-red-100 rounded",children:n.jsx(et,{size:14})})]}):n.jsx("button",{onClick:()=>_(T.id,ye.id,(re==null?void 0:re.price_per_card)??null),className:`w-full px-2 py-1 rounded transition-colors ${(re==null?void 0:re.price_per_card)!==null?Pt?"text-green-700 font-semibold hover:bg-green-100":"text-gray-900 hover:bg-gray-100":"text-gray-400 hover:bg-gray-100 hover:text-gray-600"}`,children:(re==null?void 0:re.price_per_card)!==null?vs(re.price_per_card):"-"})},ye.id)}),n.jsx("td",{className:"px-4 py-3 text-center text-sm border-b border-gray-200 border-l-2 border-gray-400 bg-green-50",children:Q?n.jsx("div",{className:"text-green-700 font-semibold",children:vs(Q.price)}):n.jsx("span",{className:"text-gray-400",children:"-"})}),o==="selected"&&n.jsx("td",{className:"px-2 py-3 text-center border-b border-gray-200 border-l-2 border-gray-400",children:n.jsx("button",{onClick:()=>A(T.id),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remove from matrix",children:n.jsx(rn,{size:14})})})]},T.id)})}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"bg-gray-100 border-t-2 border-gray-400",children:[n.jsx("td",{className:"sticky left-0 bg-gray-100 px-4 py-3 text-sm font-semibold text-gray-700 z-10 border-r-2 border-gray-400",children:"Summary"}),j.consigners.map((T,L)=>{const Q=C[T.id];return n.jsx("td",{className:`px-4 py-2 text-center text-xs text-gray-600 ${L<j.consigners.length-1?"border-r-2 border-gray-300":""}`,children:Q&&Q.count>0?n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs("div",{children:[Q.count," prices"]}),n.jsxs("div",{children:["Avg: ",vs(Q.total/Q.count)]}),n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsxs("span",{className:"text-green-600 flex items-center gap-0.5",children:[n.jsx(gl,{size:10}),vs(Q.min)]}),n.jsx(wy,{size:10,className:"text-gray-400"}),n.jsxs("span",{className:"text-red-600 flex items-center gap-0.5",children:[n.jsx(gs,{size:10}),vs(Q.max)]})]})]}):n.jsx("span",{className:"text-gray-400",children:"No prices"})},T.id)}),n.jsx("td",{className:"px-4 py-3 border-l-2 border-gray-400"}),o==="selected"&&n.jsx("td",{className:"border-l-2 border-gray-400"})]})})]})}),O>1&&n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t-2 border-gray-300",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",v*w+1," -"," ",Math.min((v+1)*w,j.total_players)," of"," ",j.total_players]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>N(T=>Math.max(0,T-1)),disabled:v===0,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(xy,{size:18})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",v+1," of ",O]}),n.jsx("button",{onClick:()=>N(T=>Math.min(O-1,T+1)),disabled:v>=O-1,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(mr,{size:18})})]})]})]}):j&&j.players.length===0?n.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-300 p-12 text-center",children:[n.jsx(Hc,{className:"mx-auto text-gray-300 mb-4",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Players in Matrix"}),n.jsx("p",{className:"text-gray-500 mb-6",children:'Click "Add Player" to start building your pricing comparison matrix.'}),n.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(me,{size:18}),"Add Player"]})]}):n.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-300 p-12 text-center",children:[n.jsx(pr,{className:"mx-auto text-gray-300 mb-4",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Consigners"}),n.jsx("p",{className:"text-gray-500",children:"Add consigners first to start tracking prices."})]}),n.jsxs("div",{className:"mt-4 flex items-center gap-6 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-green-50 border-2 border-green-300 rounded"}),n.jsx("span",{children:"Best price for player"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-gray-400",children:"-"}),n.jsx("span",{children:"No price set (click to add)"})]})]}),l&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Player to Matrix"}),n.jsx("button",{onClick:()=>{a(!1),u("")},className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:n.jsx(et,{size:20})})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx(tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",value:i,onChange:T=>u(T.target.value),placeholder:"Search players...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0})]}),n.jsx("div",{className:"max-h-64 overflow-y-auto",children:S.length>0?n.jsx("div",{className:"space-y-1",children:S.map(T=>n.jsxs("button",{onClick:()=>Re(T),className:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900",children:T.name}),T.team&&n.jsx("div",{className:"text-sm text-gray-500",children:T.team})]},T.id))}):i?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:['No players found matching "',i,'"']}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Type to search for players"})})]})]})})]})}function ll(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function zd(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Fd(){return new Date().toISOString().split("T")[0]}const Md={pending:{bg:"bg-amber-100",text:"text-amber-700",label:"Pending"},partial:{bg:"bg-blue-100",text:"text-blue-700",label:"Partial Return"},complete:{bg:"bg-green-100",text:"text-green-700",label:"Complete"},cancelled:{bg:"bg-gray-100",text:"text-gray-700",label:"Cancelled"}};function Zj({isOpen:e,onClose:t,onSelect:s,excludeIds:r=[]}){const[l,a]=y.useState(""),{data:i,isLoading:u}=H({queryKey:["checklists-search",l],queryFn:()=>W.checklists.getChecklists({search:l||void 0,limit:50}),enabled:e&&l.length>=2}),o=(i==null?void 0:i.filter(c=>!r.includes(c.id)))||[];return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Search Cards"}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(et,{size:20})})]}),n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"relative",children:[n.jsx(tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by player name...",value:l,onChange:c=>a(c.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.length<2?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"Type at least 2 characters to search"}):u?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No cards found"}):n.jsx("div",{className:"space-y-2",children:o.map(c=>{var p;return n.jsxs("button",{onClick:()=>{s(c),t()},className:"w-full text-left p-3 rounded-lg border hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",c.card_number," - ",c.player_name_raw]}),n.jsx("div",{className:"text-sm text-gray-500",children:c.set_name||((p=c.product_line)==null?void 0:p.name)})]},c.id)})})})]})}):null}function eb({isOpen:e,onClose:t,onSuccess:s,consigners:r}){const l=tt(),[a,i]=y.useState(null),[u,o]=y.useState(!1),[c,p]=y.useState({consigner_id:"",date_sent:Fd(),reference_number:"",expected_return_date:"",shipping_out_cost:0,notes:""}),[d,m]=y.useState([]),f=r.find(k=>k.id===c.consigner_id),v=(f==null?void 0:f.default_fee)||0,N=d.reduce((k,I)=>k+I.quantity*I.fee_per_card,0),w=ge({mutationFn:k=>W.consignments.createConsignment(k),onSuccess:()=>{l.invalidateQueries({queryKey:["consignments"]}),s(),j()},onError:k=>{i(k.message)}}),h=k=>{m(I=>[...I,{id:crypto.randomUUID(),checklist:k,quantity:1,fee_per_card:v}])},x=k=>{m(I=>I.filter(S=>S.id!==k))},g=(k,I)=>{m(S=>S.map(E=>E.id===k?{...E,...I}:E))},j=()=>{p({consigner_id:"",date_sent:Fd(),reference_number:"",expected_return_date:"",shipping_out_cost:0,notes:""}),m([]),i(null),t()},P=k=>{if(k.preventDefault(),i(null),!c.consigner_id){i("Please select a consigner");return}if(d.length===0){i("Please add at least one card");return}if(d.filter(E=>E.checklist).length===0){i("Please add at least one valid card");return}const S={consigner_id:c.consigner_id,date_sent:c.date_sent,reference_number:c.reference_number||null,expected_return_date:c.expected_return_date||null,status:"pending",total_fee:N,fee_paid:!1,shipping_out_cost:c.shipping_out_cost,shipping_return_cost:0,notes:c.notes||null};w.mutate(S)};return e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Ie,{className:"text-purple-600",size:20})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"New Consignment"})]}),n.jsx("button",{onClick:j,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(et,{size:20})})]}),n.jsxs("form",{onSubmit:P,className:"flex-1 overflow-y-auto",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[a&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[n.jsx(xs,{size:18}),n.jsx("span",{children:a})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"col-span-2 md:col-span-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Consigner *"}),n.jsxs("select",{value:c.consigner_id,onChange:k=>p({...c,consigner_id:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,children:[n.jsx("option",{value:"",children:"Select consigner..."}),r.map(k=>n.jsx("option",{value:k.id,children:k.name},k.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Sent *"}),n.jsx("input",{type:"date",value:c.date_sent,onChange:k=>p({...c,date_sent:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference #"}),n.jsx("input",{type:"text",value:c.reference_number,onChange:k=>p({...c,reference_number:k.target.value}),placeholder:"Optional",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Return"}),n.jsx("input",{type:"date",value:c.expected_return_date,onChange:k=>p({...c,expected_return_date:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Cost"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:c.shipping_out_cost||"",onChange:k=>p({...c,shipping_out_cost:parseFloat(k.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cards *"}),n.jsxs("button",{type:"button",onClick:()=>o(!0),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-700",children:[n.jsx(me,{size:16}),"Add Card"]})]}),d.length===0?n.jsxs("div",{onClick:()=>o(!0),className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-colors",children:[n.jsx(Ie,{className:"mx-auto text-gray-400 mb-2",size:32}),n.jsx("p",{className:"text-gray-500",children:"Click to add cards to this consignment"})]}):n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Card"}),n.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Qty"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-28",children:"Fee/Card"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Total"}),n.jsx("th",{className:"px-3 py-2 w-10"})]})}),n.jsx("tbody",{className:"divide-y",children:d.map(k=>{var I,S;return n.jsxs("tr",{children:[n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{className:"font-medium text-gray-900",children:["#",(I=k.checklist)==null?void 0:I.card_number," - ",(S=k.checklist)==null?void 0:S.player_name_raw]})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"number",min:"1",value:k.quantity,onChange:E=>g(k.id,{quantity:parseInt(E.target.value)||1}),className:"w-full px-2 py-1 border rounded text-center"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:k.fee_per_card,onChange:E=>g(k.id,{fee_per_card:parseFloat(E.target.value)||0}),className:"w-full pl-6 pr-2 py-1 border rounded text-right"})]})}),n.jsx("td",{className:"px-3 py-2 text-right font-medium text-gray-900",children:ll(k.quantity*k.fee_per_card)}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("button",{type:"button",onClick:()=>x(k.id),className:"p-1 text-gray-400 hover:text-red-600",children:n.jsx(rn,{size:16})})})]},k.id)})})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:c.notes,onChange:k=>p({...c,notes:k.target.value}),placeholder:"Optional notes...",rows:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-gray-600",children:[d.length," card(s)"]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Fee"}),n.jsx("div",{className:"text-xl font-bold text-purple-700",children:ll(N)})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[n.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:w.isPending,className:"flex items-center gap-2 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:w.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ze,{size:18}),"Create Consignment"]})})]})]})]})}),n.jsx(Zj,{isOpen:u,onClose:()=>o(!1),onSelect:h,excludeIds:d.filter(k=>k.checklist).map(k=>k.checklist.id)})]}):null}function tb({consignment:e,isExpanded:t,onToggle:s}){var i,u,o,c,p;const r=Md[e.status]||Md.pending,l=((i=e.items)==null?void 0:i.reduce((d,m)=>d+m.quantity,0))||0,a=((u=e.items)==null?void 0:u.filter(d=>d.status==="signed").length)||0;return n.jsxs("div",{className:`bg-white rounded-xl border transition-all ${t?"border-blue-200 shadow-md":"border-gray-100"}`,children:[n.jsx("div",{className:"p-6 cursor-pointer",onClick:s,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t?n.jsx(_e,{className:"text-purple-600",size:20}):n.jsx(mr,{className:"text-purple-600",size:20})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:((o=e.consigner)==null?void 0:o.name)||"Unknown Consigner"}),n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${r.bg} ${r.text}`,children:r.label}),e.fee_paid&&n.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-green-100 text-green-700",children:"Paid"})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ja,{size:14}),zd(e.date_sent)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ie,{size:14}),l," cards"]}),e.reference_number&&n.jsxs("span",{children:["#",e.reference_number]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xl font-bold text-gray-900",children:ll(e.total_fee)}),n.jsxs("p",{className:"text-sm text-gray-500",children:[a,"/",l," signed"]})]})]})}),t&&n.jsxs("div",{className:"border-t border-gray-100 p-6",children:[e.expected_return_date&&n.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg text-sm text-blue-700",children:["Expected return: ",zd(e.expected_return_date)]}),e.notes&&n.jsx("p",{className:"text-sm text-gray-600 mb-4 p-3 bg-gray-50 rounded-lg",children:e.notes}),n.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Items (",((c=e.items)==null?void 0:c.length)||0,")"]}),n.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100 text-left text-gray-600",children:[n.jsx("th",{className:"px-3 py-2 font-medium",children:"Card"}),n.jsx("th",{className:"px-3 py-2 font-medium text-center",children:"Status"}),n.jsx("th",{className:"px-3 py-2 font-medium text-center",children:"Inscription"}),n.jsx("th",{className:"px-3 py-2 font-medium text-right",children:"Fee"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:(p=e.items)==null?void 0:p.map(d=>{var m,f,v;return n.jsxs("tr",{children:[n.jsx("td",{className:"px-3 py-2 text-gray-900",children:((f=(m=d.checklist)==null?void 0:m.player)==null?void 0:f.name)||((v=d.checklist)==null?void 0:v.player_name_raw)||"Unknown"}),n.jsx("td",{className:"px-3 py-2 text-center",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${d.status==="signed"?"bg-green-100 text-green-700":d.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:d.status})}),n.jsx("td",{className:"px-3 py-2 text-center text-gray-600",children:d.inscription||"-"}),n.jsx("td",{className:"px-3 py-2 text-right text-gray-600",children:ll(d.fee_per_card*d.quantity)})]},d.id)})})]})})]})]})}function nb(){const[e,t]=y.useState("consignments"),[s,r]=y.useState(""),[l,a]=y.useState(""),[i,u]=y.useState(null),[o,c]=y.useState(!1),{data:p=[]}=H({queryKey:["consigners"],queryFn:()=>W.consignments.getConsigners()}),{data:d,isLoading:m}=H({queryKey:["consignments",s,l],queryFn:()=>W.consignments.getConsignments({consigner_id:s||void 0,status:l||void 0})}),f=(d==null?void 0:d.filter(w=>w.status==="pending"))||[],v=f.reduce((w,h)=>{var x;return w+(((x=h.items)==null?void 0:x.length)||0)},0),N=f.reduce((w,h)=>w+(h.total_fee||0),0);return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consignments"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Track cards sent out for autographs and compare consigner pricing"})]}),e==="consignments"&&n.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(me,{size:18}),"New Consignment"]})]}),n.jsxs("div",{className:"flex items-center gap-1 mb-6 border-b border-gray-200",children:[n.jsxs("button",{onClick:()=>t("consignments"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${e==="consignments"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Ap,{size:18}),"Consignments"]}),n.jsxs("button",{onClick:()=>t("pricing"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${e==="pricing"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(vy,{size:18}),"Pricing Matrix"]})]}),e==="pricing"?n.jsx(Xj,{embedded:!0}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Cards Out"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v})]}),n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Active Consignments"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.length})]}),n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pending Fees"}),n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:ll(N)})]})]}),n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:s,onChange:w=>r(w.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Consigners"}),p.map(w=>n.jsx("option",{value:w.id,children:w.name},w.id))]}),n.jsx(_e,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:l,onChange:w=>a(w.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"partial",children:"Partial Return"}),n.jsx("option",{value:"complete",children:"Complete"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsx(_e,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]})]}),m?n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((w,h)=>n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]},h))}):n.jsxs("div",{className:"space-y-4",children:[d==null?void 0:d.map(w=>n.jsx(tb,{consignment:w,isExpanded:i===w.id,onToggle:()=>u(i===w.id?null:w.id)},w.id)),(d==null?void 0:d.length)===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[n.jsx(Ie,{className:"mx-auto text-gray-400 mb-3",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No consignments yet"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Create one to start tracking"}),n.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(me,{size:18}),"New Consignment"]})]})]}),n.jsx(eb,{isOpen:o,onClose:()=>c(!1),onSuccess:()=>{},consigners:p})]})]})}async function sb(e){const t=e?Ce(e):"";return z(`/submitters${t}`)}async function rb(e){const t=e?Ce(e):"";return z(`/submitters/summary${t}`)}async function lb(){return z("/submitters/default")}async function ab(e){return z(`/submitters/${e}`)}async function ib(e){return z(`/submitters/${e}/stats`)}async function ob(e){return z("/submitters",{method:"POST",body:JSON.stringify(e)})}async function cb(e,t){return z(`/submitters/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function ub(e){return z(`/submitters/${e}`,{method:"DELETE"})}async function db(e){return z(`/submitters/${e}/set-default`,{method:"POST"})}const as={getSubmitters:sb,getSubmittersSummary:rb,getDefaultSubmitter:lb,getSubmitter:ab,getSubmitterStats:ib,createSubmitter:ob,updateSubmitter:cb,deleteSubmitter:ub,setDefaultSubmitter:db};function As(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function hb(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Od(){return new Date().toISOString().split("T")[0]}const Rd={pending:{bg:"bg-amber-100",text:"text-amber-700"},shipped:{bg:"bg-blue-100",text:"text-blue-700"},received:{bg:"bg-purple-100",text:"text-purple-700"},grading:{bg:"bg-orange-100",text:"text-orange-700"},shipped_back:{bg:"bg-indigo-100",text:"text-indigo-700"},returned:{bg:"bg-green-100",text:"text-green-700"},cancelled:{bg:"bg-gray-100",text:"text-gray-700"}};function mb({isOpen:e,onClose:t,onSelect:s,excludeIds:r=[]}){const[l,a]=y.useState(""),{data:i,isLoading:u}=H({queryKey:["inventory-search",l],queryFn:()=>W.inventory.getInventory({search:l||void 0,limit:50}),enabled:e}),o=(i==null?void 0:i.filter(c=>!c.is_slabbed&&!r.includes(c.id)))||[];return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Cards from Inventory"}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(et,{size:20})})]}),n.jsxs("div",{className:"p-4 border-b",children:[n.jsxs("div",{className:"relative",children:[n.jsx(tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by player name...",value:l,onChange:c=>a(c.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Only showing raw (unslabbed) cards"})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No raw cards found in inventory"}):n.jsx("div",{className:"space-y-2",children:o.map(c=>{var p,d,m,f,v;return n.jsxs("button",{onClick:()=>{s(c),t()},className:"w-full text-left p-3 rounded-lg border hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"font-medium text-gray-900",children:["#",(p=c.checklist)==null?void 0:p.card_number," - ",(d=c.checklist)==null?void 0:d.player_name_raw]}),c.is_signed&&n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:"SIGNED"})]}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",c.quantity]})]}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:((m=c.checklist)==null?void 0:m.set_name)||((v=(f=c.checklist)==null?void 0:f.product_line)==null?void 0:v.name)})]},c.id)})})})]})}):null}function pb({isOpen:e,onClose:t,onSuccess:s,companies:r}){const l=tt(),[a,i]=y.useState(null),[u,o]=y.useState(!1),[c,p]=y.useState({company_id:"",service_level_id:"",date_submitted:Od(),submission_number:"",reference_number:"",shipping_to_cost:0,shipping_to_tracking:"",insurance_cost:0,notes:""}),[d,m]=y.useState(""),[f,v]=y.useState([]),{data:N}=H({queryKey:["submitters-grading"],queryFn:()=>as.getSubmitters({grading_only:!0}),enabled:e});y.useEffect(()=>{if(N&&N.length>0&&!d){const _=N.find(M=>M.is_default);_&&m(_.id)}},[N,d]);const w=r.find(_=>_.id===c.company_id),h=(w==null?void 0:w.service_levels)||[],x=h.find(_=>_.id===c.service_level_id),g=(x==null?void 0:x.base_fee)||0,j=f.length*g,P=ge({mutationFn:_=>Er.createSubmission(_),onSuccess:()=>{l.invalidateQueries({queryKey:["grading-submissions"]}),l.invalidateQueries({queryKey:["grading-stats"]}),s(),E()},onError:_=>{i(_.message)}}),k=_=>{v(M=>[...M,{id:crypto.randomUUID(),inventory:_,declared_value:_.total_cost||0,was_signed:_.is_signed||!1}])},I=_=>{v(M=>M.filter(q=>q.id!==_))},S=(_,M)=>{v(q=>q.map(K=>K.id===_?{...K,...M}:K))},E=()=>{p({company_id:"",service_level_id:"",date_submitted:Od(),submission_number:"",reference_number:"",shipping_to_cost:0,shipping_to_tracking:"",insurance_cost:0,notes:""}),m(""),v([]),i(null),t()},C=_=>{if(_.preventDefault(),i(null),!c.company_id){i("Please select a grading company");return}if(f.length===0){i("Please add at least one card");return}const M=f.filter(K=>K.inventory);if(M.length===0){i("Please add at least one valid card");return}const q={company_id:c.company_id,service_level_id:c.service_level_id||void 0,submitter_id:d||void 0,date_submitted:c.date_submitted,submission_number:c.submission_number||void 0,reference_number:c.reference_number||void 0,shipping_to_cost:c.shipping_to_cost,shipping_to_tracking:c.shipping_to_tracking||void 0,insurance_cost:c.insurance_cost,notes:c.notes||void 0,items:M.map(K=>({inventory_id:K.inventory.id,checklist_id:K.inventory.checklist_id,declared_value:K.declared_value,was_signed:K.was_signed}))};P.mutate(q)};return e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(hr,{className:"text-blue-600",size:20})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"New Grading Submission"})]}),n.jsx("button",{onClick:E,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(et,{size:20})})]}),n.jsxs("form",{onSubmit:C,className:"flex-1 overflow-y-auto",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[a&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[n.jsx(xs,{size:18}),n.jsx("span",{children:a})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company *"}),n.jsxs("select",{value:c.company_id,onChange:_=>p({...c,company_id:_.target.value,service_level_id:""}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Select company..."}),r.filter(_=>_.service_type!=="authentication").map(_=>n.jsxs("option",{value:_.id,children:[_.name," (",_.code,")"]},_.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Level"}),n.jsxs("select",{value:c.service_level_id,onChange:_=>p({...c,service_level_id:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",disabled:!c.company_id,children:[n.jsx("option",{value:"",children:"Select level..."}),h.map(_=>n.jsxs("option",{value:_.id,children:[_.name," - ",As(_.base_fee)," (",_.estimated_days||"?"," days)"]},_.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submitted Through"}),n.jsxs("select",{value:d,onChange:_=>m(_.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Direct submission..."}),N==null?void 0:N.map(_=>n.jsxs("option",{value:_.id,children:[_.name," ",_.is_default?"(Default)":""]},_.id))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Third-party service used to submit cards (e.g., PWCC, MySlabs)"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Submitted *"}),n.jsx("input",{type:"date",value:c.date_submitted,onChange:_=>p({...c,date_submitted:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submission #"}),n.jsx("input",{type:"text",value:c.submission_number,onChange:_=>p({...c,submission_number:_.target.value}),placeholder:"From company",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference #"}),n.jsx("input",{type:"text",value:c.reference_number,onChange:_=>p({...c,reference_number:_.target.value}),placeholder:"Your reference",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Cost"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:c.shipping_to_cost||"",onChange:_=>p({...c,shipping_to_cost:parseFloat(_.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tracking #"}),n.jsx("input",{type:"text",value:c.shipping_to_tracking,onChange:_=>p({...c,shipping_to_tracking:_.target.value}),placeholder:"Optional",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:c.insurance_cost||"",onChange:_=>p({...c,insurance_cost:parseFloat(_.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cards *"}),n.jsxs("button",{type:"button",onClick:()=>o(!0),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[n.jsx(me,{size:16}),"Add from Inventory"]})]}),f.length===0?n.jsxs("div",{onClick:()=>o(!0),className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[n.jsx(Ie,{className:"mx-auto text-gray-400 mb-2",size:32}),n.jsx("p",{className:"text-gray-500",children:"Click to add cards from your inventory"})]}):n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Card"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-28",children:"Declared Value"}),n.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Signed"}),n.jsx("th",{className:"px-3 py-2 w-10"})]})}),n.jsx("tbody",{className:"divide-y",children:f.map(_=>{var M,q,K,Re,A,R;return n.jsxs("tr",{children:[n.jsxs("td",{className:"px-3 py-2",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",(q=(M=_.inventory)==null?void 0:M.checklist)==null?void 0:q.card_number," - ",(Re=(K=_.inventory)==null?void 0:K.checklist)==null?void 0:Re.player_name_raw]}),n.jsx("div",{className:"text-xs text-gray-500",children:(R=(A=_.inventory)==null?void 0:A.checklist)==null?void 0:R.set_name})]}),n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:_.declared_value,onChange:O=>S(_.id,{declared_value:parseFloat(O.target.value)||0}),className:"w-full pl-6 pr-2 py-1 border rounded text-right"})]})}),n.jsx("td",{className:"px-3 py-2 text-center",children:n.jsx("input",{type:"checkbox",checked:_.was_signed,onChange:O=>S(_.id,{was_signed:O.target.checked}),className:"w-4 h-4 rounded text-blue-600"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("button",{type:"button",onClick:()=>I(_.id),className:"p-1 text-gray-400 hover:text-red-600",children:n.jsx(rn,{size:16})})})]},_.id)})})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:c.notes,onChange:_=>p({...c,notes:_.target.value}),placeholder:"Optional notes...",rows:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Cards"}),n.jsx("div",{className:"font-bold text-gray-900",children:f.length})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Grading Fee"}),n.jsx("div",{className:"font-bold text-gray-900",children:As(j)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Total Cost"}),n.jsx("div",{className:"font-bold text-blue-700",children:As(j+c.shipping_to_cost+c.insurance_cost)})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[n.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:P.isPending,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:P.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ze,{size:18}),"Create Submission"]})})]})]})]})}),n.jsx(mb,{isOpen:u,onClose:()=>o(!1),onSelect:k,excludeIds:f.filter(_=>_.inventory).map(_=>_.inventory.id)})]}):null}function fb({submission:e,isExpanded:t,onToggle:s}){var l,a;const r=Rd[e.status]||Rd.pending;return n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[n.jsxs("div",{onClick:s,className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{className:"p-1",children:t?n.jsx(_e,{size:20}):n.jsx(mr,{size:20})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:e.company_name}),e.submission_number&&n.jsxs("span",{className:"text-sm text-gray-500",children:["#",e.submission_number]}),e.submitter_name&&n.jsxs("span",{className:"text-xs px-2 py-0.5 bg-gray-100 text-gray-600 rounded",children:["via ",e.submitter_name]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mt-1",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ja,{size:14}),hb(e.date_submitted)]}),n.jsxs("span",{children:[((l=e.items)==null?void 0:l.length)||0," cards"]}),e.service_level_name&&n.jsx("span",{children:e.service_level_name})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.bg} ${r.text}`,children:e.status.replace("_"," ")}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Fees"}),n.jsx("div",{className:"font-semibold text-gray-900",children:As(Number(e.grading_fee||0)+Number(e.shipping_to_cost||0)+Number(e.shipping_return_cost||0)+Number(e.insurance_cost||0))})]})]})]}),t&&n.jsx("div",{className:"border-t px-4 py-4 bg-gray-50",children:n.jsx("div",{className:"bg-white rounded-lg border overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Card #"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Player"}),n.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Declared"}),n.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Grade"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cert #"})]})}),n.jsx("tbody",{className:"divide-y",children:(a=e.items)==null?void 0:a.map(i=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-3 py-2 font-medium text-gray-900",children:i.card_number||"-"}),n.jsx("td",{className:"px-3 py-2 text-gray-600",children:i.player_name||"Unknown"}),n.jsx("td",{className:"px-3 py-2 text-center text-gray-600",children:As(Number(i.declared_value)||0)}),n.jsx("td",{className:"px-3 py-2 text-center",children:i.grade_value!==null?n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium ${Number(i.grade_value)>=9?"bg-green-100 text-green-700":Number(i.grade_value)>=7?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:[n.jsx(hr,{size:12}),i.grade_value,i.auto_grade&&` / ${i.auto_grade}`]}):n.jsx("span",{className:"text-gray-400",children:"Pending"})}),n.jsx("td",{className:"px-3 py-2 text-right text-gray-600",children:i.cert_number||"-"})]},i.id))})]})})})]})}function xb(){var f;const[e,t]=y.useState(""),[s,r]=y.useState(""),[l,a]=y.useState(null),[i,u]=y.useState(!1),{data:o=[]}=H({queryKey:["grading-companies"],queryFn:()=>Er.getCompanies()}),{data:c}=H({queryKey:["grading-stats"],queryFn:()=>Er.getStats()}),{data:p}=H({queryKey:["pending-by-company"],queryFn:()=>Er.getPendingByCompany()}),{data:d,isLoading:m}=H({queryKey:["grading-submissions",e,s],queryFn:()=>Er.getSubmissions({company_id:e||void 0,status:s||void 0})});return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Card Grading"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Track PSA, BGS, SGC and other grading submissions"})]}),n.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(me,{size:18}),"New Submission"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Cards Out"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(c==null?void 0:c.cards_out_for_grading)||0}),n.jsxs("p",{className:"text-xs text-gray-500",children:[(c==null?void 0:c.pending_submissions)||0," submissions"]})]}),n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pending Fees"}),n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:As(Number(c==null?void 0:c.pending_fees)||0)})]}),n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Cards Graded"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:(c==null?void 0:c.total_graded)||0})]}),n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Gem Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[((f=c==null?void 0:c.gem_rate)==null?void 0:f.toFixed(1))||"-","%"]})]})]}),p&&p.length>0&&n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 mb-6",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Pending by Company"}),n.jsx("div",{className:"flex flex-wrap gap-3",children:p.map(v=>n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium text-gray-900",children:v.company_name}),n.jsxs("span",{className:"text-sm text-gray-500",children:[v.pending_count," cards"]})]},v.company_id))})]}),n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:e,onChange:v=>t(v.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Companies"}),o.map(v=>n.jsx("option",{value:v.id,children:v.name},v.id))]}),n.jsx(_e,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:s,onChange:v=>r(v.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"received",children:"Received"}),n.jsx("option",{value:"grading",children:"Grading"}),n.jsx("option",{value:"shipped_back",children:"Shipped Back"}),n.jsx("option",{value:"returned",children:"Returned"})]}),n.jsx(_e,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]})]}),m?n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((v,N)=>n.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]},N))}):n.jsxs("div",{className:"space-y-4",children:[d==null?void 0:d.map(v=>n.jsx(fb,{submission:v,isExpanded:l===v.id,onToggle:()=>a(l===v.id?null:v.id)},v.id)),(d==null?void 0:d.length)===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[n.jsx(hr,{className:"mx-auto text-gray-400 mb-3",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No submissions yet"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Create one to start tracking your grading submissions"}),n.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(me,{size:18}),"New Submission"]})]})]}),n.jsx(pb,{isOpen:i,onClose:()=>u(!1),onSuccess:()=>{},companies:o})]})}function al(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function gb(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Ld(){return new Date().toISOString().split("T")[0]}const Dd={pending:"bg-yellow-100 text-yellow-800",shipped:"bg-blue-100 text-blue-800",received:"bg-purple-100 text-purple-800",processing:"bg-orange-100 text-orange-800",shipped_back:"bg-indigo-100 text-indigo-800",returned:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800",authentic:"bg-green-100 text-green-800",not_authentic:"bg-red-100 text-red-800",inconclusive:"bg-yellow-100 text-yellow-800"},Wp={card:n.jsx(Xa,{className:"h-4 w-4"}),memorabilia:n.jsx(Za,{className:"h-4 w-4"}),collectible:n.jsx($p,{className:"h-4 w-4"})};function yb({isOpen:e,onClose:t,onSelectCard:s,onSelectStandalone:r,excludeCardIds:l=[],excludeStandaloneIds:a=[]}){const[i,u]=y.useState(""),[o,c]=y.useState("cards"),{data:p,isLoading:d}=H({queryKey:["inventory-search-auth",i],queryFn:()=>W.inventory.getInventory({search:i||void 0,is_signed:!0,limit:50}),enabled:e&&o==="cards"}),{data:m,isLoading:f}=H({queryKey:["standalone-items-search-auth",i],queryFn:()=>W.standaloneItems.getStandaloneItems({search:i||void 0,limit:50}),enabled:e&&o==="items"}),v=(p==null?void 0:p.filter(w=>!l.includes(w.id)))||[],N=(m==null?void 0:m.filter(w=>!a.includes(w.id)))||[];return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Items for Authentication"}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(et,{size:20})})]}),n.jsxs("div",{className:"p-4 border-b space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>c("cards"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm ${o==="cards"?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,children:[n.jsx(Xa,{size:16}),"Cards"]}),n.jsxs("button",{onClick:()=>c("items"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm ${o==="items"?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,children:[n.jsx(Za,{size:16}),"Memorabilia / Collectibles"]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:o==="cards"?"Search signed cards...":"Search items...",value:i,onChange:w=>u(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o==="cards"?d?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):v.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No signed cards found"}):n.jsx("div",{className:"space-y-2",children:v.map(w=>{var h,x,g,j,P;return n.jsxs("button",{onClick:()=>{s(w),t()},className:"w-full text-left p-3 rounded-lg border hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs("span",{className:"font-medium text-gray-900",children:["#",(h=w.checklist)==null?void 0:h.card_number," - ",(x=w.checklist)==null?void 0:x.player_name_raw]}),n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:"SIGNED"})]})}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:((g=w.checklist)==null?void 0:g.set_name)||((P=(j=w.checklist)==null?void 0:j.product_line)==null?void 0:P.name)})]},w.id)})}):f?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):N.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No items found"}):n.jsx("div",{className:"space-y-2",children:N.map(w=>{var h,x;return n.jsxs("button",{onClick:()=>{r(w),t()},className:"w-full text-left p-3 rounded-lg border hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium text-gray-900",children:w.title}),n.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded ${((h=w.category)==null?void 0:h.slug)==="memorabilia"?"bg-yellow-100 text-yellow-700":"bg-purple-100 text-purple-700"}`,children:((x=w.category)==null?void 0:x.name)||w.item_type})]}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[w.sport,"  ",w.player_name||"Unknown signer"]})]},w.id)})})})]})}):null}function vb({isOpen:e,onClose:t,onSuccess:s,companies:r}){const l=tt(),[a,i]=y.useState(null),[u,o]=y.useState(!1),[c,p]=y.useState({company_id:"",service_level_id:"",date_submitted:Ld(),submission_number:"",reference_number:"",shipping_to_cost:0,shipping_to_tracking:"",insurance_cost:0,notes:""}),[d,m]=y.useState(""),[f,v]=y.useState([]),{data:N}=H({queryKey:["submitters-auth"],queryFn:()=>as.getSubmitters({auth_only:!0}),enabled:e});y.useEffect(()=>{if(N&&N.length>0&&!d){const C=N.find(_=>_.is_default);C&&m(C.id)}},[N,d]);const w=r.filter(C=>C.service_type==="authentication"||C.service_type==="both"),h=w.find(C=>C.id===c.company_id),x=(h==null?void 0:h.service_levels)||[],g=ge({mutationFn:C=>Qn.createSubmission(C),onSuccess:()=>{l.invalidateQueries({queryKey:["auth-stats"]}),l.invalidateQueries({queryKey:["auth-items"]}),s(),S()},onError:C=>{i(C.message)}}),j=C=>{v(_=>{var M,q,K;return[..._,{id:crypto.randomUUID(),item_type:"card",inventory:C,description:`${(M=C.checklist)==null?void 0:M.card_number} - ${(q=C.checklist)==null?void 0:q.player_name_raw}`,signer_name:((K=C.checklist)==null?void 0:K.player_name_raw)||"",declared_value:C.total_cost||0}]})},P=C=>{var M;const _=((M=C.category)==null?void 0:M.slug)==="memorabilia"?"memorabilia":"collectible";v(q=>[...q,{id:crypto.randomUUID(),item_type:_,standalone_item:C,description:C.title,signer_name:C.player_name||"",declared_value:0}])},k=C=>{v(_=>_.filter(M=>M.id!==C))},I=(C,_)=>{v(M=>M.map(q=>q.id===C?{...q,..._}:q))},S=()=>{p({company_id:"",service_level_id:"",date_submitted:Ld(),submission_number:"",reference_number:"",shipping_to_cost:0,shipping_to_tracking:"",insurance_cost:0,notes:""}),m(""),v([]),i(null),t()},E=C=>{if(C.preventDefault(),i(null),!c.company_id){i("Please select an authentication company");return}if(f.length===0){i("Please add at least one item");return}const _={company_id:c.company_id,service_level_id:c.service_level_id||void 0,submitter_id:d||void 0,date_submitted:c.date_submitted,submission_number:c.submission_number||void 0,reference_number:c.reference_number||void 0,shipping_to_cost:c.shipping_to_cost,shipping_to_tracking:c.shipping_to_tracking||void 0,insurance_cost:c.insurance_cost,notes:c.notes||void 0,items:f.map(M=>{var q,K;return{item_type:M.item_type,inventory_id:(q=M.inventory)==null?void 0:q.id,standalone_item_id:(K=M.standalone_item)==null?void 0:K.id,description:M.description,signer_name:M.signer_name,declared_value:M.declared_value}})};g.mutate(_)};return e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Lt,{className:"text-green-600",size:20})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"New Authentication Submission"})]}),n.jsx("button",{onClick:S,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(et,{size:20})})]}),n.jsxs("form",{onSubmit:E,className:"flex-1 overflow-y-auto",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[a&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[n.jsx(xs,{size:18}),n.jsx("span",{children:a})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company *"}),n.jsxs("select",{value:c.company_id,onChange:C=>p({...c,company_id:C.target.value,service_level_id:""}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0,children:[n.jsx("option",{value:"",children:"Select company..."}),w.map(C=>n.jsxs("option",{value:C.id,children:[C.name," (",C.code,")"]},C.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Level"}),n.jsxs("select",{value:c.service_level_id,onChange:C=>p({...c,service_level_id:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",disabled:!c.company_id,children:[n.jsx("option",{value:"",children:"Select level..."}),x.map(C=>n.jsxs("option",{value:C.id,children:[C.name," - ",al(C.base_fee)]},C.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submitted Through"}),n.jsxs("select",{value:d,onChange:C=>m(C.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Direct submission..."}),N==null?void 0:N.map(C=>n.jsxs("option",{value:C.id,children:[C.name," ",C.is_default?"(Default)":""]},C.id))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Third-party service used to submit items (e.g., PWCC, MySlabs)"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Submitted *"}),n.jsx("input",{type:"date",value:c.date_submitted,onChange:C=>p({...c,date_submitted:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submission #"}),n.jsx("input",{type:"text",value:c.submission_number,onChange:C=>p({...c,submission_number:C.target.value}),placeholder:"From company",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference #"}),n.jsx("input",{type:"text",value:c.reference_number,onChange:C=>p({...c,reference_number:C.target.value}),placeholder:"Your reference",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Cost"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:c.shipping_to_cost||"",onChange:C=>p({...c,shipping_to_cost:parseFloat(C.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tracking #"}),n.jsx("input",{type:"text",value:c.shipping_to_tracking,onChange:C=>p({...c,shipping_to_tracking:C.target.value}),placeholder:"Optional",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:c.insurance_cost||"",onChange:C=>p({...c,insurance_cost:parseFloat(C.target.value)||0}),className:"w-full pl-7 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Items *"}),n.jsxs("button",{type:"button",onClick:()=>o(!0),className:"flex items-center gap-1 text-sm text-green-600 hover:text-green-700",children:[n.jsx(me,{size:16}),"Add Item"]})]}),f.length===0?n.jsxs("div",{onClick:()=>o(!0),className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-green-400 hover:bg-green-50 transition-colors",children:[n.jsx(Lt,{className:"mx-auto text-gray-400 mb-2",size:32}),n.jsx("p",{className:"text-gray-500",children:"Click to add items for authentication"})]}):n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase w-36",children:"Signer"}),n.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase w-28",children:"Value"}),n.jsx("th",{className:"px-3 py-2 w-10"})]})}),n.jsx("tbody",{className:"divide-y",children:f.map(C=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-3 py-2",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs ${C.item_type==="card"?"bg-blue-100 text-blue-700":C.item_type==="memorabilia"?"bg-yellow-100 text-yellow-700":"bg-purple-100 text-purple-700"}`,children:[Wp[C.item_type],C.item_type]})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("div",{className:"font-medium text-gray-900 text-sm",children:C.description})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"text",value:C.signer_name,onChange:_=>I(C.id,{signer_name:_.target.value}),placeholder:"Signer name",className:"w-full px-2 py-1 border rounded text-sm"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:C.declared_value,onChange:_=>I(C.id,{declared_value:parseFloat(_.target.value)||0}),className:"w-full pl-6 pr-2 py-1 border rounded text-right text-sm"})]})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("button",{type:"button",onClick:()=>k(C.id),className:"p-1 text-gray-400 hover:text-red-600",children:n.jsx(rn,{size:16})})})]},C.id))})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:c.notes,onChange:C=>p({...c,notes:C.target.value}),placeholder:"Optional notes...",rows:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex gap-4 text-sm",children:[n.jsxs("span",{children:[n.jsx("strong",{children:f.filter(C=>C.item_type==="card").length})," cards"]}),n.jsxs("span",{children:[n.jsx("strong",{children:f.filter(C=>C.item_type==="memorabilia").length})," memorabilia"]}),n.jsxs("span",{children:[n.jsx("strong",{children:f.filter(C=>C.item_type==="collectible").length})," collectibles"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Declared Value"}),n.jsx("div",{className:"text-xl font-bold text-green-700",children:al(f.reduce((C,_)=>C+_.declared_value,0))})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[n.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:g.isPending,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:g.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ze,{size:18}),"Create Submission"]})})]})]})]})}),n.jsx(yb,{isOpen:u,onClose:()=>o(!1),onSelectCard:j,onSelectStandalone:P,excludeCardIds:f.filter(C=>C.inventory).map(C=>C.inventory.id),excludeStandaloneIds:f.filter(C=>C.standalone_item).map(C=>C.standalone_item.id)})]}):null}function jb({items:e,type:t}){return e.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No ",t," items found"]}):n.jsx("div",{className:"space-y-2",children:e.map(s=>n.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-full ${Dd[s.status]}`,children:s.status==="authentic"?n.jsx(Fp,{className:"h-4 w-4"}):s.status==="pending"?n.jsx(gy,{className:"h-4 w-4"}):n.jsx(Lt,{className:"h-4 w-4"})}),n.jsxs("div",{children:[t==="card"?n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"font-medium text-gray-900",children:s.player_name||"Unknown Player"}),n.jsxs("p",{className:"text-sm text-gray-500",children:[s.card_number,"  ",s.product_line_name]})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"font-medium text-gray-900",children:s.item_name||s.description||"Unknown Item"}),n.jsx("p",{className:"text-sm text-gray-500",children:s.item_category||t})]}),s.signer_name&&n.jsxs("p",{className:"text-xs text-blue-600",children:["Signed by: ",s.signer_name]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs ${Dd[s.status]}`,children:s.status.replace("_"," ")}),s.cert_number&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Cert: ",s.cert_number]}),s.sticker_number&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Sticker: ",s.sticker_number]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:al(s.declared_value)})]})]})},s.id))})}function bb(){const[e,t]=y.useState("card"),[s,r]=y.useState(!1),{data:l}=H({queryKey:["auth-stats"],queryFn:()=>Qn.getStats()}),{data:a=[]}=H({queryKey:["auth-companies"],queryFn:()=>Qn.getCompanies()}),{data:i=[]}=H({queryKey:["auth-pending-by-company"],queryFn:()=>Qn.getPendingByCompany()}),{data:u=[]}=H({queryKey:["auth-items","cards"],queryFn:()=>Qn.getCardItems()}),{data:o=[]}=H({queryKey:["auth-items","memorabilia"],queryFn:()=>Qn.getMemorabiliaItems()}),{data:c=[]}=H({queryKey:["auth-items","collectibles"],queryFn:()=>Qn.getCollectibleItems()}),d={card:u,memorabilia:o,collectible:c}[e];return n.jsxs("div",{className:"p-8 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Authentication"}),n.jsx("p",{className:"text-gray-500",children:"PSA/DNA & JSA signature verification"})]}),n.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(me,{className:"h-4 w-4"}),"New Submission"]})]}),l&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Out for Auth"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.items_out_for_auth})]}),n.jsx(Ie,{className:"h-8 w-8 text-blue-500"})]})}),n.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pending Fees"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:al(l.pending_fees)})]}),n.jsx(Lt,{className:"h-8 w-8 text-green-500"})]})}),n.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Authenticated"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.total_authenticated})]}),n.jsx(Lt,{className:"h-8 w-8 text-purple-500"})]})}),n.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.pass_rate,"%"]})]}),n.jsx(Fp,{className:"h-8 w-8 text-green-500"})]})})]}),i.length>0&&n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pending by Company"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(m=>n.jsxs("div",{className:"p-4 border rounded-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:n.jsx(Lt,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:m.company_name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[m.pending_count," item",m.pending_count!==1?"s":""," pending"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-medium text-gray-900",children:al(m.pending_value)}),m.oldest_submission_date&&n.jsxs("p",{className:"text-xs text-gray-400",children:["Since ",gb(m.oldest_submission_date)]})]})]},m.company_id))})]}),n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl",children:[n.jsxs("div",{className:"border-b border-gray-100 p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items by Category"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>t("card"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e==="card"?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,children:[n.jsx(Xa,{className:"h-4 w-4"}),"Cards (",u.length,")"]}),n.jsxs("button",{onClick:()=>t("memorabilia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e==="memorabilia"?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,children:[n.jsx(Za,{className:"h-4 w-4"}),"Memorabilia (",o.length,")"]}),n.jsxs("button",{onClick:()=>t("collectible"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e==="collectible"?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,children:[n.jsx($p,{className:"h-4 w-4"}),"Collectibles (",c.length,")"]})]})]}),n.jsx("div",{className:"p-4",children:n.jsx(jb,{items:d,type:e})})]}),l&&l.by_item_type&&n.jsx("div",{className:"grid grid-cols-3 gap-4",children:["card","memorabilia","collectible"].map(m=>n.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-3 rounded-full ${m==="card"?"bg-blue-100":m==="memorabilia"?"bg-yellow-100":"bg-purple-100"}`,children:Wp[m]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:[m,"s"]}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:l.by_item_type[m]||0}),n.jsx("p",{className:"text-xs text-gray-400",children:"authenticated"})]})]})},m))}),n.jsx(vb,{isOpen:s,onClose:()=>r(!1),onSuccess:()=>{},companies:a})]})}const pe=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),Ad=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A";function Nb({listing:e,isSelected:t,isExpanded:s,onToggleSelect:r,onToggleExpand:l}){const a=e.item_sales>0?(e.net_sales/e.item_sales*100).toFixed(1):"0.0";return n.jsxs("div",{className:`border rounded-lg mb-2 transition-colors ${t?"border-blue-300 bg-blue-50/30":"border-gray-200 bg-white"}`,children:[n.jsxs("div",{className:"flex items-center p-3 gap-3",children:[n.jsx("button",{onClick:r,className:"flex-shrink-0 p-1 hover:bg-gray-100 rounded",children:t?n.jsx(Ds,{className:"text-blue-600",size:20}):n.jsx(Zl,{className:"text-gray-400",size:20})}),n.jsx("button",{onClick:l,className:"flex-shrink-0 p-1 hover:bg-gray-100 rounded",children:s?n.jsx(_e,{className:"text-gray-600",size:18}):n.jsx(mr,{className:"text-gray-600",size:18})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",title:e.listing_title,children:e.listing_title}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Item ID: ",e.ebay_item_id]})]}),n.jsxs("div",{className:"text-center px-3",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Qty"}),n.jsx("p",{className:"font-semibold text-gray-900",children:e.quantity_sold})]}),n.jsxs("div",{className:"text-right px-3",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Sales"}),n.jsx("p",{className:"font-semibold text-gray-900",children:pe(e.item_sales)})]}),n.jsxs("div",{className:"text-right px-3",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Fees"}),n.jsxs("p",{className:"font-semibold text-red-600",children:["-",pe(e.total_selling_costs)]})]}),n.jsxs("div",{className:"text-right px-3",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Net"}),n.jsx("p",{className:`font-semibold ${e.net_sales>=0?"text-green-600":"text-red-600"}`,children:pe(e.net_sales)})]}),n.jsxs("div",{className:"text-right px-3 w-20",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Margin"}),n.jsxs("p",{className:"font-semibold text-gray-700",children:[a,"%"]})]})]}),s&&n.jsx("div",{className:"border-t border-gray-100 p-4 bg-gray-50/50",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Revenue"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Item Sales"}),n.jsx("span",{className:"font-medium",children:pe(e.item_sales)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Shipping"}),n.jsx("span",{className:"font-medium",children:pe(e.shipping_collected)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Taxes (to you)"}),n.jsx("span",{className:"font-medium",children:pe(e.taxes_to_seller)})]}),n.jsxs("div",{className:"flex justify-between border-t pt-1 mt-1",children:[n.jsx("span",{className:"text-gray-700 font-medium",children:"Total"}),n.jsx("span",{className:"font-semibold",children:pe(e.total_sales)})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Fees"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Final Value"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",pe(e.final_value_fees)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Shipping Labels"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",pe(e.shipping_label_cost)]})]}),e.promoted_general_fees>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Promoted"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",pe(e.promoted_general_fees)]})]}),e.fee_credits>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Credits"}),n.jsxs("span",{className:"font-medium text-green-600",children:["+",pe(e.fee_credits)]})]}),n.jsxs("div",{className:"flex justify-between border-t pt-1 mt-1",children:[n.jsx("span",{className:"text-gray-700 font-medium",children:"Total Fees"}),n.jsxs("span",{className:"font-semibold text-red-600",children:["-",pe(e.total_selling_costs)]})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Sales By Channel"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Direct"}),n.jsx("span",{className:"font-medium",children:e.quantity_sold-e.quantity_via_promoted-e.quantity_via_best_offer-e.quantity_via_seller_offer})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Promoted"}),n.jsx("span",{className:"font-medium",children:e.quantity_via_promoted})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Best Offer"}),n.jsx("span",{className:"font-medium",children:e.quantity_via_best_offer})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Seller Offer"}),n.jsx("span",{className:"font-medium",children:e.quantity_via_seller_offer})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Averages"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Avg Sale Price"}),n.jsx("span",{className:"font-medium",children:pe(e.average_selling_price)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Avg Net/Sale"}),n.jsx("span",{className:"font-medium",children:pe(e.quantity_sold>0?e.net_sales/e.quantity_sold:0)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Fee %"}),n.jsxs("span",{className:"font-medium",children:[e.item_sales>0?(e.total_selling_costs/e.item_sales*100).toFixed(1):"0.0","%"]})]})]})]})]})})]})}function wb(){const[e,t]=y.useState("upload"),[s,r]=y.useState(!1),[l,a]=y.useState(null),[i,u]=y.useState(!1),[o,c]=y.useState(null),[p,d]=y.useState({}),[m,f]=y.useState(new Set),[v,N]=y.useState(""),[w,h]=y.useState(null),x=y.useMemo(()=>o!=null&&o.listings?o.listings.filter((A,R)=>p[R]!==!1):[],[o,p]),g=y.useMemo(()=>({count:x.length,quantity:x.reduce((A,R)=>A+R.quantity_sold,0),itemSales:x.reduce((A,R)=>A+R.item_sales,0),netSales:x.reduce((A,R)=>A+R.net_sales,0)}),[x]),j=y.useMemo(()=>o!=null&&o.listings.length?o.listings.every((A,R)=>p[R]!==!1):!1,[o,p]),P=y.useMemo(()=>o!=null&&o.listings.length?o.listings.every((A,R)=>p[R]===!1):!0,[o,p]),k=y.useCallback(A=>{A.preventDefault(),A.stopPropagation(),A.type==="dragenter"||A.type==="dragover"?u(!0):A.type==="dragleave"&&u(!1)},[]),I=y.useCallback(A=>{A.preventDefault(),A.stopPropagation(),u(!1);const R=A.dataTransfer.files;R!=null&&R[0]&&E(R[0])},[]),S=y.useCallback(A=>{const R=A.target.files;R!=null&&R[0]&&E(R[0])},[]),E=async A=>{r(!0),a(null);try{const R=await Cd.uploadPreview(A);if(!R.success){a(R.message);return}c(R);const O={};R.listings.forEach((T,L)=>{O[L]=!0}),d(O),t("preview")}catch(R){a(R instanceof Error?R.message:"Failed to parse file")}finally{r(!1)}},C=y.useCallback(A=>{d(R=>({...R,[A]:R[A]===!1}))},[]),_=y.useCallback(A=>{f(R=>{const O=new Set(R);return O.has(A)?O.delete(A):O.add(A),O})},[]),M=y.useCallback(()=>{if(!(o!=null&&o.listings))return;const A={};o.listings.forEach((R,O)=>{A[O]=!0}),d(A)},[o]),q=y.useCallback(()=>{if(!(o!=null&&o.listings))return;const A={};o.listings.forEach((R,O)=>{A[O]=!1}),d(A)},[o]),K=async()=>{if(!(!o||x.length===0)){r(!0),a(null);try{const A=await Cd.importListings({report_start_date:o.report_start_date||new Date().toISOString().split("T")[0],report_end_date:o.report_end_date||new Date().toISOString().split("T")[0],listings:x.map(R=>({listing_title:R.listing_title,ebay_item_id:R.ebay_item_id,quantity_sold:R.quantity_sold,total_sales:R.total_sales,item_sales:R.item_sales,shipping_collected:R.shipping_collected,taxes_to_seller:R.taxes_to_seller,taxes_to_ebay:R.taxes_to_ebay,total_selling_costs:R.total_selling_costs,insertion_fees:R.insertion_fees,listing_upgrade_fees:R.listing_upgrade_fees,final_value_fees:R.final_value_fees,promoted_general_fees:R.promoted_general_fees,promoted_priority_fees:R.promoted_priority_fees,ads_express_fees:R.ads_express_fees,promoted_offsite_fees:R.promoted_offsite_fees,international_fees:R.international_fees,other_ebay_fees:R.other_ebay_fees,deposit_processing_fees:R.deposit_processing_fees,fee_credits:R.fee_credits,shipping_label_cost:R.shipping_label_cost,net_sales:R.net_sales,average_selling_price:R.average_selling_price,quantity_via_promoted:R.quantity_via_promoted,quantity_via_best_offer:R.quantity_via_best_offer,quantity_via_seller_offer:R.quantity_via_seller_offer})),notes:v||void 0});A.success?(h({count:A.imported_count,totalSales:A.total_item_sales,totalNet:A.total_net_sales,batchId:A.batch_id||""}),t("success")):a(A.message)}catch(A){a(A instanceof Error?A.message:"Import failed")}finally{r(!1)}}},Re=()=>{t("upload"),c(null),d({}),f(new Set),N(""),h(null),a(null)};return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"eBay Sales Import"}),n.jsx("p",{className:"text-gray-600",children:"Upload your eBay Listings & Sales Report to import sales data"})]}),n.jsx("div",{className:"flex items-center gap-4 mb-6",children:[{key:"upload",label:"1. Upload"},{key:"preview",label:"2. Review"},{key:"success",label:"3. Done"}].map((A,R)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${e===A.key?"bg-blue-600 text-white":R<["upload","preview","success"].indexOf(e)?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:R<["upload","preview","success"].indexOf(e)?n.jsx(Ze,{size:16}):R+1}),n.jsx("span",{className:`ml-2 font-medium ${e===A.key?"text-blue-600":"text-gray-600"}`,children:A.label}),R<2&&n.jsx("div",{className:"w-12 h-0.5 mx-3 bg-gray-200"})]},A.key))}),l&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[n.jsx(py,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-900",children:"Error"}),n.jsx("p",{className:"text-red-700",children:l})]}),n.jsx("button",{onClick:()=>a(null),className:"ml-auto text-red-600 hover:text-red-800",children:n.jsx(et,{size:20})})]}),e==="upload"&&n.jsx("div",{className:`border-2 border-dashed rounded-xl p-12 text-center transition-colors ${i?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50 hover:border-gray-400"}`,onDragEnter:k,onDragLeave:k,onDragOver:k,onDrop:I,children:s?n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Parsing file..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Pa,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop your eBay CSV here"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"or click to browse"}),n.jsxs("label",{className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 cursor-pointer transition-colors",children:[n.jsx(Vc,{size:20}),"Select File",n.jsx("input",{type:"file",accept:".csv",onChange:S,className:"hidden"})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-4",children:'Supports eBay "Listings & Sales Report" CSV format'})]})}),e==="preview"&&o&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Report Period"}),n.jsxs("p",{className:"text-gray-600",children:[Ad(o.report_start_date),"  ",Ad(o.report_end_date)]})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.total_rows}),n.jsx("p",{className:"text-sm text-gray-500",children:"Listings"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.total_quantity}),n.jsx("p",{className:"text-sm text-gray-500",children:"Items Sold"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:pe(o.total_item_sales)}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Sales"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:pe(o.total_net_sales)}),n.jsx("p",{className:"text-sm text-gray-500",children:"Net Revenue"})]})]})]}),o.warnings.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Warnings:"}),n.jsx("ul",{className:"text-sm text-yellow-700 list-disc list-inside",children:o.warnings.map((A,R)=>n.jsx("li",{children:A},R))})]})]}),n.jsx("div",{className:"bg-white border rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:j?q:M,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-100 rounded hover:bg-gray-200",children:j?n.jsxs(n.Fragment,{children:[n.jsx(Ny,{size:16}),"Deselect All"]}):P?n.jsxs(n.Fragment,{children:[n.jsx(Ds,{size:16}),"Select All"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ds,{size:16}),"Select All"]})}),n.jsxs("span",{className:"text-sm text-gray-600",children:[g.count," of ",o.listings.length," selected"]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[n.jsx(Ie,{size:16}),n.jsxs("span",{children:[g.quantity," items"]})]}),n.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[n.jsx(pr,{size:16}),n.jsxs("span",{children:[pe(g.itemSales)," sales"]})]}),n.jsxs("div",{className:"flex items-center gap-1 text-green-600 font-medium",children:[n.jsx(gs,{size:16}),n.jsxs("span",{children:[pe(g.netSales)," net"]})]})]})]})}),n.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Listings"}),n.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:o.listings.map((A,R)=>n.jsx(Nb,{listing:A,isSelected:p[R]!==!1,isExpanded:m.has(R),onToggleSelect:()=>C(R),onToggleExpand:()=>_(R)},A.row_index))})]}),n.jsx("div",{className:"bg-white border rounded-lg p-4",children:n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Import Notes (optional)"}),n.jsx("textarea",{value:v,onChange:A=>N(A.target.value),placeholder:"Add any notes about this import...",className:"mt-2 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:2})]})}),n.jsxs("div",{className:"flex items-center justify-between bg-white border rounded-lg p-4",children:[n.jsx("button",{onClick:Re,className:"px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:" Start Over"}),n.jsx("button",{onClick:K,disabled:s||g.count===0,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ze,{size:18}),"Import ",g.count," Listings"]})})]})]}),e==="success"&&w&&n.jsxs("div",{className:"bg-white border rounded-lg p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ze,{className:"text-green-600",size:32})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Import Successful!"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Your eBay sales data has been imported to the database."}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 max-w-md mx-auto mb-8",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:w.count}),n.jsx("p",{className:"text-sm text-gray-500",children:"Listings"})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:pe(w.totalSales)}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Sales"})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-green-600",children:pe(w.totalNet)}),n.jsx("p",{className:"text-sm text-gray-500",children:"Net Revenue"})]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx("button",{onClick:Re,className:"px-6 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors",children:"Import Another"}),n.jsx("a",{href:"/sales",className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"View Sales "})]})]})]})}function _b(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Sb({isOpen:e,onClose:t,item:s,categories:r}){const l=tt(),a=!!s,i=r.find(h=>h.slug==="memorabilia"),u=r.find(h=>h.slug==="collectibles"),[o,c]=y.useState({category_id:(s==null?void 0:s.category_id)||(i==null?void 0:i.id)||"",title:(s==null?void 0:s.title)||"",description:(s==null?void 0:s.description)||"",sport:(s==null?void 0:s.sport)||"Baseball",brand:(s==null?void 0:s.brand)||"",year:(s==null?void 0:s.year)||new Date().getFullYear(),player_name:(s==null?void 0:s.player_name)||"",team:(s==null?void 0:s.team)||"",is_authenticated:(s==null?void 0:s.is_authenticated)||!1,authenticator:(s==null?void 0:s.authenticator)||"",cert_number:(s==null?void 0:s.cert_number)||"",item_type:(s==null?void 0:s.item_type)||"",size:(s==null?void 0:s.size)||"",color:(s==null?void 0:s.color)||"",material:(s==null?void 0:s.material)||"",condition:(s==null?void 0:s.condition)||"Excellent",condition_notes:(s==null?void 0:s.condition_notes)||"",notes:(s==null?void 0:s.notes)||""}),[p,d]=y.useState(null),m=ge({mutationFn:h=>W.standaloneItems.createStandaloneItem(h),onSuccess:()=>{l.invalidateQueries({queryKey:["standaloneItems"]}),t()},onError:h=>d(h.message)}),f=ge({mutationFn:h=>W.standaloneItems.updateStandaloneItem(s.id,h),onSuccess:()=>{l.invalidateQueries({queryKey:["standaloneItems"]}),t()},onError:h=>d(h.message)}),v=h=>{if(h.preventDefault(),d(null),!o.title.trim()){d("Title is required");return}a?f.mutate(o):m.mutate(o)},N=r.find(h=>h.id===o.category_id),w=(N==null?void 0:N.slug)==="memorabilia"?Bj:Qj;return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Ie,{className:"text-purple-600",size:20})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Item":"Add New Item"})]}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(et,{size:20})})]}),n.jsxs("form",{onSubmit:v,className:"flex-1 overflow-y-auto",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[p&&n.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:p}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),n.jsxs("select",{value:o.category_id,onChange:h=>c({...o,category_id:h.target.value,item_type:""}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0,children:[n.jsx("option",{value:"",children:"Select category..."}),i&&n.jsx("option",{value:i.id,children:"Memorabilia"}),u&&n.jsx("option",{value:u.id,children:"Collectibles"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sport *"}),n.jsx("select",{value:o.sport,onChange:h=>c({...o,sport:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0,children:Hp.map(h=>n.jsx("option",{value:h,children:h},h))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),n.jsx("input",{type:"text",value:o.title,onChange:h=>c({...o,title:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Derek Jeter Signed Official MLB Baseball",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Type"}),n.jsxs("select",{value:o.item_type||"",onChange:h=>c({...o,item_type:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"",children:"Select type..."}),w.map(h=>n.jsx("option",{value:h,children:h},h))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),n.jsx("input",{type:"number",value:o.year||"",onChange:h=>c({...o,year:h.target.value?parseInt(h.target.value):void 0}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",min:1900,max:2100})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Player/Person Name"}),n.jsx("input",{type:"text",value:o.player_name||"",onChange:h=>c({...o,player_name:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Derek Jeter"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),n.jsx("input",{type:"text",value:o.team||"",onChange:h=>c({...o,team:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., New York Yankees"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand/Manufacturer"}),n.jsx("input",{type:"text",value:o.brand||"",onChange:h=>c({...o,brand:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Rawlings, Fanatics, Action Racing"})]}),n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Lt,{size:18,className:"text-green-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Authentication"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:o.is_authenticated,onChange:h=>c({...o,is_authenticated:h.target.checked}),className:"w-4 h-4 text-purple-600 rounded focus:ring-purple-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:"This item is authenticated"})]}),o.is_authenticated&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Authenticator"}),n.jsxs("select",{value:o.authenticator||"",onChange:h=>c({...o,authenticator:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"",children:"Select..."}),qj.map(h=>n.jsx("option",{value:h,children:h},h))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate #"}),n.jsx("input",{type:"text",value:o.cert_number||"",onChange:h=>c({...o,cert_number:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),n.jsx("input",{type:"text",value:o.size||"",onChange:h=>c({...o,size:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., XL, 8x10, 1/64"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),n.jsx("input",{type:"text",value:o.color||"",onChange:h=>c({...o,color:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., White, Navy Blue"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material"}),n.jsx("input",{type:"text",value:o.material||"",onChange:h=>c({...o,material:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Leather, Canvas"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),n.jsx("select",{value:o.condition,onChange:h=>c({...o,condition:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:Kj.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition Notes"}),n.jsx("input",{type:"text",value:o.condition_notes||"",onChange:h=>c({...o,condition_notes:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Any flaws or special notes..."})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:o.description||"",onChange:h=>c({...o,description:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:2,placeholder:"Additional details about the item..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:o.notes||"",onChange:h=>c({...o,notes:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:2,placeholder:"Internal notes..."})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t bg-gray-50",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:m.isPending||f.isPending,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:m.isPending||f.isPending?"Saving...":a?"Save Changes":"Add Item"})]})]})]})}):null}function Cb({item:e,onEdit:t,onDelete:s}){var r;return n.jsx("div",{className:"bg-white rounded-lg border shadow-sm hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e.title}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:((r=e.category)==null?void 0:r.name)||"Unknown"}),n.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:e.sport}),e.is_authenticated&&n.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded flex items-center gap-1",children:[n.jsx(Lt,{size:10}),e.authenticator||"Authenticated"]})]})]}),n.jsxs("div",{className:"flex gap-1 ml-2",children:[n.jsx("button",{onClick:t,className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",children:n.jsx(Qc,{size:16})}),n.jsx("button",{onClick:s,className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:n.jsx(rn,{size:16})})]})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[e.player_name&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Player:"})," ",n.jsx("span",{className:"text-gray-900",children:e.player_name})]}),e.team&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Team:"})," ",n.jsx("span",{className:"text-gray-900",children:e.team})]}),e.item_type&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Type:"})," ",n.jsx("span",{className:"text-gray-900",children:e.item_type})]}),e.year&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Year:"})," ",n.jsx("span",{className:"text-gray-900",children:e.year})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Condition:"})," ",n.jsx("span",{className:"text-gray-900",children:e.condition})]})]}),n.jsxs("div",{className:"mt-3 text-xs text-gray-400",children:["Added ",_b(e.created_at)]})]})})}function kb(){var k,I;const e=tt(),[t,s]=y.useState(!1),[r,l]=y.useState(null),[a,i]=y.useState(!1),[u,o]=y.useState(""),[c,p]=y.useState(""),[d,m]=y.useState(""),{data:f}=H({queryKey:["itemCategories"],queryFn:()=>W.standaloneItems.getItemCategories()}),{data:v,isLoading:N}=H({queryKey:["standaloneItems",u,c,d],queryFn:()=>W.standaloneItems.getStandaloneItems({category_id:u||void 0,sport:c||void 0,search:d||void 0,limit:100})}),{data:w}=H({queryKey:["standaloneItemStats"],queryFn:()=>W.standaloneItems.getStandaloneItemStats()}),h=ge({mutationFn:S=>W.standaloneItems.deleteStandaloneItem(S),onSuccess:()=>{e.invalidateQueries({queryKey:["standaloneItems"]}),e.invalidateQueries({queryKey:["standaloneItemStats"]})}}),x=S=>{confirm(`Delete "${S.title}"?`)&&h.mutate(S.id)},g=S=>{l(S),s(!0)},j=()=>{s(!1),l(null)},P=(f==null?void 0:f.filter(S=>S.slug!=="cards"))||[];return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Memorabilia & Collectibles"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage non-card inventory items"})]}),n.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[n.jsx(me,{size:18}),"Add Item"]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Items"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(w==null?void 0:w.total)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Memorabilia"}),n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((k=w==null?void 0:w.by_category)==null?void 0:k.Memorabilia)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Collectibles"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((I=w==null?void 0:w.by_category)==null?void 0:I.Collectibles)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Authenticated"}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:(w==null?void 0:w.authenticated)||0})]})]}),n.jsx("div",{className:"bg-white rounded-lg border p-4 mb-6",children:n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsx("div",{className:"flex-1 min-w-[200px] max-w-md",children:n.jsxs("div",{className:"relative",children:[n.jsx(tn,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search items...",value:d,onChange:S=>m(S.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})}),n.jsxs("select",{value:u,onChange:S=>o(S.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"",children:"All Categories"}),P.map(S=>n.jsx("option",{value:S.id,children:S.name},S.id))]}),n.jsxs("select",{value:c,onChange:S=>p(S.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"",children:"All Sports"}),Hp.map(S=>n.jsx("option",{value:S,children:S},S))]}),(u||c||d)&&n.jsx("button",{onClick:()=>{o(""),p(""),m("")},className:"px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Clear Filters"})]})}),N?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading items..."}):(v==null?void 0:v.length)===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ie,{className:"mx-auto h-12 w-12 text-gray-300"}),n.jsx("p",{className:"mt-4 text-gray-500",children:"No items found"}),n.jsx("button",{onClick:()=>s(!0),className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Add Your First Item"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v==null?void 0:v.map(S=>n.jsx(Cb,{item:S,onEdit:()=>g(S),onDelete:()=>x(S)},S.id))}),n.jsx(Sb,{isOpen:t,onClose:j,item:r,categories:P})]})}function Pb({isOpen:e,onClose:t,submitter:s}){const r=tt(),l=!!s,[a,i]=y.useState({name:"",code:"",website:"",contact_email:"",contact_phone:"",offers_grading:!0,offers_authentication:!0,is_active:!0,is_default:!1,notes:""}),[u,o]=y.useState(null);y.useEffect(()=>{e&&(i(s?{name:s.name,code:s.code||"",website:s.website||"",contact_email:s.contact_email||"",contact_phone:s.contact_phone||"",offers_grading:s.offers_grading,offers_authentication:s.offers_authentication,is_active:s.is_active,is_default:s.is_default,notes:s.notes||""}:{name:"",code:"",website:"",contact_email:"",contact_phone:"",offers_grading:!0,offers_authentication:!0,is_active:!0,is_default:!1,notes:""}),o(null))},[e,s]);const c=ge({mutationFn:f=>as.createSubmitter(f),onSuccess:()=>{r.invalidateQueries({queryKey:["submitters"]}),t()},onError:f=>o(f.message)}),p=ge({mutationFn:f=>as.updateSubmitter(s.id,f),onSuccess:()=>{r.invalidateQueries({queryKey:["submitters"]}),t()},onError:f=>o(f.message)}),d=c.isPending||p.isPending,m=()=>{if(!a.name.trim()){o("Name is required");return}l?p.mutate(a):c.mutate(a)};return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:n.jsx(Bc,{className:"text-indigo-600",size:20})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l?"Edit Submitter":"Add Submitter"})]}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(et,{size:20})})]}),n.jsxs("form",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[u&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[n.jsx(xs,{size:18}),n.jsx("span",{children:u})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",value:a.name,onChange:f=>i({...a,name:f.target.value}),placeholder:"e.g., PWCC, MySlabs, KK Sports",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Code"}),n.jsx("input",{type:"text",value:a.code||"",onChange:f=>i({...a,code:f.target.value}),placeholder:"e.g., PWCC, MSL",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),n.jsx("input",{type:"url",value:a.website||"",onChange:f=>i({...a,website:f.target.value}),placeholder:"https://...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),n.jsx("input",{type:"email",value:a.contact_email||"",onChange:f=>i({...a,contact_email:f.target.value}),placeholder:"contact@example.com",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),n.jsx("input",{type:"tel",value:a.contact_phone||"",onChange:f=>i({...a,contact_phone:f.target.value}),placeholder:"(555) 123-4567",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"checkbox",checked:a.offers_grading,onChange:f=>i({...a,offers_grading:f.target.checked}),className:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hr,{size:18,className:"text-blue-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Grading"})]})]}),n.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"checkbox",checked:a.offers_authentication,onChange:f=>i({...a,offers_authentication:f.target.checked}),className:"w-5 h-5 rounded text-green-600 focus:ring-green-500"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Lt,{size:18,className:"text-green-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Authentication"})]})]})]}),n.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"checkbox",checked:a.is_active,onChange:f=>i({...a,is_active:f.target.checked}),className:"w-5 h-5 rounded text-indigo-600 focus:ring-indigo-500"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Active"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Inactive submitters won't appear in dropdowns"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:a.notes||"",onChange:f=>i({...a,notes:f.target.value}),placeholder:"Any additional notes...",rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),n.jsx("button",{onClick:m,disabled:d,className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:d?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ze,{size:18}),l?"Save Changes":"Add Submitter"]})})]})]})}):null}function Eb({submitter:e,onEdit:t,onDelete:s,onSetDefault:r}){return n.jsxs("div",{className:`bg-white rounded-lg border shadow-sm p-4 ${e.is_active?"":"opacity-60"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),e.is_default&&n.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-amber-100 text-amber-700 text-xs rounded-full",children:[n.jsx($o,{size:12,fill:"currentColor"}),"Default"]}),!e.is_active&&n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:"Inactive"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[!e.is_default&&e.is_active&&n.jsx("button",{onClick:r,className:"p-1.5 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded",title:"Set as default",children:n.jsx($o,{size:16})}),n.jsx("button",{onClick:t,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",title:"Edit",children:n.jsx(_y,{size:16})}),!e.is_default&&n.jsx("button",{onClick:s,className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:n.jsx(rn,{size:16})})]})]}),e.code&&n.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Code: ",e.code]}),n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.offers_grading&&n.jsxs("span",{className:"flex items-center gap-1 text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:[n.jsx(hr,{size:12}),"Grading"]}),e.offers_authentication&&n.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600 bg-green-50 px-2 py-1 rounded",children:[n.jsx(Lt,{size:12}),"Authentication"]})]}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.website&&n.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-indigo-600",children:[n.jsx(Rp,{size:14}),e.website.replace(/^https?:\/\//,"")]}),e.contact_email&&n.jsxs("a",{href:`mailto:${e.contact_email}`,className:"flex items-center gap-2 hover:text-indigo-600",children:[n.jsx(Lp,{size:14}),e.contact_email]}),e.contact_phone&&n.jsxs("a",{href:`tel:${e.contact_phone}`,className:"flex items-center gap-2 hover:text-indigo-600",children:[n.jsx(Dp,{size:14}),e.contact_phone]})]})]})}function Ib(){const e=tt(),[t,s]=y.useState(!1),[r,l]=y.useState(null),[a,i]=y.useState(!1),{data:u,isLoading:o}=H({queryKey:["submitters",a],queryFn:()=>as.getSubmitters({active_only:!a})}),c=ge({mutationFn:h=>as.deleteSubmitter(h),onSuccess:()=>e.invalidateQueries({queryKey:["submitters"]})}),p=ge({mutationFn:h=>as.setDefaultSubmitter(h),onSuccess:()=>e.invalidateQueries({queryKey:["submitters"]})}),d=h=>{l(h),s(!0)},m=h=>{window.confirm(`Delete "${h.name}"? This cannot be undone.`)&&c.mutate(h.id)},f=h=>{p.mutate(h.id)},v=()=>{s(!1),l(null)},N=(u==null?void 0:u.filter(h=>h.is_active).length)||0,w=(u==null?void 0:u.length)||0;return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Submitters"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage third-party grading and authentication services"})]}),n.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(me,{size:18}),"Add Submitter"]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Active Submitters"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Grading Services"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(u==null?void 0:u.filter(h=>h.offers_grading&&h.is_active).length)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Auth Services"}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:(u==null?void 0:u.filter(h=>h.offers_authentication&&h.is_active).length)||0})]})]}),n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a,onChange:h=>i(h.target.checked),className:"w-4 h-4 rounded text-indigo-600 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Show inactive submitters"})]}),a&&w>N&&n.jsxs("span",{className:"text-sm text-gray-500",children:["(",w-N," inactive)"]})]}),o?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):(u==null?void 0:u.length)===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[n.jsx(Bc,{className:"mx-auto text-gray-400 mb-3",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No submitters yet"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Add your first third-party submission service"}),n.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[n.jsx(me,{size:18}),"Add Submitter"]})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u==null?void 0:u.map(h=>n.jsx(Eb,{submitter:h,onEdit:()=>d(h),onDelete:()=>m(h),onSetDefault:()=>f(h)},h.id))}),n.jsx(Pb,{isOpen:t,onClose:v,submitter:r})]})}const Tb=new Zg({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}}),zb=[{to:"/",icon:jy,label:"Dashboard"},{to:"/product-lines",icon:Ie,label:"Product Lines"},{to:"/checklists",icon:Pa,label:"Checklists"},{to:"/upload",icon:Vc,label:"Upload Checklist"},{to:"/inventory",icon:zp,label:"Inventory"},{to:"/memorabilia",icon:Za,label:"Memorabilia"},{to:"/consigners",icon:Hc,label:"Consigners"},{to:"/consignments",icon:Ap,label:"Consignments"},{to:"/grading",icon:hr,label:"Card Grading"},{to:"/authentication",icon:Cy,label:"Authentication"},{to:"/submitters",icon:Bc,label:"Submitters"},{to:"/purchases",icon:Kc,label:"Purchases"},{to:"/sales",icon:pr,label:"Sales"},{to:"/sales/ebay-import",icon:Up,label:"eBay Import"}];function Ke({children:e}){return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("aside",{className:"fixed inset-y-0 left-0 w-64 bg-slate-900 text-white flex flex-col",children:[n.jsxs("div",{className:"p-6",children:[n.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("span",{className:"text-2xl",children:""}),"Card Inventory"]}),n.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Management System"})]}),n.jsx("nav",{className:"mt-6 flex-1 overflow-y-auto",children:zb.map(t=>n.jsxs(kg,{to:t.to,className:({isActive:s})=>`flex items-center gap-3 px-6 py-3 text-sm transition-colors ${s?"bg-slate-800 text-white border-r-2 border-blue-500":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[n.jsx(t.icon,{size:18}),t.label]},t.to))}),n.jsx("div",{className:"border-t border-slate-800 p-4",children:n.jsx(My,{})})]}),n.jsx("main",{className:"ml-64 min-h-screen",children:e})]})}function Fb(){return n.jsx(ey,{client:Tb,children:n.jsx(zy,{children:n.jsx(wg,{children:n.jsxs(fg,{children:[n.jsx(Fe,{path:"/login",element:n.jsx(Oy,{})}),n.jsx(Fe,{path:"/",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx(Sj,{})})})}),n.jsx(Fe,{path:"/product-lines",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx(Cj,{})})})}),n.jsx(Fe,{path:"/checklists",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx(Pj,{})})})}),n.jsx(Fe,{path:"/upload",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx(Uj,{})})})}),n.jsx(Fe,{path:"/inventory",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx(Ej,{})})})}),n.jsx(Fe,{path:"/memorabilia",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx(kb,{})})})}),n.jsx(Fe,{path:"/consigners",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx(Yj,{})})})}),n.jsx(Fe,{path:"/consignments",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx(nb,{})})})}),n.jsx(Fe,{path:"/grading",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx(xb,{})})})}),n.jsx(Fe,{path:"/authentication",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx(bb,{})})})}),n.jsx(Fe,{path:"/submitters",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx(Ib,{})})})}),n.jsx(Fe,{path:"/purchases",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx(Oj,{})})})}),n.jsx(Fe,{path:"/sales",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx($j,{})})})}),n.jsx(Fe,{path:"/sales/ebay-import",element:n.jsx(Qe,{children:n.jsx(Ke,{children:n.jsx(wb,{})})})})]})})})})}Pi.createRoot(document.getElementById("root")).render(n.jsx(ih.StrictMode,{children:n.jsx(Fb,{})}));
